

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Apps, Engines and Frameworks &mdash; tk-core v0.22.5 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Utilities" href="utils.html" />
    <link rel="prev" title="Core" href="core.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
    <a href='https://help.autodesk.com/view/SGDEV/ENU/'>
    
        <img style='width: 191px;
                height: 60px;
                margin: 2px;
                border-radius: 0px;
                padding: 0px;'
            src='_static/logo@2x.png'/>
    
    </a>
    

          
          
          <a href="index.html" class="icon icon-home">
            tk-core
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="initializing.html">Initialization and startup</a></li>
<li class="toctree-l1"><a class="reference internal" href="core.html">Core</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Apps, Engines and Frameworks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#managing-engines-and-apps">Managing Engines and Apps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.platform.start_engine"><code class="docutils literal notranslate"><span class="pre">start_engine()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.platform.current_engine"><code class="docutils literal notranslate"><span class="pre">current_engine()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.platform.get_engine_path"><code class="docutils literal notranslate"><span class="pre">get_engine_path()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.platform.find_app_settings"><code class="docutils literal notranslate"><span class="pre">find_app_settings()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.platform.change_context"><code class="docutils literal notranslate"><span class="pre">change_context()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.platform.restart"><code class="docutils literal notranslate"><span class="pre">restart()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#engines">Engines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#engine-events">Engine Events</a></li>
<li class="toctree-l3"><a class="reference internal" href="#engine">Engine</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.platform.Engine"><code class="docutils literal notranslate"><span class="pre">Engine</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#applications">Applications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#application">Application</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.platform.Application"><code class="docutils literal notranslate"><span class="pre">Application</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#frameworks">Frameworks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#framework">Framework</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.platform.Framework"><code class="docutils literal notranslate"><span class="pre">Framework</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#exceptions">Exceptions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.platform.TankEngineInitError"><code class="docutils literal notranslate"><span class="pre">TankEngineInitError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.platform.TankEngineInitError.with_traceback"><code class="docutils literal notranslate"><span class="pre">TankEngineInitError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.platform.TankMissingEngineError"><code class="docutils literal notranslate"><span class="pre">TankMissingEngineError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.platform.TankMissingEngineError.with_traceback"><code class="docutils literal notranslate"><span class="pre">TankMissingEngineError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.platform.TankContextChangeNotSupportedError"><code class="docutils literal notranslate"><span class="pre">TankContextChangeNotSupportedError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.platform.TankContextChangeNotSupportedError.with_traceback"><code class="docutils literal notranslate"><span class="pre">TankContextChangeNotSupportedError.with_traceback()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#app-and-engine-development">App and Engine Development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#import-and-access-methods">Import and access methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.platform.current_bundle"><code class="docutils literal notranslate"><span class="pre">current_bundle()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.platform.get_framework"><code class="docutils literal notranslate"><span class="pre">get_framework()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.platform.import_framework"><code class="docutils literal notranslate"><span class="pre">import_framework()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.platform.get_logger"><code class="docutils literal notranslate"><span class="pre">get_logger()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#manifest-file">Manifest file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#display-name-and-description">Display name and Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">Frameworks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#version-constraints">Version constraints</a></li>
<li class="toctree-l4"><a class="reference internal" href="#supported-engines-and-operating-systems">Supported Engines and operating systems</a></li>
<li class="toctree-l4"><a class="reference internal" href="#documentation-and-support">Documentation and Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="#required-context-fields">Required Context Fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="#flow-production-tracking-fields">Flow Production Tracking fields</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#the-configuration-section">The configuration section</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sparse-configurations">Sparse configurations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-values-per-engine">Default values per engine</a></li>
<li class="toctree-l4"><a class="reference internal" href="#values-that-are-procedurally-populated-by-hooks">Values that are procedurally populated by hooks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#simple-data-types">Simple Data Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-config-path-data-type">The config_path data type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-publish-type-data-type">The publish_type data type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-shotgun-entity-type-data-type">The shotgun_entity_type data type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-shotgun-permission-group-data-type">The shotgun_permission_group data type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-shotgun-filter-data-type">The shotgun_filter data type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-template-data-type">The template data type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-hook-data-type">The hook data type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-list-data-type">The list data type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-dict-data-type">The dict data type</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#using-qt-inside-your-toolkit-app">Using QT inside your Toolkit App</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyside-qt4-emulation-layer">PySide - Qt4 emulation layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-dialogs">Creating Dialogs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modal-dialogs-and-exit-codes">Modal dialogs and exit codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hiding-the-default-toolkit-title-bar">Hiding the default Toolkit title bar</a></li>
<li class="toctree-l3"><a class="reference internal" href="#styling-your-toolkit-app">Styling your Toolkit App</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="descriptor.html">Descriptors</a></li>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment_variables.html">Environment Variables</a></li>
</ul>


    <a href='genindex.html'>Alphabetic Index</a>

    <div style='margin-top: 50px;
                margin-left: 10px;
                margin-right: 10px;
                padding: 10px;
                color: #b3b3b3;
                font-size: 70%;
                border-radius: 3px;
                background-color: #444;
                line-height: 18px;
                '>
    <style>
        a.custom_post_menu { display: inline;
                             padding: 0px;
                             text-decoration: underline; }
    </style>

    <b>tk-core</b> v0.22.5.<br>
    
        This documentation is part of the Flow Production Tracking.
    
    For more information, please visit
    <a class=custom_post_menu href='https://help.autodesk.com/view/SGDEV/ENU/'>The Flow Production Tracking developer portal.</a>.
    The code associated with this documentation can be found
    <a class=custom_post_menu href='https://github.com/shotgunsoftware/tk-core'>here</a>.

    </div>
    <style>
        p.privacy_links { margin: 4px 0px;}
    </style>
    <p class="privacy_links"><a data-opt-in-preferences href="javascript:;">Privacy settings</a></p>
    <p class="privacy_links"><a data-wat-linkname="manage-ccpa-settings-footer-link" href="javascript:;">Do not sell my personal information</a></p>
    <p class="privacy_links"><a href="https://www.autodesk.com/company/legal-notices-trademarks/privacy-statement">Privacy/Cookies</a></p>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">tk-core</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Apps, Engines and Frameworks</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="apps-engines-and-frameworks">
<span id="sgtk-platform-docs"></span><span id="id1"></span><h1>Apps, Engines and Frameworks<a class="headerlink" href="#apps-engines-and-frameworks" title="Permalink to this heading"></a></h1>
<p>This part of the API documentation covers all the classes and methods used when dealing with Engines, Apps and Frameworks.
If you are interested in developing your own apps, engines or frameworks, the base classes needed to be derived
from are outlined below. The documentation also covers how to initialize and shut down the Toolkit engine platform.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order to use the functionality of <code class="docutils literal notranslate"><span class="pre">sgtk.platform</span></code>, you need to run it
from an initialized toolkit environment. For more information on how to
set this up, see <a class="reference internal" href="initializing.html#init-and-startup"><span class="std std-ref">Initialization and startup</span></a>.</p>
</div>
<section id="managing-engines-and-apps">
<h2>Managing Engines and Apps<a class="headerlink" href="#managing-engines-and-apps" title="Permalink to this heading"></a></h2>
<p>The methods in this section are used when you want to start up or manage a Toolkit engine.
This typically happens directly once a host application (e.g. Maya or Nuke) has been launched.
A running engine typically needs to be terminated before a new engine can be started. The method
for terminating an engine can be found on the engine class itself. Methods defining a standard
interface for launching host applications are also provided.</p>
<dl class="py function">
<dt class="sig sig-object py" id="sgtk.platform.start_engine">
<span class="sig-prename descclassname"><span class="pre">sgtk.platform.</span></span><span class="sig-name descname"><span class="pre">start_engine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#start_engine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.start_engine" title="Permalink to this definition"></a></dt>
<dd><p>Creates an engine and makes it the current engine.
Returns the newly created engine object. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio/project_root&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">context_empty</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">engine</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">start_engine</span><span class="p">(</span><span class="s1">&#39;tk-maya&#39;</span><span class="p">,</span> <span class="n">tk</span><span class="p">,</span> <span class="n">ctx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">engine</span>
<span class="go">&lt;Sgtk Engine 0x10451b690: tk-maya, env: shotgun&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is for advanced workflows. For standard use
cases, use <a class="reference internal" href="initializing.html#sgtk.bootstrap.ToolkitManager.bootstrap_engine" title="sgtk.bootstrap.ToolkitManager.bootstrap_engine"><code class="xref py py-meth docutils literal notranslate"><span class="pre">bootstrap_engine()</span></code></a>.
For more information, see <a class="reference internal" href="initializing.html#init-and-startup"><span class="std std-ref">Initialization and startup</span></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>engine_name</strong> – Name of the engine to launch, e.g. tk-maya</p></li>
<li><p><strong>tk</strong> – <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sgtk</span></code></a> instance to associate the engine with</p></li>
<li><p><strong>context</strong> – <a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a> object of the context to launch the engine for.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sgtk.platform.Engine" title="sgtk.platform.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> instance</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sgtk.platform.TankEngineInitError" title="sgtk.platform.TankEngineInitError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankEngineInitError</span></code></a> if an engine could not be started
for the passed context.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.platform.current_engine">
<span class="sig-prename descclassname"><span class="pre">sgtk.platform.</span></span><span class="sig-name descname"><span class="pre">current_engine</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#current_engine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.current_engine" title="Permalink to this definition"></a></dt>
<dd><p>Returns the currently active engine.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sgtk.platform.Engine" title="sgtk.platform.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> instance or None if no engine is running.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.platform.get_engine_path">
<span class="sig-prename descclassname"><span class="pre">sgtk.platform.</span></span><span class="sig-name descname"><span class="pre">get_engine_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#get_engine_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.get_engine_path" title="Permalink to this definition"></a></dt>
<dd><p>Returns the path to the engine corresponding to the given engine name or
None if the engine could not be found.</p>
<p>Similar to <a class="reference internal" href="#sgtk.platform.start_engine" title="sgtk.platform.start_engine"><code class="xref py py-meth docutils literal notranslate"><span class="pre">start_engine()</span></code></a>, but instead of starting an engine, this method
returns the path to a suitable engine. This helper method is sometimes useful
when initializing engines for applications that do not have a built in python interpreter.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio/project_root&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">context_empty</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">get_engine_path</span><span class="p">(</span><span class="s1">&#39;tk-maya&#39;</span><span class="p">,</span> <span class="n">tk</span><span class="p">,</span> <span class="n">ctx</span><span class="p">)</span>
<span class="go">/studio/sgtk/install/engines/app_store/tk-maya/v0.1.0</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>engine_name</strong> – Name of the engine to launch, e.g. tk-maya</p></li>
<li><p><strong>tk</strong> – <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sgtk</span></code></a> instance to associate the engine with</p></li>
<li><p><strong>context</strong> – <a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a> object of the context to launch the engine for.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Path to where the engine code is located on disk.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.platform.find_app_settings">
<span class="sig-prename descclassname"><span class="pre">sgtk.platform.</span></span><span class="sig-name descname"><span class="pre">find_app_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_instance_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#find_app_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.find_app_settings" title="Permalink to this definition"></a></dt>
<dd><p>Utility method to find the settings for an app in an engine in the
environment determined for the context by pick environment hook.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>engine_name</strong> – system name of the engine to look for, e.g tk-maya</p></li>
<li><p><strong>app_name</strong> – system name of the app to look for, e.g. tk-multi-publish</p></li>
<li><p><strong>tk</strong> – <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sgtk</span></code></a> instance</p></li>
<li><p><strong>context</strong> – <a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a> object to use when picking environment</p></li>
<li><p><strong>engine_instance_name</strong> – The instance name of the engine to look for.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of dictionaries containing the engine name,
application name and settings for any matching
applications that are found and that have valid
settings</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.platform.change_context">
<span class="sig-prename descclassname"><span class="pre">sgtk.platform.</span></span><span class="sig-name descname"><span class="pre">change_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_context</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/util.html#change_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.change_context" title="Permalink to this definition"></a></dt>
<dd><p>Running change_context will attempt to change the context the engine and
its apps are running in on the fly. The current engine must accept the
context change, otherwise a full restart of the engine will be run instead.</p>
<p>The determination of whether an engine supports context changing comes from
its “context_change_allowed” property. If that property returns True, then
the context change will be allowed to proceed. If it returns False, then
the engine’s “change_context” method will raise
<a class="reference internal" href="#sgtk.platform.TankContextChangeNotSupportedError" title="sgtk.platform.TankContextChangeNotSupportedError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankContextChangeNotSupportedError</span></code></a>, which will then trigger a restart of
the engine and all of its apps.</p>
<p>In the event that the engine does support context changes, any apps that
support context changing will do so, as well. Any that do not will themselves
be restarted within the new context.</p>
<p>The benefit of supporting context changes in engines and apps is speed. The
end result of this routine should be identical to that of a restart, but
will require less time to complete.</p>
<p>For more information on supporting context changing, see the following:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#sgtk.platform.Engine.context_change_allowed" title="sgtk.platform.Engine.context_change_allowed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.context_change_allowed()</span></code></a></p></li>
<li><p><a class="reference internal" href="#sgtk.platform.Application.context_change_allowed" title="sgtk.platform.Application.context_change_allowed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Application.context_change_allowed()</span></code></a></p></li>
<li><p><a class="reference internal" href="#sgtk.platform.change_context" title="sgtk.platform.change_context"><code class="xref py py-meth docutils literal notranslate"><span class="pre">change_context()</span></code></a></p></li>
<li><p><a class="reference internal" href="#sgtk.platform.Application.change_context" title="sgtk.platform.Application.change_context"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Application.change_context()</span></code></a></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_context</strong> (<a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The new Context to change to.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.platform.restart">
<span class="sig-prename descclassname"><span class="pre">sgtk.platform.</span></span><span class="sig-name descname"><span class="pre">restart</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/util.html#restart"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.restart" title="Permalink to this definition"></a></dt>
<dd><p>Restarts the currently running Toolkit platform. This includes reloading all
configuration files as well as reloading the code for all apps and engines.
(The Core API, however, is not reloaded). The call does not take any parameters
and does not return any value.</p>
<p>Any open windows will remain open and will use the old code base and settings.
In order to access any changes that have happened as part of a reload, you need
to start up new app windows (typically done via the Shotgun menu) and these will
use the fresh code and configs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_context</strong> (<a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The new Context to start the engine in, if desired. Default behavior
is to restart the engine with its current context.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="engines">
<span id="id2"></span><h2>Engines<a class="headerlink" href="#engines" title="Permalink to this heading"></a></h2>
<p>A Toolkit engine connects a runtime environment such as a DCC with the rest of the Toolkit ecosystem.
As the engine starts up, it loads the various associated apps and frameworks defined in the configuration and acts
as a host for all these objects, ensuring that they can operate in a consistent fashion across integrations.</p>
<p><strong>Information for App Developers</strong></p>
<p>If you are developing an app, you typically call out to the engine via the <a class="reference internal" href="#sgtk.platform.Application.engine" title="sgtk.platform.Application.engine"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Application.engine()</span></code></a> accessor.
You use the engine for a couple of main things:</p>
<ul class="simple">
<li><p>Dialog UI creation via <a class="reference internal" href="#sgtk.platform.Engine.show_dialog" title="sgtk.platform.Engine.show_dialog"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.show_dialog()</span></code></a>, <a class="reference internal" href="#sgtk.platform.Engine.show_modal" title="sgtk.platform.Engine.show_modal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.show_modal()</span></code></a> or <a class="reference internal" href="#sgtk.platform.Engine.show_panel" title="sgtk.platform.Engine.show_panel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.show_panel()</span></code></a></p></li>
<li><p>Command registration via <a class="reference internal" href="#sgtk.platform.Engine.register_command" title="sgtk.platform.Engine.register_command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.register_command()</span></code></a></p></li>
</ul>
<p>The engine acts as a bridge between the DCC and the App so that the app doesn’t have to
contain DCC-specific code to create dialogs or manage menus etc. Typically, any DCC specific code
is contained within a <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a>, making it easy to design apps that
can be extended easily to support new engine environments.</p>
<p><strong>Information for Engine developers</strong></p>
<p>The engine is a collection of files, similar in structure to an App. It has an <code class="docutils literal notranslate"><span class="pre">engine.py</span></code> file and this must
derive from the <a class="reference internal" href="#sgtk.platform.Engine" title="sgtk.platform.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> Base class. Different engines then re-implement various aspect of this base
class depending on their internal complexity. A summary of functionality include:</p>
<ul class="simple">
<li><p>The base class exposes various init and destroy methods which are executed at various points in the startup
process. These can be overridden to control startup and shutdown execution.</p></li>
<li><p>The engine provides a commands dictionary containing all the command objects registered by apps.
This is typically accessed when menu entries are created.</p></li>
<li><p>Methods for displaying UI dialogs and windows can be overridden if the way the engine runs QT
does not the default base class behavior.</p></li>
</ul>
<p>The typical things an engine needs to handle are:</p>
<ul class="simple">
<li><p>Menu management. At engine startup, once the apps have been loaded, the engine needs to create
its Flow Production Tracking menu and add the various apps to this menu.</p></li>
<li><p>Logging methods are typically overridden to write to the application log.</p></li>
<li><p>UI methods are typically overridden to ensure seamless integration of Windows launched by Toolkit apps
and the underlying host application window management setup. Engines are launched via the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">stgk.platform.start_engine()</span></code> command. This command will read the configuration files,
launch the engines, load all apps etc. The goal with the engine is that once it has launched,
the it provides a consistent python/QT interface to the apps. Since all engines implement the
same base class, apps can call methods on the engines to for example create UIs. It is up to each
engine to implement these methods so that they work nicely inside the host application.</p></li>
<li><p>An interface to startup DCC applications that centralizes the business logic of discovering executable
paths, setting a proper environment for launch, and initializing toolkit integration during the launch
phase. This is described in detail in the <a class="reference internal" href="initializing.html#launching-software"><span class="std std-ref">Launching Software</span></a> section.</p></li>
</ul>
<section id="engine-events">
<h3>Engine Events<a class="headerlink" href="#engine-events" title="Permalink to this heading"></a></h3>
<p>Engines have the ability to emit events that can then be handled by Toolkit Apps. The design follows closely
that of Qt’s events, where event handler methods can be implemented in a Toolkit App to execute custom
behavior tied to specific event types.</p>
<p><strong>Emitting Engine Events</strong></p>
<p>It is an engine’s responsibility to monitor its host DCC application’s event or signalling frameworks to
then emit its associated event. The example below is listening for a Qt signal from a host’s “frontend”
handle and then emits a FileOpenEvent:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">pre_app_init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Runs before apps are initialized.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">frontend</span><span class="o">.</span><span class="n">file_opened</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle_file_open</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">_handle_file_open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Emits a file open event that apps can listen for.</span>

<span class="sd">    :param str file_path: The path of the file opened.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">event</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">FileOpenEvent</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log_debug</span><span class="p">(</span><span class="s2">&quot;Emitting event </span><span class="si">%s</span><span class="s2">...&quot;</span> <span class="o">%</span> <span class="n">event</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_emit_event</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Handling Engine Events</strong></p>
<p>Toolkit Apps can receive and handle an event in one of two ways:</p>
<ul class="simple">
<li><p>Override the type specific event handler. The advantages of this approach to event handling is that
there is no need to type check the event before handling it, and the slight performance benefit of
only running custom logic when an event of the type you’re interested in is emitted. In the case of
a file-open event, the Toolkit App’s <a class="reference internal" href="#sgtk.platform.Application.event_file_open" title="sgtk.platform.Application.event_file_open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Application.event_file_open()</span></code></a> method would be reimplemented.</p></li>
<li><p>Override the generic event handler. Every engine event that is emitted, regardless of type, will be
sent to the Toolkit App’s <code class="xref py py-meth docutils literal notranslate"><span class="pre">Application.event_engine(event)()</span></code> method. The approach to handling an
engine event in this manner would be to type check the given event object using <code class="docutils literal notranslate"><span class="pre">isinstance()</span></code> and run
the appropriate logic according to the results.</p></li>
</ul>
<p>In the example below, the Toolkit App has reimplemented the <a class="reference internal" href="#sgtk.platform.Application.event_file_open" title="sgtk.platform.Application.event_file_open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Application.event_file_open()</span></code></a> method in
order to execute custom logic when the parent <a class="reference internal" href="#sgtk.platform.Engine" title="sgtk.platform.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> has indicated that a new file has been
opened by the host DCC application:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">event_file_open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles event notifications from the parent engine.</span>

<span class="sd">    :param event: The event object that was emitted.</span>
<span class="sd">    :type event: :class:`~sgtk.platform.events.FileOpenEvent`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">log_debug</span><span class="p">(</span><span class="s2">&quot;Handling event: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">event</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_version_entity_by_file</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">event</span><span class="o">.</span><span class="n">file_path</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="engine">
<h3>Engine<a class="headerlink" href="#engine" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.platform.Engine">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.platform.</span></span><span class="sig-name descname"><span class="pre">Engine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine_instance_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine" title="Permalink to this definition"></a></dt>
<dd><p>Base class for an engine. When a new DCC integration is created, it should
derive from this class.</p>
<p>Engine instances are constructed by the toolkit launch process
and various factory methods such as <a class="reference internal" href="#sgtk.platform.start_engine" title="sgtk.platform.start_engine"><code class="xref py py-meth docutils literal notranslate"><span class="pre">start_engine()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tk</strong> – <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sgtk</span></code></a> instance</p></li>
<li><p><strong>context</strong> (<a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – A context object to define the context on disk where the engine is operating</p></li>
<li><p><strong>engine_instance_name</strong> – The name of the engine as it has been defined in the environment.</p></li>
<li><p><strong>env</strong> – An Environment object to associate with this engine.</p></li>
</ul>
</dd>
</dl>
<p><strong>Engine Customizations</strong></p>
<p>The following methods can be used by subclasses to customize engine
behavior.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine._create_dialog">
<span class="sig-name descname"><span class="pre">_create_dialog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bundle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">widget</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine._create_dialog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine._create_dialog" title="Permalink to this definition"></a></dt>
<dd><p>Create a TankQDialog with the specified widget embedded. This also connects to the
dialogs dialog_closed event so that it can clean up when the dialog is closed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information, see the documentation for <a class="reference internal" href="#sgtk.platform.Engine.show_dialog" title="sgtk.platform.Engine.show_dialog"><code class="xref py py-meth docutils literal notranslate"><span class="pre">show_dialog()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>title</strong> – The title of the window</p></li>
<li><p><strong>bundle</strong> – The app, engine or framework object that is associated with this window</p></li>
<li><p><strong>widget</strong> (<a class="reference external" href="http://pyside.github.io/docs/pyside/PySide/QtGui/QWidget.html#PySide.QtGui.QWidget" title="(in PySide v1.2.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PySide.QtGui.QWidget</span></code></a>) – A QWidget instance to be embedded in the newly created dialog.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine._create_dialog_with_widget">
<span class="sig-name descname"><span class="pre">_create_dialog_with_widget</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bundle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">widget_class</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine._create_dialog_with_widget"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine._create_dialog_with_widget" title="Permalink to this definition"></a></dt>
<dd><p>Convenience method to create an sgtk TankQDialog with a widget instantiated from
widget_class embedded in the main section.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information, see the documentation for <a class="reference internal" href="#sgtk.platform.Engine.show_dialog" title="sgtk.platform.Engine.show_dialog"><code class="xref py py-meth docutils literal notranslate"><span class="pre">show_dialog()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>title</strong> – The title of the window</p></li>
<li><p><strong>bundle</strong> – The app, engine or framework object that is associated with this window</p></li>
<li><p><strong>widget_class</strong> (<a class="reference external" href="http://pyside.github.io/docs/pyside/PySide/QtGui/QWidget.html#PySide.QtGui.QWidget" title="(in PySide v1.2.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PySide.QtGui.QWidget</span></code></a>) – The class of the UI to be constructed. This must derive from QWidget.</p></li>
</ul>
</dd>
</dl>
<p>Additional parameters specified will be passed through to the widget_class constructor.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine._create_widget">
<span class="sig-name descname"><span class="pre">_create_widget</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">widget_class</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine._create_widget"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine._create_widget" title="Permalink to this definition"></a></dt>
<dd><p>Create an instance of the specified widget_class.  This wraps the widget_class so that
the TankQDialog it is embedded in can connect to it more easily in order to handle the
close event.</p>
<p>When overriding in a derived engine, be sure to call the base implementations of
<a class="reference internal" href="#sgtk.platform.Engine._create_widget" title="sgtk.platform.Engine._create_widget"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_create_widget()</span></code></a> and <a class="reference internal" href="#sgtk.platform.Engine._create_dialog" title="sgtk.platform.Engine._create_dialog"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_create_dialog()</span></code></a> to ensure that all
dialogs and widgets are tracked efficiently and safely.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information, see the documentation for <a class="reference internal" href="#sgtk.platform.Engine.show_dialog" title="sgtk.platform.Engine.show_dialog"><code class="xref py py-meth docutils literal notranslate"><span class="pre">show_dialog()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>widget_class</strong> (<a class="reference external" href="http://pyside.github.io/docs/pyside/PySide/QtGui/QWidget.html#PySide.QtGui.QWidget" title="(in PySide v1.2.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PySide.QtGui.QWidget</span></code></a>) – The class of the UI to be constructed. This must derive from QWidget.</p>
</dd>
</dl>
<p>Additional parameters specified will be passed through to the widget_class constructor.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine._define_qt_base">
<span class="sig-name descname"><span class="pre">_define_qt_base</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine._define_qt_base"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine._define_qt_base" title="Permalink to this definition"></a></dt>
<dd><p>This will be called at initialisation time and will allow
a user to control various aspects of how QT is being used
by Tank. The method should return a dictionary with a number
of specific keys, outlined below.</p>
<ul class="simple">
<li><p>qt_core - the QtCore module to use</p></li>
<li><p>qt_gui - the QtGui module to use</p></li>
<li><p>wrapper - the Qt wrapper root module, e.g. PySide</p></li>
<li><p>dialog_base - base class for to use for Tank’s dialog factory</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine._emit_event">
<span class="sig-name descname"><span class="pre">_emit_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine._emit_event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine._emit_event" title="Permalink to this definition"></a></dt>
<dd><p>Called by the engine whenever an event is to be emitted to child
apps of this engine.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Events will be emitted and child apps notified immediately.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Some event types might be triggered quite frequently. Apps
that react to events should do so in a way that is aware of
the potential performance impact of their actions.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>event</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">EngineEvent</span></code>) – The event object that will be emitted.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine._emit_log_message">
<span class="sig-name descname"><span class="pre">_emit_log_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handler</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine._emit_log_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine._emit_log_message" title="Permalink to this definition"></a></dt>
<dd><p>Called by the engine whenever a new log message is available.
All log messages from the toolkit logging namespace will be passed to this method.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To implement logging in your engine implementation, subclass
this method and display the record in a suitable way - typically
this means sending it to a built-in DCC console. In addition to this,
ensure that your engine implementation <em>does not</em> subclass
the (old) <a class="reference internal" href="#sgtk.platform.Engine.log_debug" title="sgtk.platform.Engine.log_debug"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.log_debug()</span></code></a>, <a class="reference internal" href="#sgtk.platform.Engine.log_info" title="sgtk.platform.Engine.log_info"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.log_info()</span></code></a> family
of logging methods.</p>
<p>For a consistent output, use the formatter that is associated with
the log handler that is passed in. A basic implementation of
this method could look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># call out to handler to format message in a standard way</span>
<span class="n">msg_str</span> <span class="o">=</span> <span class="n">handler</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>

<span class="c1"># display message</span>
<span class="nb">print</span> <span class="n">msg_str</span>
</pre></div>
</div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method may be executing called from worker threads. In DCC
environments, where it is important that the console/logging output
always happens in the main thread, it is recommended that you
use the <a class="reference internal" href="#sgtk.platform.Engine.async_execute_in_main_thread" title="sgtk.platform.Engine.async_execute_in_main_thread"><code class="xref py py-meth docutils literal notranslate"><span class="pre">async_execute_in_main_thread()</span></code></a> to ensure that your
logging code is writing to the DCC console in the main thread.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handler</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">LogHandler</span></code>) – Log handler that this message was dispatched from</p></li>
<li><p><strong>record</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">LogRecord</span></code>) – Std python logging record</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine._ensure_core_fonts_loaded">
<span class="sig-name descname"><span class="pre">_ensure_core_fonts_loaded</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine._ensure_core_fonts_loaded"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine._ensure_core_fonts_loaded" title="Permalink to this definition"></a></dt>
<dd><p>Loads the Shotgun approved fonts that are bundled with tk-core.</p>
<p>This method ensures that the Shotgun approved fonts bundled with core
are loaded into Qt’s font database. This allows them to be used by apps
for a consistent look and feel.</p>
<p>If a QApplication exists during engine initialization, it is not
necessary to call this method. Similarly, subclasses that make use of
core’s bundled dark look and feel will have the bundled fonts loaded
automatically.</p>
<p>This method can/should be called by subclasses that meet the following
criteria:</p>
<blockquote>
<div><ul class="simple">
<li><p>Create their own <code class="docutils literal notranslate"><span class="pre">QApplication</span></code> instance after engine init</p></li>
<li><p>Do not use the bundled dark look and feel.</p></li>
<li><p>Have overridden <code class="docutils literal notranslate"><span class="pre">Engine._create_dialog()</span></code>.</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine._get_dialog_parent">
<span class="sig-name descname"><span class="pre">_get_dialog_parent</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine._get_dialog_parent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine._get_dialog_parent" title="Permalink to this definition"></a></dt>
<dd><p>Get the QWidget parent for all dialogs created through <a class="reference internal" href="#sgtk.platform.Engine.show_dialog" title="sgtk.platform.Engine.show_dialog"><code class="xref py py-meth docutils literal notranslate"><span class="pre">show_dialog()</span></code></a> <a class="reference internal" href="#sgtk.platform.Engine.show_modal" title="sgtk.platform.Engine.show_modal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">show_modal()</span></code></a>.</p>
<p>Can be overriden in derived classes to return the QWidget to be used as the parent
for all TankQDialog’s.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>QT Parent window (<a class="reference external" href="http://pyside.github.io/docs/pyside/PySide/QtGui/QWidget.html#PySide.QtGui.QWidget" title="(in PySide v1.2.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PySide.QtGui.QWidget</span></code></a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine._initialize_dark_look_and_feel">
<span class="sig-name descname"><span class="pre">_initialize_dark_look_and_feel</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine._initialize_dark_look_and_feel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine._initialize_dark_look_and_feel" title="Permalink to this definition"></a></dt>
<dd><p>Initializes a standard toolkit look and feel using a combination of
QPalette and stylesheets.</p>
<p>If your engine is running inside an environment which already has
a dark style defined, do not call this method. The Toolkit apps are
designed to work well with most dark themes.</p>
<p>However, if you are for example creating your own QApplication instance
you can execute this method to put the session into Toolkit’s
standard dark mode.</p>
<p>This will initialize the plastique style (for Qt4) or the fusion style
(for Qt5/Qt6), and set it up with a standard dark palette and supporting
stylesheet.</p>
<p><a class="reference external" href="https://doc.qt.io/qt-5.10/qapplication.html#setStyle-1">Qt5 setStyle documentation</a>
<a class="reference external" href="https://doc.qt.io/qt-6/qapplication.html#setStyle-1">Qt6 setStyle documentation</a></p>
<p>Apps and UIs can then extend this further by using further css.</p>
<p>Due to restrictions in QT, this needs to run after a QApplication object
has been instantiated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine._on_dialog_closed">
<span class="sig-name descname"><span class="pre">_on_dialog_closed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dlg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine._on_dialog_closed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine._on_dialog_closed" title="Permalink to this definition"></a></dt>
<dd><p>Called when a dialog created by this engine is closed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dlg</strong> (<a class="reference external" href="http://pyside.github.io/docs/pyside/PySide/QtGui/QWidget.html#PySide.QtGui.QWidget" title="(in PySide v1.2.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PySide.QtGui.QWidget</span></code></a>) – The dialog being closed</p>
</dd>
</dl>
<p>Derived implementations of this method should be sure to call
the base implementation</p>
</dd></dl>

<p><strong>Instance Methods &amp; Properties</strong></p>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.get_metrics_properties">
<span class="sig-name descname"><span class="pre">get_metrics_properties</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.get_metrics_properties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.get_metrics_properties" title="Permalink to this definition"></a></dt>
<dd><p>Returns a dictionary with properties to use when emitting a metric event for
this engine.</p>
<p>The dictionary contains information about this engine: its name and version,
and informations about the application hosting the engine: its name and
version:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;Host App&#39;</span><span class="p">:</span> <span class="s1">&#39;Maya&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Host App Version&#39;</span><span class="p">:</span> <span class="s1">&#39;2017&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Engine&#39;</span><span class="p">:</span> <span class="s1">&#39;tk-maya&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Engine Version&#39;</span><span class="p">:</span> <span class="s1">&#39;v0.4.1&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary with metrics properties as per above.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.shotgun">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shotgun</span></span><a class="headerlink" href="#sgtk.platform.Engine.shotgun" title="Permalink to this definition"></a></dt>
<dd><p>Returns a Shotgun API handle associated with the currently running
environment. This method is a convenience method that calls out
to <code class="xref py py-meth docutils literal notranslate"><span class="pre">shotgun()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Shotgun API handle</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.environment">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">environment</span></span><a class="headerlink" href="#sgtk.platform.Engine.environment" title="Permalink to this definition"></a></dt>
<dd><p>A dictionary with information about the environment.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dictionary with keys <code class="docutils literal notranslate"><span class="pre">name</span></code>,
<code class="docutils literal notranslate"><span class="pre">description</span></code> and <code class="docutils literal notranslate"><span class="pre">disk_location</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.instance_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">instance_name</span></span><a class="headerlink" href="#sgtk.platform.Engine.instance_name" title="Permalink to this definition"></a></dt>
<dd><p>The instance name for this engine. The instance name
is the entry that is defined in the environment file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>instance name as string, e.g. <code class="docutils literal notranslate"><span class="pre">tk-maya</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.apps">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">apps</span></span><a class="headerlink" href="#sgtk.platform.Engine.apps" title="Permalink to this definition"></a></dt>
<dd><p>Dictionary of apps associated with this engine</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dictionary with keys being app name and values being app objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.commands">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">commands</span></span><a class="headerlink" href="#sgtk.platform.Engine.commands" title="Permalink to this definition"></a></dt>
<dd><p>A dictionary representing all the commands that have been registered
by apps in this engine via <a class="reference internal" href="#sgtk.platform.Engine.register_command" title="sgtk.platform.Engine.register_command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_command()</span></code></a>.
Each dictionary item contains the following keys:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">callback</span></code> - function pointer to function to execute for this command</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">properties</span></code> - dictionary with free form options - these are typically
engine specific and driven by convention.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>commands dictionary, keyed by command name</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.panels">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">panels</span></span><a class="headerlink" href="#sgtk.platform.Engine.panels" title="Permalink to this definition"></a></dt>
<dd><p>Panels which have been registered with the engine via the <a class="reference internal" href="#sgtk.platform.Engine.register_panel" title="sgtk.platform.Engine.register_panel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_panel()</span></code></a>
method. Returns a dictionary keyed by panel unique ids. Each value is a dictionary with keys
<code class="docutils literal notranslate"><span class="pre">callback</span></code> and <code class="docutils literal notranslate"><span class="pre">properties</span></code>.</p>
<p>Returns all the panels which have been registered with the engine.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary keyed by panel unique ids. Each value is a dictionary
with keys ‘callback’ and ‘properties’</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.has_ui">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">has_ui</span></span><a class="headerlink" href="#sgtk.platform.Engine.has_ui" title="Permalink to this definition"></a></dt>
<dd><p>Indicates that the host application that the engine is connected to has a UI enabled.
This always returns False for some engines (such as the shell engine) and may vary
for some engines, depending if the host application for example is in batch mode or
UI mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>boolean value indicating if a UI currently exists</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.has_qt5">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">has_qt5</span></span><a class="headerlink" href="#sgtk.platform.Engine.has_qt5" title="Permalink to this definition"></a></dt>
<dd><p>Indicates that the host application has access to Qt 5 and that the <code class="docutils literal notranslate"><span class="pre">sgtk.platform.qt5</span></code>  module
has been populated with the Qt 5 modules and information.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns bool<span class="colon">:</span></dt>
<dd class="field-odd"><p>boolean value indicating if Qt 5 is available.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.has_qt6">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">has_qt6</span></span><a class="headerlink" href="#sgtk.platform.Engine.has_qt6" title="Permalink to this definition"></a></dt>
<dd><p>Indicates that the host application has access to Qt 6 and that the <code class="docutils literal notranslate"><span class="pre">sgtk.platform.qt6</span></code> module
has been populated with the Qt 6 modules and information.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns bool<span class="colon">:</span></dt>
<dd class="field-odd"><p>boolean value indicating if Qt 6 is available.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.metrics_dispatch_allowed">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metrics_dispatch_allowed</span></span><a class="headerlink" href="#sgtk.platform.Engine.metrics_dispatch_allowed" title="Permalink to this definition"></a></dt>
<dd><p>Indicates this engine will allow the metrics worker threads to forward
the user metrics logged via core, this engine, or registered apps to
PTR.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>boolean value indicating that the engine allows user metrics
to be forwarded to PTR.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.created_qt_dialogs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">created_qt_dialogs</span></span><a class="headerlink" href="#sgtk.platform.Engine.created_qt_dialogs" title="Permalink to this definition"></a></dt>
<dd><p>A list of dialog objects that have been created by the engine.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of TankQDialog objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.host_info">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">host_info</span></span><a class="headerlink" href="#sgtk.platform.Engine.host_info" title="Permalink to this definition"></a></dt>
<dd><p>Returns information about the application hosting this engine.</p>
<p>This should be re-implemented in deriving classes to handle the logic
specific to the application the engine is designed for.</p>
<p>A dictionary with at least a “name” and a “version” key should be returned
by derived implementations, with respectively the host application name
and its release string as values, e.g. <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Maya&quot;,</span> <span class="pre">&quot;version&quot;:</span> <span class="pre">&quot;2017.3&quot;}</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <code class="docutils literal notranslate"><span class="pre">{&quot;name&quot;:</span> <span class="pre">&quot;unknown&quot;,</span> <span class="pre">&quot;version&quot;</span> <span class="pre">:</span> <span class="pre">&quot;unknown&quot;}</span></code> dictionary.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.register_toggle_debug_command">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">register_toggle_debug_command</span></span><a class="headerlink" href="#sgtk.platform.Engine.register_toggle_debug_command" title="Permalink to this definition"></a></dt>
<dd><p>Indicates whether the engine should have a toggle debug logging
command registered during engine initialization.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.pre_app_init">
<span class="sig-name descname"><span class="pre">pre_app_init</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.pre_app_init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.pre_app_init" title="Permalink to this definition"></a></dt>
<dd><p>Sets up the engine into an operational state. Executed by the system and typically
implemented by deriving classes. This method called before any apps are loaded.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.post_app_init">
<span class="sig-name descname"><span class="pre">post_app_init</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.post_app_init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.post_app_init" title="Permalink to this definition"></a></dt>
<dd><p>Executed by the system and typically implemented by deriving classes.
This method called after all apps have been loaded.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.destroy">
<span class="sig-name descname"><span class="pre">destroy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.destroy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.destroy" title="Permalink to this definition"></a></dt>
<dd><p>Destroy all apps, then call destroy_engine so subclasses can add their own tear down code.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method should not be subclassed. Instead, implement <a class="reference internal" href="#sgtk.platform.Engine.destroy_engine" title="sgtk.platform.Engine.destroy_engine"><code class="xref py py-meth docutils literal notranslate"><span class="pre">destroy_engine()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.destroy_engine">
<span class="sig-name descname"><span class="pre">destroy_engine</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.destroy_engine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.destroy_engine" title="Permalink to this definition"></a></dt>
<dd><p>Called when the engine should tear down itself and all its apps.
Implemented by deriving classes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.change_context">
<span class="sig-name descname"><span class="pre">change_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_context</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.change_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.change_context" title="Permalink to this definition"></a></dt>
<dd><p>Called when the engine is being asked to change contexts. This
will only be allowed if the engine explicitly suppose on-the-fly
context changes by way of its context_change_allowed property. Any
apps that do not support context changing will be restarted instead.
Custom behavior at the engine level should be handled by overriding
one or both of pre_context_change and post_context_change methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_context</strong> (<a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The context to change to.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.show_busy">
<span class="sig-name descname"><span class="pre">show_busy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">details</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.show_busy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.show_busy" title="Permalink to this definition"></a></dt>
<dd><p>Displays or updates a global “busy window” tied to this engine. The window
is a splash screen type window, floats on top and contains details of what
is currently being processed.</p>
<p>This method pops up a splash screen with a message and the idea is that
long running core processes can use this as a way to communicate their intent
to the user and keep the user informed as slow processes are executed. If the engine
has a UI present, this will be used to display the progress message. If the engine
does not have UI support, a message will be logged. The UI always appears in the
main thread for safety.</p>
<p>Only one global progress window can exist per engine at a time, so if you want to
push several updates one after the other, just keep calling this method.</p>
<p>When you want to remove the window, call <a class="reference internal" href="#sgtk.platform.Engine.clear_busy" title="sgtk.platform.Engine.clear_busy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clear_busy()</span></code></a>.</p>
<p>Note! If you are calling this from the Core API you typically don’t have
access to the current engine object. In this case you can use the
convenience method <code class="docutils literal notranslate"><span class="pre">tank.platform.engine.show_global_busy()</span></code> which will
attempt to broadcast the request to the currently active engine.</p>
<dl class="field-list simple">
<dt class="field-odd">Params title<span class="colon">:</span></dt>
<dd class="field-odd"><p>Short descriptive title of what is happening</p>
</dd>
<dt class="field-even">Params details<span class="colon">:</span></dt>
<dd class="field-even"><p>Detailed message describing what is going on.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.clear_busy">
<span class="sig-name descname"><span class="pre">clear_busy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.clear_busy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.clear_busy" title="Permalink to this definition"></a></dt>
<dd><p>Closes any active busy window.</p>
<p>For more details, see the <a class="reference internal" href="#sgtk.platform.Engine.show_busy" title="sgtk.platform.Engine.show_busy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">show_busy()</span></code></a> documentation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.register_command">
<span class="sig-name descname"><span class="pre">register_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.register_command"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.register_command" title="Permalink to this definition"></a></dt>
<dd><p>Register a <code class="docutils literal notranslate"><span class="pre">command</span></code> with a name and a callback function.</p>
<p>A <em>command</em> refers to an access point for some functionality.
In most cases, commands will appear as items on a Shotgun dropdown
menu, but it ultimately depends on the engine - in the Shell engine,
commands are instead represented as a text base listing and in the
PTR desktop app it is a scrollable list of larger icons.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is used to add menu entries for launching
toolkit UIs. If you wish to register a panel UI with toolkit,
you need call this method in order to register a menu command
with which a user can launch the panel. In addition to this,
you also need to call <a class="reference internal" href="#sgtk.platform.Engine.register_panel" title="sgtk.platform.Engine.register_panel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_panel()</span></code></a> in order to
register the panel so that the engine can handle its
management and persistence.</p>
</div>
<p>An arbitrary list of properties can be passed into the engine
in the form of a properties dictionary. The interpretation of
the properties dictionary is engine specific, but in general
the following properties are supported:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">short_name</span></code> - A shorter name, typically intended for console use (e.g. ‘import_cut’)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">icon</span></code> - A path to a 256x256 png app icon. If not specified, the icon for the app will be used.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">description</span></code> - a one line description of the command, suitable for a tooltip.
If no description is passed, the one provided in the app manifest will be used.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">title</span></code> - Title to appear on shotgun action menu (e.g. “Create Folders”)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code> - The type of command - hinting at which menu the command should appear.
Options vary between engines and the following are supported:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">context_menu</span></code> - Supported on all engines. Places an item on
the context menu (first item on the shotgun menu). The context menu is a
suitable location for utility items, helpers and tools.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">panel</span></code> - Some DCCs have a special menu which is accessible only when
right clicking on a panel. Passing <code class="docutils literal notranslate"><span class="pre">panel</span></code> as the command type hints
to the system that the command should be added to this menu. If no panel
menu is available, it will be added to the main menu. Nuke is an example
of a DCC which supports this behavior.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">node</span></code> - Node based applications such as Nuke typically have a separate
menu system for accessing nodes. If you want your registered command to appear
on this menu, use this type.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p><strong>Grouping commands into collections</strong></p>
<p>It is possible to group several commands into a collection. Such a collection is called
a <em>group</em>.  For example, you may have three separate commands to launch Maya 2017,
Maya 2016 and Maya 2015, all under a ‘Launch Maya’ group. It is up to each engine to
implement this specification in a suitable way but typically, it would be displayed as a
“Launch Maya” menu with three sub menu items to represent each version of Maya.</p>
<p>Each group has a concept of a group default - this is what would get executed if you click
on the ‘Launch Maya’ group.</p>
<p>To register commands with groups, pass the following two parameters in the properties
dictionary:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">group</span></code> - The name for a group this command should be considered a member of.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">group_default</span></code> - Boolean value indicating whether this command should represent the
group as a whole.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is up to each engine to implement grouping and group defaults in an
appropriate way. Some engines may not support grouping.</p>
</div>
<p>The following properties are supported for the Shotgun engine specifically:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">deny_permissions</span></code> - List of permission groups to exclude this
menu item for (e.g. <code class="docutils literal notranslate"><span class="pre">[&quot;Artist&quot;]</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">deny_platforms</span></code> - List of platforms for which not to show the menu
(e.g. <code class="docutils literal notranslate"><span class="pre">[&quot;windows&quot;,</span> <span class="pre">&quot;mac&quot;,</span> <span class="pre">&quot;linux&quot;]</span></code>). Please note that there are
other ways to achieve this same result.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">supports_multiple_selection</span></code> - a special flag that allows multiple objects
in Shotgun to be selected and operated on. An example showing how to write a
multi select shotgun app is provided in a special branch in the sample starter
app: <a class="reference external" href="https://github.com/shotgunsoftware/tk-multi-starterapp/tree/shotgun_multi_select">https://github.com/shotgunsoftware/tk-multi-starterapp/tree/shotgun_multi_select</a></p></li>
<li><p>Please note that custom icons are not supported by the Shotgun engine.</p></li>
</ul>
<p>Typical usage normally looks something like this -
register_command is called from the <a class="reference internal" href="#sgtk.platform.Application.init_app" title="sgtk.platform.Application.init_app"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Application.init_app()</span></code></a> method of an app:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">register_command</span><span class="p">(</span>
    <span class="s2">&quot;Work Area Info...&quot;</span><span class="p">,</span>
    <span class="n">callback</span><span class="p">,</span>
    <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;context_menu&quot;</span><span class="p">,</span> <span class="s2">&quot;short_name&quot;</span><span class="p">:</span> <span class="s2">&quot;work_area_info&quot;</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of the command. This will be the key when accessed via the
<a class="reference internal" href="#sgtk.platform.Engine.commands" title="sgtk.platform.Engine.commands"><code class="xref py py-meth docutils literal notranslate"><span class="pre">commands()</span></code></a> dictionary.</p></li>
<li><p><strong>callback</strong> – Callback to call upon command execution</p></li>
<li><p><strong>properties</strong> – Dictionary with command properties.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.register_panel">
<span class="sig-name descname"><span class="pre">register_panel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callback</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">panel_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'main'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.register_panel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.register_panel" title="Permalink to this definition"></a></dt>
<dd><p>Similar to <a class="reference internal" href="#sgtk.platform.Engine.register_command" title="sgtk.platform.Engine.register_command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_command()</span></code></a>, but instead of registering a menu item in the form of a
command, this method registers a UI panel. A register_panel call should
be used in conjunction with a register_command call.</p>
<p>Panels need to be registered if they should persist between DCC sessions (e.g.
for example ‘saved layouts’).</p>
<p>Just like with the <a class="reference internal" href="#sgtk.platform.Engine.register_command" title="sgtk.platform.Engine.register_command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_command()</span></code></a> method, panel registration should be executed
from within the init phase of the app. Once a panel has been registered, it is possible
for the engine to correctly restore panel UIs at startup and profile switches.</p>
<p>Not all engines support this feature, but in for example Nuke, a panel can be added to
a saved layout. Apps wanting to be able to take advantage of the persistence given by
these saved layouts will need to call register_panel as part of their init_app phase.</p>
<p>In order to show or focus on a panel, use the <a class="reference internal" href="#sgtk.platform.Engine.show_panel" title="sgtk.platform.Engine.show_panel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">show_panel()</span></code></a> method instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>callback</strong> – Callback to a factory method that creates the panel and returns a panel widget.</p></li>
<li><p><strong>panel_name</strong> – A string to distinguish this panel from other panels created by
the app. This will be used as part of the unique id for the panel.</p></li>
<li><p><strong>properties</strong> – Properties dictionary. Reserved for future use.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A unique identifier that can be used to consistently identify the
panel across sessions. This identifier should be used to identify the panel
in all subsequent calls, e.g. for example <a class="reference internal" href="#sgtk.platform.Engine.show_panel" title="sgtk.platform.Engine.show_panel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">show_panel()</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.execute_in_main_thread">
<span class="sig-name descname"><span class="pre">execute_in_main_thread</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.execute_in_main_thread"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.execute_in_main_thread" title="Permalink to this definition"></a></dt>
<dd><p>Execute the specified function in the main thread when called from a non-main
thread.  This will block the calling thread until the function returns. Note that this
method can introduce a deadlock if the main thread is waiting for a background thread
and the background thread is invoking this method. Since the main thread is waiting
for the background thread to finish, Qt’s event loop won’t be able to process the request
to execute in the main thread:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">sgtk.platform.qt</span><span class="w"> </span><span class="kn">import</span> <span class="n">QtGui</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">engine</span><span class="o">.</span><span class="n">execute_in_main_thread</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Hello&quot;</span><span class="p">,</span> <span class="s2">&quot;Hello from the main thread!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This currently only works if Qt is available, otherwise it just
executes immediately on the current thread.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> – function to call</p></li>
<li><p><strong>args</strong> – arguments to pass to the function</p></li>
<li><p><strong>kwargs</strong> – named arguments to pass to the function</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>the result of the function call</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.async_execute_in_main_thread">
<span class="sig-name descname"><span class="pre">async_execute_in_main_thread</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.async_execute_in_main_thread"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.async_execute_in_main_thread" title="Permalink to this definition"></a></dt>
<dd><p>Execute the specified function in the main thread when called from a non-main
thread.  This call will return immediately and will not wait for the code to be
executed in the main thread.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This currently only works if Qt is available, otherwise it just
executes immediately on the current thread.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> – function to call</p></li>
<li><p><strong>args</strong> – arguments to pass to the function</p></li>
<li><p><strong>kwargs</strong> – named arguments to pass to the function</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.get_matching_commands">
<span class="sig-name descname"><span class="pre">get_matching_commands</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command_selectors</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.get_matching_commands"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.get_matching_commands" title="Permalink to this definition"></a></dt>
<dd><p>Finds all the commands that match the given selectors.</p>
<p>Command selector structures are typically found in engine configurations
and are typically defined on the following form in yaml:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">menu_favourites</span><span class="p">:</span>
<span class="o">-</span> <span class="p">{</span><span class="n">app_instance</span><span class="p">:</span> <span class="n">tk</span><span class="o">-</span><span class="n">multi</span><span class="o">-</span><span class="n">workfiles</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">Shotgun</span> <span class="n">File</span> <span class="n">Manager</span><span class="o">...</span><span class="p">}</span>
<span class="o">-</span> <span class="p">{</span><span class="n">app_instance</span><span class="p">:</span> <span class="n">tk</span><span class="o">-</span><span class="n">multi</span><span class="o">-</span><span class="n">snapshot</span><span class="p">,</span>  <span class="n">name</span><span class="p">:</span> <span class="n">Snapshot</span><span class="o">...</span><span class="p">}</span>
<span class="o">-</span> <span class="p">{</span><span class="n">app_instance</span><span class="p">:</span> <span class="n">tk</span><span class="o">-</span><span class="n">multi</span><span class="o">-</span><span class="n">workfiles</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="n">Shotgun</span> <span class="n">Save</span> <span class="n">As</span><span class="o">...</span><span class="p">}</span>
<span class="o">-</span> <span class="p">{</span><span class="n">app_instance</span><span class="p">:</span> <span class="n">tk</span><span class="o">-</span><span class="n">multi</span><span class="o">-</span><span class="n">publish</span><span class="p">,</span>   <span class="n">name</span><span class="p">:</span> <span class="n">Publish</span><span class="o">...</span><span class="p">}</span>
</pre></div>
</div>
<p>Note that selectors that do not match a command will output a warning.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>command_selectors</strong> – <p>A list of command selectors, with each
selector having the following structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">command</span><span class="o">-</span><span class="n">name</span><span class="p">,</span>
  <span class="n">app_instance</span><span class="p">:</span> <span class="n">instance</span><span class="o">-</span><span class="n">name</span>
<span class="p">}</span>
</pre></div>
</div>
<p>An empty name (“”) will select all the
commands of the given instance-name.</p>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>A list of tuples for all commands that match
the selectors. Each tuple has the format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">instance</span><span class="o">-</span><span class="n">name</span><span class="p">,</span> <span class="n">command</span><span class="o">-</span><span class="n">name</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
</pre></div>
</div>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.log_debug">
<span class="sig-name descname"><span class="pre">log_debug</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.log_debug"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.log_debug" title="Permalink to this definition"></a></dt>
<dd><p>Logs a debug message.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.18: </span>Use <a class="reference internal" href="#sgtk.platform.Engine.logger" title="sgtk.platform.Engine.logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.logger()</span></code></a> instead.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Toolkit will probe for this method and use it to determine if
the current engine supports the new <a class="reference internal" href="#sgtk.platform.Engine.logger" title="sgtk.platform.Engine.logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.logger()</span></code></a> based logging
or not. If you are developing an engine and want to upgrade it to
use the new logging capabilities, you should remove the
implementation of <code class="docutils literal notranslate"><span class="pre">log_debug|error|info|...()</span></code> methods and
instead sublcass <a class="reference internal" href="#sgtk.platform.Engine._emit_log_message" title="sgtk.platform.Engine._emit_log_message"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine._emit_log_message()</span></code></a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> – Message to log.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.log_info">
<span class="sig-name descname"><span class="pre">log_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.log_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.log_info" title="Permalink to this definition"></a></dt>
<dd><p>Logs an info message.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.18: </span>Use <a class="reference internal" href="#sgtk.platform.Engine.logger" title="sgtk.platform.Engine.logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.logger()</span></code></a> instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> – Message to log.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.log_warning">
<span class="sig-name descname"><span class="pre">log_warning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.log_warning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.log_warning" title="Permalink to this definition"></a></dt>
<dd><p>Logs an warning message.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.18: </span>Use <a class="reference internal" href="#sgtk.platform.Engine.logger" title="sgtk.platform.Engine.logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.logger()</span></code></a> instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> – Message to log.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.log_error">
<span class="sig-name descname"><span class="pre">log_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.log_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.log_error" title="Permalink to this definition"></a></dt>
<dd><p>Logs an error message.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.18: </span>Use <a class="reference internal" href="#sgtk.platform.Engine.logger" title="sgtk.platform.Engine.logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.logger()</span></code></a> instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> – Message to log.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.log_exception">
<span class="sig-name descname"><span class="pre">log_exception</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.log_exception"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.log_exception" title="Permalink to this definition"></a></dt>
<dd><p>Logs an exception message.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.18: </span>Use <a class="reference internal" href="#sgtk.platform.Engine.logger" title="sgtk.platform.Engine.logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.logger()</span></code></a> instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> – Message to log.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.get_debug_tracked_qt_widgets">
<span class="sig-name descname"><span class="pre">get_debug_tracked_qt_widgets</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.get_debug_tracked_qt_widgets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.get_debug_tracked_qt_widgets" title="Permalink to this definition"></a></dt>
<dd><p>Returns a dictionary of debug info about created Qt dialogs and widgets.</p>
<p>The keys of the dictionary are the string representation of a widget and the
corresponding value is a reference to that widget.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.show_dialog">
<span class="sig-name descname"><span class="pre">show_dialog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bundle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">widget_class</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.show_dialog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.show_dialog" title="Permalink to this definition"></a></dt>
<dd><p>Shows a non-modal dialog window in a way suitable for this engine.
The engine will attempt to parent the dialog nicely to the host application.
The dialog will be created with a standard Toolkit window title bar where
the title will be displayed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In some cases, it is necessary to hide the standard Toolkit title
bar. You can do this by adding a property to the widget class you are
displaying:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@property</span>
<span class="k">def</span><span class="w"> </span><span class="nf">hide_tk_title_bar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s2">&quot;Tell the system to not show the standard toolkit toolbar&quot;</span>
    <span class="k">return</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
<p><strong>Notes for engine developers</strong></p>
<p>Qt dialog &amp; widget management can be quite tricky in different engines/applications.
Because of this, Sgtk provides a few overridable methods with the idea being that when
developing a new engine, you only need to override the minimum amount necessary.</p>
<p>Making use of these methods in the correct way allows the base Engine class to manage the
lifetime of the dialogs and widgets efficiently and safely without you having to worry about it.</p>
<p>The methods available are listed here in the hierarchy in which they are called:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">show_dialog</span><span class="p">()</span><span class="o">/</span><span class="n">show_modal</span><span class="p">()</span>
    <span class="n">_create_dialog_with_widget</span><span class="p">()</span>
        <span class="n">_get_dialog_parent</span><span class="p">()</span>
        <span class="n">_create_widget</span><span class="p">()</span>
        <span class="n">_create_dialog</span><span class="p">()</span>
</pre></div>
</div>
<p>For example, if you just need to make sure that all dialogs use a specific parent widget
then you only need to override _get_dialog_parent() (e.g. the tk-maya engine).
However, if you need to implement a two-stage creation then you may need to re-implement
show_dialog() and show_modal() to call _create_widget() and _create_dialog() directly rather
than using the helper method _create_dialog_with_widget() (e.g. the tk-3dsmax engine).
Finally, if the application you are writing an engine for is Qt based then you may not need
to override any of these methods (e.g. the tk-nuke engine).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>title</strong> – The title of the window. This will appear in the Toolkit title bar.</p></li>
<li><p><strong>bundle</strong> – The app, engine or framework object that is associated with this window</p></li>
<li><p><strong>widget_class</strong> (<a class="reference external" href="http://pyside.github.io/docs/pyside/PySide/QtGui/QWidget.html#PySide.QtGui.QWidget" title="(in PySide v1.2.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PySide.QtGui.QWidget</span></code></a>) – The class of the UI to be constructed. This must derive from QWidget.</p></li>
</ul>
</dd>
</dl>
<p>Additional parameters specified will be passed through to the widget_class constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the created widget_class instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.show_modal">
<span class="sig-name descname"><span class="pre">show_modal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bundle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">widget_class</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.show_modal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.show_modal" title="Permalink to this definition"></a></dt>
<dd><p>Shows a modal dialog window in a way suitable for this engine. The engine will attempt to
integrate it as seamlessly as possible into the host application. This call is blocking
until the user closes the dialog.
The dialog will be created with a standard Toolkit window title bar where
the title will be displayed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In some cases, it is necessary to hide the standard Toolkit title
bar. You can do this by adding a property to the widget class you are
displaying:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@property</span>
<span class="k">def</span><span class="w"> </span><span class="nf">hide_tk_title_bar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s2">&quot;Tell the system to not show the standard toolkit toolbar&quot;</span>
    <span class="k">return</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>title</strong> – The title of the window</p></li>
<li><p><strong>bundle</strong> – The app, engine or framework object that is associated with this window</p></li>
<li><p><strong>widget_class</strong> (<a class="reference external" href="http://pyside.github.io/docs/pyside/PySide/QtGui/QWidget.html#PySide.QtGui.QWidget" title="(in PySide v1.2.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PySide.QtGui.QWidget</span></code></a>) – The class of the UI to be constructed. This must derive from QWidget.</p></li>
</ul>
</dd>
</dl>
<p>Additional parameters specified will be passed through to the widget_class constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(a standard QT dialog status return code, the created widget_class instance)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.show_panel">
<span class="sig-name descname"><span class="pre">show_panel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">panel_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bundle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">widget_class</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/engine.html#Engine.show_panel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Engine.show_panel" title="Permalink to this definition"></a></dt>
<dd><p>Shows a panel in a way suitable for this engine. Engines should attempt to
integrate panel support as seamlessly as possible into the host application.
Some engines have extensive panel support and workflows, others have none at all.</p>
<p>If the engine does not specifically implement panel support, the window will
be shown as a modeless dialog instead and the call is equivalent to
calling <a class="reference internal" href="#sgtk.platform.Engine.show_dialog" title="sgtk.platform.Engine.show_dialog"><code class="xref py py-meth docutils literal notranslate"><span class="pre">show_dialog()</span></code></a>.</p>
<p>The dialog will be created with a standard Toolkit window title bar where
the title will be displayed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In some cases, it is necessary to hide the standard Toolkit title
bar. You can do this by adding a property to the widget class you are
displaying:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@property</span>
<span class="k">def</span><span class="w"> </span><span class="nf">hide_tk_title_bar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s2">&quot;Tell the system to not show the standard toolkit toolbar&quot;</span>
    <span class="k">return</span> <span class="kc">True</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>panel_id</strong> – Unique identifier for the panel, as obtained by register_panel().</p></li>
<li><p><strong>title</strong> – The title of the panel</p></li>
<li><p><strong>bundle</strong> – The app, engine or framework object that is associated with this window</p></li>
<li><p><strong>widget_class</strong> (<a class="reference external" href="http://pyside.github.io/docs/pyside/PySide/QtGui/QWidget.html#PySide.QtGui.QWidget" title="(in PySide v1.2.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PySide.QtGui.QWidget</span></code></a>) – The class of the UI to be constructed. This must derive from QWidget.</p></li>
</ul>
</dd>
</dl>
<p>Additional parameters specified will be passed through to the widget_class constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the created widget_class instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.cache_location">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cache_location</span></span><a class="headerlink" href="#sgtk.platform.Engine.cache_location" title="Permalink to this definition"></a></dt>
<dd><p>An item-specific location on disk where the app or engine can store
random cache data. This location is guaranteed to exist on disk.</p>
<p>This location is configurable via the <code class="docutils literal notranslate"><span class="pre">cache_location</span></code> hook.
It typically points at a path in the local filesystem, e.g on a mac:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">Caches</span><span class="o">/</span><span class="n">Shotgun</span><span class="o">/</span><span class="n">SITENAME</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">BUNDLE_NAME</span>
</pre></div>
</div>
<p>This can be used to store cache data that the app wants to reuse across
sessions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stored_query_data_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_location</span><span class="p">,</span> <span class="s2">&quot;query.dat&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.context">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">context</span></span><a class="headerlink" href="#sgtk.platform.Engine.context" title="Permalink to this definition"></a></dt>
<dd><p>The context associated with this item.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.context_change_allowed">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">context_change_allowed</span></span><a class="headerlink" href="#sgtk.platform.Engine.context_change_allowed" title="Permalink to this definition"></a></dt>
<dd><p>Whether a context change is allowed without the need for a restart.
If a bundle supports on-the-fly context changing, this property should
be overridden in the deriving class and forced to return True.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.create_hook_instance">
<span class="sig-name descname"><span class="pre">create_hook_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hook_expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Engine.create_hook_instance" title="Permalink to this definition"></a></dt>
<dd><p>Returns the instance of a hook object given an expression.</p>
<p>This is useful for complex workflows where it is beneficial to
maintain a handle to a hook instance. Normally, hooks are stateless
and every time a hook is called, a new instance is returned. This method
provides a standardized way to retrieve an instance of a hook:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">_plugin</span> <span class="o">=</span> <span class="n">app_object</span><span class="o">.</span><span class="n">create_hook_instance</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{config}</span><span class="s2">/path/to/my_hook.py&quot;</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_plugin</span><span class="o">.</span><span class="n">execute_method_x</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_plugin</span><span class="o">.</span><span class="n">execute_method_y</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_plugin</span><span class="o">.</span><span class="n">execute_method_z</span><span class="p">()</span>
</pre></div>
</div>
<p>The hook expression is the raw value that is specified in the configuration file.
If you want to access a configuration setting instead (like how for example
<a class="reference internal" href="#sgtk.platform.Engine.execute_hook_method" title="sgtk.platform.Engine.execute_hook_method"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute_hook_method()</span></code></a> works), simply call <a class="reference internal" href="#sgtk.platform.Engine.get_setting" title="sgtk.platform.Engine.get_setting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_setting()</span></code></a> to retrieve
the value and then pass the settings value to this method.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about hook syntax, see <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a></p>
</div>
<p>An optional <code class="docutils literal notranslate"><span class="pre">base_class</span></code> can be provided to override the default <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a>
base class. This is useful for bundles that create hook instances at
execution time and wish to provide default implementation without the need
to configure the base hook. The supplied class must inherit from Hook.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hook_expression</strong> – Path to hook to execute. See above for syntax details.</p></li>
<li><p><strong>base_class</strong> – A python class to use as the base class for the created
hook. This will override the default hook base class, <code class="docutils literal notranslate"><span class="pre">Hook</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code> instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.description">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">description</span></span><a class="headerlink" href="#sgtk.platform.Engine.description" title="Permalink to this definition"></a></dt>
<dd><p>A short description of the item</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.disk_location">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">disk_location</span></span><a class="headerlink" href="#sgtk.platform.Engine.disk_location" title="Permalink to this definition"></a></dt>
<dd><p>The folder on disk where this item is located.
This can be useful if you want to write app code
to retrieve a local resource:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app_font</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">disk_location</span><span class="p">,</span> <span class="s2">&quot;resources&quot;</span><span class="p">,</span> <span class="s2">&quot;font.fnt&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.display_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">display_name</span></span><a class="headerlink" href="#sgtk.platform.Engine.display_name" title="Permalink to this definition"></a></dt>
<dd><p>The display name for the item (e.g. Maya Engine)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>display name as string</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.documentation_url">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">documentation_url</span></span><a class="headerlink" href="#sgtk.platform.Engine.documentation_url" title="Permalink to this definition"></a></dt>
<dd><p>Return the relevant documentation url for this item.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>url string, None if no documentation was found</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.ensure_folder_exists">
<span class="sig-name descname"><span class="pre">ensure_folder_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Engine.ensure_folder_exists" title="Permalink to this definition"></a></dt>
<dd><p>Make sure that the given folder exists on disk.
Convenience method to make it easy for apps and engines to create folders in a
standardized fashion. While the creation of high level folder structure such as
Shot and Asset folders is typically handled by the folder creation system in
Toolkit, Apps tend to need to create leaf-level folders such as publish folders
and work areas. These are often created just in time of the operation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method calls out to the <code class="docutils literal notranslate"><span class="pre">ensure_folder_exists</span></code> core hook, making
the I/O operation user configurable. We recommend using this method
over the methods provided in <code class="docutils literal notranslate"><span class="pre">sgtk.util.filesystem</span></code>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – path to create</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.execute_hook">
<span class="sig-name descname"><span class="pre">execute_hook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Engine.execute_hook" title="Permalink to this definition"></a></dt>
<dd><p>Execute a hook that is part of the environment configuration for the current bundle.</p>
<p>Convenience method that calls <a class="reference internal" href="#sgtk.platform.Engine.execute_hook_method" title="sgtk.platform.Engine.execute_hook_method"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute_hook_method()</span></code></a> with the
method_name parameter set to “execute”.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method is present for backwards compatibility. For
all new hooks, we recommend using <a class="reference internal" href="#sgtk.platform.Engine.execute_hook_method" title="sgtk.platform.Engine.execute_hook_method"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute_hook_method()</span></code></a>
instead.</p>
</div>
<p>You simply pass the name of the hook setting that you want to execute and
the accompanying arguments, and toolkit will find the correct hook file based
on the currently configured setting and then execute the execute() method for
that hook.</p>
<p>An optional <code class="docutils literal notranslate"><span class="pre">base_class</span></code> can be provided to override the default <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a>
base class. This is useful for bundles that want to define and document a strict
interface for hooks. The classes defined in the hook have to derived from this classes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about hooks, see <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – The name of the hook setting you want to execute.</p></li>
<li><p><strong>base_class</strong> – A python class to use as the base class for the created
hook. This will override the default hook base class, <code class="docutils literal notranslate"><span class="pre">Hook</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The return value from the hook</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.execute_hook_by_name">
<span class="sig-name descname"><span class="pre">execute_hook_by_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hook_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Engine.execute_hook_by_name" title="Permalink to this definition"></a></dt>
<dd><p>Execute an arbitrary hook located in the hooks folder for this project.
The hook_name is the name of the python file in which the hook resides,
without the file extension.</p>
<p>In most use cases, the execute_hook method is the preferred way to
access a hook from an app.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Now deprecated - Please use <a class="reference internal" href="#sgtk.platform.Engine.execute_hook_expression" title="sgtk.platform.Engine.execute_hook_expression"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute_hook_expression()</span></code></a>
instead.</p>
</div>
<p>This method is typically only used when you want to execute an arbitrary
list of hooks, for example if you want to run a series of arbitrary
user defined pre-publish validation hooks.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about hooks, see <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>hook_name</strong> – name of the legacy hook file to execute.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.execute_hook_expression">
<span class="sig-name descname"><span class="pre">execute_hook_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hook_expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Engine.execute_hook_expression" title="Permalink to this definition"></a></dt>
<dd><p>Execute an arbitrary hook via an expression. While the methods execute_hook
and execute_hook_method allows you to execute a particular hook setting as
specified in the app configuration manifest, this methods allows you to
execute a hook directly by passing a hook expression, for example
<code class="docutils literal notranslate"><span class="pre">{config}/path/to/my_hook.py</span></code></p>
<p>This is useful if you are doing rapid app development and don’t necessarily
want to expose a hook as a configuration setting just yet. It is also useful
if you have app settings that are nested deep inside of lists or dictionaries.
In that case, you cannot use execute_hook, but instead will have to retrieve
the value specifically and then run it.</p>
<p>An optional <code class="docutils literal notranslate"><span class="pre">base_class</span></code> can be provided to override the default <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a>
base class. This is useful for bundles that want to define and document a strict
interface for hooks. The classes defined in the hook have to derived from this classes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about hooks, see <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hook_expression</strong> – Path to hook to execute. See above for syntax details.</p></li>
<li><p><strong>method_name</strong> – Method inside the hook to execute.</p></li>
<li><p><strong>base_class</strong> – A python class to use as the base class for the created
hook. This will override the default hook base class, <code class="docutils literal notranslate"><span class="pre">Hook</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The return value from the hook</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.execute_hook_method">
<span class="sig-name descname"><span class="pre">execute_hook_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Engine.execute_hook_method" title="Permalink to this definition"></a></dt>
<dd><p>Execute a specific method in a hook that is part of the
environment configuration for the current bundle.</p>
<p>You simply pass the name of the hook setting that you want to execute, the
name of the method you want to execute and the accompanying arguments.
Toolkit will find the correct hook file based on the currently configured
setting and then execute the specified method.</p>
<p>Hooks form a flexible way to extend and make toolkit apps or engines configurable.
A hook acts like a setting in that it needs to be configured as part of the app’s
configuration, but instead of being a simple value, it is a code snippet contained
inside a class.</p>
<p>Apps typically provide default hooks to make installation and overriding easy.
Each hook is represented by a setting, similar to the ones you access via
the <a class="reference internal" href="#sgtk.platform.Engine.get_setting" title="sgtk.platform.Engine.get_setting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_setting()</span></code></a> method, however instead of retrieving a fixed value,
you execute code which generates a value.</p>
<p>This method will execute a specific method for a given hook setting. Toolkit will
find the actual python hook file and handle initialization and execution for you,
by looking at the configuration settings and resolve a path based on this.</p>
<p>Arguments should always be passed in by name. This is to make it easy to add new
parameters without breaking backwards compatibility, for example
<code class="docutils literal notranslate"><span class="pre">execute_hook_method(&quot;validator&quot;,</span> <span class="pre">&quot;pre_check&quot;,</span> <span class="pre">name=curr_scene,</span> <span class="pre">version=curr_ver).</span></code></p>
<p>An optional <code class="docutils literal notranslate"><span class="pre">base_class</span></code> can be provided to override the default <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a>
base class. This is useful for bundles that want to define and document a strict
interface for hooks. The classes defined in the hook have to derived from this classes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about hooks, see <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – The name of the hook setting you want to execute.</p></li>
<li><p><strong>method_name</strong> – Name of the method to execute</p></li>
<li><p><strong>base_class</strong> – A python class to use as the base class for the created
hook. This will override the default hook base class, <code class="docutils literal notranslate"><span class="pre">Hook</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The return value from the hook</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.frameworks">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">frameworks</span></span><a class="headerlink" href="#sgtk.platform.Engine.frameworks" title="Permalink to this definition"></a></dt>
<dd><p>List of all frameworks associated with this item</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of framework objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.get_project_cache_location">
<span class="sig-name descname"><span class="pre">get_project_cache_location</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Engine.get_project_cache_location" title="Permalink to this definition"></a></dt>
<dd><p>Gets the bundle’s cache-location path for the given project id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>project_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The project Entity id number.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Cache location directory path.</p>
</dd>
<dt class="field-odd">Rtype str<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.get_setting">
<span class="sig-name descname"><span class="pre">get_setting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Engine.get_setting" title="Permalink to this definition"></a></dt>
<dd><p>Get a value from the item’s settings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">get_setting</span><span class="p">(</span><span class="s1">&#39;entity_types&#39;</span><span class="p">)</span>
<span class="go">[&#39;Sequence&#39;, &#39;Shot&#39;, &#39;Asset&#39;, &#39;Task&#39;]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – config name</p></li>
<li><p><strong>default</strong> – default value to return</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Value from the environment configuration</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.get_template">
<span class="sig-name descname"><span class="pre">get_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Engine.get_template" title="Permalink to this definition"></a></dt>
<dd><p>Returns a template object for a particular template setting in the Framework configuration.
This method will look at the app configuration, determine which template is being referred to
in the setting, go into the main platform Template API and fetch that particular template object.</p>
<p>This is a convenience method. Shorthand for <code class="docutils literal notranslate"><span class="pre">self.sgtk.templates[</span> <span class="pre">self.get_setting(key)</span> <span class="pre">]</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> – Setting to retrieve template for</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.get_template_by_name">
<span class="sig-name descname"><span class="pre">get_template_by_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Engine.get_template_by_name" title="Permalink to this definition"></a></dt>
<dd><p>Note: This is for advanced use cases - Most of the time you should probably use
<a class="reference internal" href="#sgtk.platform.Engine.get_template" title="sgtk.platform.Engine.get_template"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_template()</span></code></a>. Find a particular template, the way it is named in the master
config file <code class="docutils literal notranslate"><span class="pre">templates.yml</span></code>. This method will access the master templates file
directly and pull out a specifically named template without using the app config.
Note that using this method may result in code which is less portable across
studios, since it makes assumptions about how templates are named and defined in
the master config. Generally speaking, it is often better to access templates using
the app configuration and the get_template() method.</p>
<p>This is a convenience method. Shorthand for <code class="docutils literal notranslate"><span class="pre">self.sgtk.templates[template_name]</span></code>.</p>
<p>:param template_name
:returns: <code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code> object</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.icon_256">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">icon_256</span></span><a class="headerlink" href="#sgtk.platform.Engine.icon_256" title="Permalink to this definition"></a></dt>
<dd><p>Path to a 256x256 pixel png file which describes the item</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.import_module">
<span class="sig-name descname"><span class="pre">import_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Engine.import_module" title="Permalink to this definition"></a></dt>
<dd><p>Special import command for Toolkit bundles. Imports the python folder inside
an app and returns the specified module name that exists inside the python folder.</p>
<p>Each Toolkit App or Engine can have a python folder which contains additional
code. In order to ensure that Toolkit can run multiple versions of the same app,
as well as being able to reload app code if it changes, it is recommended that
this method is used whenever you want to access code in the python location.</p>
<p>For example, imagine you had the following structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tk</span><span class="o">-</span><span class="n">multi</span><span class="o">-</span><span class="n">mybundle</span>
   <span class="o">|-</span> <span class="n">app</span><span class="o">.</span><span class="n">py</span> <span class="ow">or</span> <span class="n">engine</span><span class="o">.</span><span class="n">py</span> <span class="ow">or</span> <span class="n">framework</span><span class="o">.</span><span class="n">py</span>
   <span class="o">|-</span> <span class="n">info</span><span class="o">.</span><span class="n">yml</span>
   \<span class="o">-</span> <span class="n">python</span>
       <span class="o">|-</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>   <span class="o">&lt;---</span> <span class="n">Needs</span> <span class="n">to</span> <span class="n">contain</span> <span class="s1">&#39;from . import tk_multi_mybundle&#39;</span>
       \<span class="o">-</span> <span class="n">tk_multi_mybundle</span>
</pre></div>
</div>
<p>The above structure is a standard Toolkit app outline. <code class="docutils literal notranslate"><span class="pre">app.py</span></code> is a
light weight wrapper and the python module
<code class="docutils literal notranslate"><span class="pre">tk_multi_myapp</span></code> module contains the actual code payload.
In order to import this in a Toolkit friendly way, you need to run
the following when you want to load the payload module inside of app.py:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">module_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s2">&quot;tk_multi_myapp&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.logger">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">logger</span></span><a class="headerlink" href="#sgtk.platform.Engine.logger" title="Permalink to this definition"></a></dt>
<dd><p>Standard python <a class="reference external" href="https://docs.python.org/3.9/library/logging.html#logging.Logger" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Logger</span></code></a> for this engine, app or framework.</p>
<p>Use this whenever you want to emit or process
log messages. If you are developing an app,
engine or framework, call this method for generic logging.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Inside the <code class="docutils literal notranslate"><span class="pre">python</span></code> area of your app, engine or framework,
we recommend that you use <a class="reference internal" href="#sgtk.platform.get_logger" title="sgtk.platform.get_logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk.platform.get_logger()</span></code></a>
for your logging.</p>
</div>
<p>Logging will be dispatched to a logger parented under the
main toolkit logging namespace:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># pattern</span>
<span class="n">sgtk</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">environment_name</span><span class="o">.</span><span class="n">engine_instance_name</span>

<span class="c1"># for example</span>
<span class="n">sgtk</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">asset</span><span class="o">.</span><span class="n">tk</span><span class="o">-</span><span class="n">maya</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want all log messages that you are emitting in your
app, engine or framework to be written to a log file or
to a logging console, you can attach a std log handler here.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#sgtk.platform.Engine.name" title="Permalink to this definition"></a></dt>
<dd><p>The short name for the item (e.g. tk-maya)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>name as string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.post_context_change">
<span class="sig-name descname"><span class="pre">post_context_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Engine.post_context_change" title="Permalink to this definition"></a></dt>
<dd><p>Called after a context change.</p>
<p>Implemented by deriving classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old_context</strong> (<a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The context being changed away from.</p></li>
<li><p><strong>new_context</strong> (<a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The context being changed to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Engine.pre_context_change">
<span class="sig-name descname"><span class="pre">pre_context_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Engine.pre_context_change" title="Permalink to this definition"></a></dt>
<dd><p>Called before a context change.</p>
<p>Implemented by deriving classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old_context</strong> (<a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The context being changed away from.</p></li>
<li><p><strong>new_context</strong> (<a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The context being changed to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.sgtk">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sgtk</span></span><a class="headerlink" href="#sgtk.platform.Engine.sgtk" title="Permalink to this definition"></a></dt>
<dd><p>Returns the Toolkit API instance associated with this item</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tank</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.site_cache_location">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">site_cache_location</span></span><a class="headerlink" href="#sgtk.platform.Engine.site_cache_location" title="Permalink to this definition"></a></dt>
<dd><p>A site location on disk where the app or engine can store
random cache data. This location is guaranteed to exist on disk.</p>
<p>This location is configurable via the <code class="docutils literal notranslate"><span class="pre">cache_location</span></code> hook.
It typically points at a path in the local filesystem, e.g on a mac:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">Caches</span><span class="o">/</span><span class="n">Shotgun</span><span class="o">/</span><span class="n">SITENAME</span><span class="o">/</span><span class="n">BUNDLE_NAME</span>
</pre></div>
</div>
<p>This can be used to store cache data that the app wants to reuse across
sessions and can be shared across a site:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stored_query_data_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">site_cache_location</span><span class="p">,</span> <span class="s2">&quot;query.dat&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.style_constants">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">style_constants</span></span><a class="headerlink" href="#sgtk.platform.Engine.style_constants" title="Permalink to this definition"></a></dt>
<dd><p>Returns a dictionary of style constants. These can be used to build
UIs using standard colors and other style components. All keys returned
in this dictionary can also be used inside a style.qss that lives
at the root level of the app, engine or framework. Use a
<code class="docutils literal notranslate"><span class="pre">{{DOUBLE_BACKET}}</span></code> syntax in the stylesheet file, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">QWidget</span>
<span class="p">{</span>
    <span class="n">color</span><span class="p">:</span> <span class="p">{{</span><span class="n">SG_FOREGROUND_COLOR</span><span class="p">}};</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This property returns the values for all constants, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;SG_HIGHLIGHT_COLOR&quot;</span><span class="p">:</span> <span class="s2">&quot;#18A7E3&quot;</span><span class="p">,</span>
  <span class="s2">&quot;SG_ALERT_COLOR&quot;</span><span class="p">:</span> <span class="s2">&quot;#FC6246&quot;</span><span class="p">,</span>
  <span class="s2">&quot;SG_FOREGROUND_COLOR&quot;</span><span class="p">:</span> <span class="s2">&quot;#C8C8C8&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary. See above for example</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.support_url">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">support_url</span></span><a class="headerlink" href="#sgtk.platform.Engine.support_url" title="Permalink to this definition"></a></dt>
<dd><p>Return the relevant support url for this item.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>url string, None if no documentation was found</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.tank">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tank</span></span><a class="headerlink" href="#sgtk.platform.Engine.tank" title="Permalink to this definition"></a></dt>
<dd><p>Returns the Toolkit API instance associated with this item</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tank</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Engine.version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version</span></span><a class="headerlink" href="#sgtk.platform.Engine.version" title="Permalink to this definition"></a></dt>
<dd><p>The version of the item (e.g. ‘v0.2.3’)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string representing the version</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="applications">
<h2>Applications<a class="headerlink" href="#applications" title="Permalink to this heading"></a></h2>
<p>Toolkit Apps are tools that can execute in multiple DCC environments.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For an introduction to App development, see <a class="reference external" href="https://help.autodesk.com/view/SGDEV/ENU/?contextId=PG_SGTK_DEVELOPER_APP">https://help.autodesk.com/view/SGDEV/ENU/?contextId=PG_SGTK_DEVELOPER_APP</a></p>
</div>
<p>A good way to get started with App development is to clone our starter github repository
<a class="reference external" href="https://github.com/shotgunsoftware/tk-multi-starterapp">https://github.com/shotgunsoftware/tk-multi-starterapp</a>. Please note that there are different branches
demonstrating different types of apps with a varying degree of complexity.</p>
<section id="application">
<h3>Application<a class="headerlink" href="#application" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.platform.Application">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.platform.</span></span><span class="sig-name descname"><span class="pre">Application</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">descriptor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/application.html#Application"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Application" title="Permalink to this definition"></a></dt>
<dd><p>Base class for all Applications (Apps) running in Toolkit.</p>
<p>Application instances are constructed by the toolkit launch process
and various factory methods such as <a class="reference internal" href="#sgtk.platform.start_engine" title="sgtk.platform.start_engine"><code class="xref py py-meth docutils literal notranslate"><span class="pre">start_engine()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>engine</strong> – The engine instance to connect this app to</p></li>
<li><p><strong>app_name</strong> – The short name of this app (e.g. tk-nukepublish)</p></li>
<li><p><strong>settings</strong> – a settings dictionary for this app</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.shotgun">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shotgun</span></span><a class="headerlink" href="#sgtk.platform.Application.shotgun" title="Permalink to this definition"></a></dt>
<dd><p>Returns a Shotgun API handle associated with the currently running
environment. This method is a convenience method that calls out
to <code class="xref py py-meth docutils literal notranslate"><span class="pre">shotgun()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Shotgun API handle</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.instance_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">instance_name</span></span><a class="headerlink" href="#sgtk.platform.Application.instance_name" title="Permalink to this definition"></a></dt>
<dd><p>The name for this app instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.engine">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">engine</span></span><a class="headerlink" href="#sgtk.platform.Application.engine" title="Permalink to this definition"></a></dt>
<dd><p>The engine that this app is connected to.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.get_metrics_properties">
<span class="sig-name descname"><span class="pre">get_metrics_properties</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/application.html#Application.get_metrics_properties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Application.get_metrics_properties" title="Permalink to this definition"></a></dt>
<dd><p>Returns a dictionary with properties to use when emitting a metric event
for this application in the current engine.</p>
<p>The dictionary contains information about this application, about the
current engine, and about the application hosting the engine. For each of
them, a name and a version string are available:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;Host App&#39;</span><span class="p">:</span> <span class="s1">&#39;Maya&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Host App Version&#39;</span><span class="p">:</span> <span class="s1">&#39;2017&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Engine&#39;</span><span class="p">:</span> <span class="s1">&#39;tk-maya&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Engine Version&#39;</span><span class="p">:</span> <span class="s1">&#39;v0.4.1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;App&#39;</span><span class="p">:</span> <span class="s1">&#39;tk-multi-about&#39;</span><span class="p">,</span>
    <span class="s1">&#39;App Version&#39;</span><span class="p">:</span> <span class="s1">&#39;1.2.3&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary with info per above.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.init_app">
<span class="sig-name descname"><span class="pre">init_app</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/application.html#Application.init_app"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Application.init_app" title="Permalink to this definition"></a></dt>
<dd><p>Implemented by deriving classes in order to initialize the app
Called by the engine as it loads the app.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.post_engine_init">
<span class="sig-name descname"><span class="pre">post_engine_init</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/application.html#Application.post_engine_init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Application.post_engine_init" title="Permalink to this definition"></a></dt>
<dd><p>Implemented by deriving classes in order to run code after the engine
has completely finished initializing itself and all its apps.
At this point, the engine has a fully populated apps dictionary and
all loaded apps have been fully initialized and validated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.destroy_app">
<span class="sig-name descname"><span class="pre">destroy_app</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/application.html#Application.destroy_app"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Application.destroy_app" title="Permalink to this definition"></a></dt>
<dd><p>Implemented by deriving classes in order to tear down the app
Called by the engine as it is being destroyed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.event_engine">
<span class="sig-name descname"><span class="pre">event_engine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/application.html#Application.event_engine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Application.event_engine" title="Permalink to this definition"></a></dt>
<dd><p>Called when the parent engine emits an event. This method
is intended to be overridden by deriving classes in order to
implement event-specific behavior.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is called for all engine event types. If
overriding this method to implement an event handler
in a specific app, the event object received will need
to be checked via isinstance (or via its event_type
property) to know what event has been triggered. As
there are also type specific event handlers available,
it is considered best practice to use those in all
cases except those where a generic handler is absolutely
required.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It is possible that events will be triggered quite
frequently. It is important to keep performance in
mind when writing an event handler.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>event</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">EngineEvent</span></code>) – The event object that was emitted.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.event_file_open">
<span class="sig-name descname"><span class="pre">event_file_open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/application.html#Application.event_file_open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Application.event_file_open" title="Permalink to this definition"></a></dt>
<dd><p>Called when the parent engine emits a file-open event. This method
is intended to be overridden by deriving classes.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It is possible that events will be triggered quite
frequently. It is important to keep performance in
mind when writing an event handler.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>event</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">FileOpenEvent</span></code>) – The event object that was emitted.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.event_file_close">
<span class="sig-name descname"><span class="pre">event_file_close</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/application.html#Application.event_file_close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Application.event_file_close" title="Permalink to this definition"></a></dt>
<dd><p>Called when the parent engine emits a file-close event. This method
is intended to be overridden by deriving classes.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It is possible that events will be triggered quite
frequently. It is important to keep performance in
mind when writing an event handler.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>event</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">FileCloseEvent</span></code>) – The event object that was emitted.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.log_debug">
<span class="sig-name descname"><span class="pre">log_debug</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/application.html#Application.log_debug"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Application.log_debug" title="Permalink to this definition"></a></dt>
<dd><p>Logs a debug message.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.18: </span>Use <a class="reference internal" href="#sgtk.platform.Engine.logger" title="sgtk.platform.Engine.logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.logger()</span></code></a> instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> – Message to log.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.log_info">
<span class="sig-name descname"><span class="pre">log_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/application.html#Application.log_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Application.log_info" title="Permalink to this definition"></a></dt>
<dd><p>Logs an info message.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.18: </span>Use <a class="reference internal" href="#sgtk.platform.Engine.logger" title="sgtk.platform.Engine.logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.logger()</span></code></a> instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> – Message to log.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.log_warning">
<span class="sig-name descname"><span class="pre">log_warning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/application.html#Application.log_warning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Application.log_warning" title="Permalink to this definition"></a></dt>
<dd><p>Logs an warning message.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.18: </span>Use <a class="reference internal" href="#sgtk.platform.Engine.logger" title="sgtk.platform.Engine.logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.logger()</span></code></a> instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> – Message to log.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.log_error">
<span class="sig-name descname"><span class="pre">log_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/application.html#Application.log_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Application.log_error" title="Permalink to this definition"></a></dt>
<dd><p>Logs an error message.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.18: </span>Use <a class="reference internal" href="#sgtk.platform.Engine.logger" title="sgtk.platform.Engine.logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.logger()</span></code></a> instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> – Message to log.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.log_exception">
<span class="sig-name descname"><span class="pre">log_exception</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/application.html#Application.log_exception"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Application.log_exception" title="Permalink to this definition"></a></dt>
<dd><p>Logs an exception message.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.18: </span>Use <a class="reference internal" href="#sgtk.platform.Engine.logger" title="sgtk.platform.Engine.logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.logger()</span></code></a> instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> – Message to log.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.cache_location">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cache_location</span></span><a class="headerlink" href="#sgtk.platform.Application.cache_location" title="Permalink to this definition"></a></dt>
<dd><p>An item-specific location on disk where the app or engine can store
random cache data. This location is guaranteed to exist on disk.</p>
<p>This location is configurable via the <code class="docutils literal notranslate"><span class="pre">cache_location</span></code> hook.
It typically points at a path in the local filesystem, e.g on a mac:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">Caches</span><span class="o">/</span><span class="n">Shotgun</span><span class="o">/</span><span class="n">SITENAME</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">BUNDLE_NAME</span>
</pre></div>
</div>
<p>This can be used to store cache data that the app wants to reuse across
sessions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stored_query_data_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_location</span><span class="p">,</span> <span class="s2">&quot;query.dat&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.change_context">
<span class="sig-name descname"><span class="pre">change_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Application.change_context" title="Permalink to this definition"></a></dt>
<dd><p>Abstract method for context changing.</p>
<p>Implemented by deriving classes that wish to support context changes and
require specific logic to do so safely.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_context</strong> – The context being changed to.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.context">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">context</span></span><a class="headerlink" href="#sgtk.platform.Application.context" title="Permalink to this definition"></a></dt>
<dd><p>The context associated with this item.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.context_change_allowed">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">context_change_allowed</span></span><a class="headerlink" href="#sgtk.platform.Application.context_change_allowed" title="Permalink to this definition"></a></dt>
<dd><p>Whether a context change is allowed without the need for a restart.
If a bundle supports on-the-fly context changing, this property should
be overridden in the deriving class and forced to return True.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.create_hook_instance">
<span class="sig-name descname"><span class="pre">create_hook_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hook_expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Application.create_hook_instance" title="Permalink to this definition"></a></dt>
<dd><p>Returns the instance of a hook object given an expression.</p>
<p>This is useful for complex workflows where it is beneficial to
maintain a handle to a hook instance. Normally, hooks are stateless
and every time a hook is called, a new instance is returned. This method
provides a standardized way to retrieve an instance of a hook:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">_plugin</span> <span class="o">=</span> <span class="n">app_object</span><span class="o">.</span><span class="n">create_hook_instance</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{config}</span><span class="s2">/path/to/my_hook.py&quot;</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_plugin</span><span class="o">.</span><span class="n">execute_method_x</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_plugin</span><span class="o">.</span><span class="n">execute_method_y</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_plugin</span><span class="o">.</span><span class="n">execute_method_z</span><span class="p">()</span>
</pre></div>
</div>
<p>The hook expression is the raw value that is specified in the configuration file.
If you want to access a configuration setting instead (like how for example
<a class="reference internal" href="#sgtk.platform.Application.execute_hook_method" title="sgtk.platform.Application.execute_hook_method"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute_hook_method()</span></code></a> works), simply call <a class="reference internal" href="#sgtk.platform.Application.get_setting" title="sgtk.platform.Application.get_setting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_setting()</span></code></a> to retrieve
the value and then pass the settings value to this method.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about hook syntax, see <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a></p>
</div>
<p>An optional <code class="docutils literal notranslate"><span class="pre">base_class</span></code> can be provided to override the default <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a>
base class. This is useful for bundles that create hook instances at
execution time and wish to provide default implementation without the need
to configure the base hook. The supplied class must inherit from Hook.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hook_expression</strong> – Path to hook to execute. See above for syntax details.</p></li>
<li><p><strong>base_class</strong> – A python class to use as the base class for the created
hook. This will override the default hook base class, <code class="docutils literal notranslate"><span class="pre">Hook</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code> instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.description">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">description</span></span><a class="headerlink" href="#sgtk.platform.Application.description" title="Permalink to this definition"></a></dt>
<dd><p>A short description of the item</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.disk_location">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">disk_location</span></span><a class="headerlink" href="#sgtk.platform.Application.disk_location" title="Permalink to this definition"></a></dt>
<dd><p>The folder on disk where this item is located.
This can be useful if you want to write app code
to retrieve a local resource:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app_font</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">disk_location</span><span class="p">,</span> <span class="s2">&quot;resources&quot;</span><span class="p">,</span> <span class="s2">&quot;font.fnt&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.display_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">display_name</span></span><a class="headerlink" href="#sgtk.platform.Application.display_name" title="Permalink to this definition"></a></dt>
<dd><p>The display name for the item (e.g. Maya Engine)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>display name as string</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.documentation_url">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">documentation_url</span></span><a class="headerlink" href="#sgtk.platform.Application.documentation_url" title="Permalink to this definition"></a></dt>
<dd><p>Return the relevant documentation url for this item.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>url string, None if no documentation was found</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.ensure_folder_exists">
<span class="sig-name descname"><span class="pre">ensure_folder_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Application.ensure_folder_exists" title="Permalink to this definition"></a></dt>
<dd><p>Make sure that the given folder exists on disk.
Convenience method to make it easy for apps and engines to create folders in a
standardized fashion. While the creation of high level folder structure such as
Shot and Asset folders is typically handled by the folder creation system in
Toolkit, Apps tend to need to create leaf-level folders such as publish folders
and work areas. These are often created just in time of the operation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method calls out to the <code class="docutils literal notranslate"><span class="pre">ensure_folder_exists</span></code> core hook, making
the I/O operation user configurable. We recommend using this method
over the methods provided in <code class="docutils literal notranslate"><span class="pre">sgtk.util.filesystem</span></code>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – path to create</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.execute_hook">
<span class="sig-name descname"><span class="pre">execute_hook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Application.execute_hook" title="Permalink to this definition"></a></dt>
<dd><p>Execute a hook that is part of the environment configuration for the current bundle.</p>
<p>Convenience method that calls <a class="reference internal" href="#sgtk.platform.Application.execute_hook_method" title="sgtk.platform.Application.execute_hook_method"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute_hook_method()</span></code></a> with the
method_name parameter set to “execute”.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method is present for backwards compatibility. For
all new hooks, we recommend using <a class="reference internal" href="#sgtk.platform.Application.execute_hook_method" title="sgtk.platform.Application.execute_hook_method"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute_hook_method()</span></code></a>
instead.</p>
</div>
<p>You simply pass the name of the hook setting that you want to execute and
the accompanying arguments, and toolkit will find the correct hook file based
on the currently configured setting and then execute the execute() method for
that hook.</p>
<p>An optional <code class="docutils literal notranslate"><span class="pre">base_class</span></code> can be provided to override the default <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a>
base class. This is useful for bundles that want to define and document a strict
interface for hooks. The classes defined in the hook have to derived from this classes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about hooks, see <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – The name of the hook setting you want to execute.</p></li>
<li><p><strong>base_class</strong> – A python class to use as the base class for the created
hook. This will override the default hook base class, <code class="docutils literal notranslate"><span class="pre">Hook</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The return value from the hook</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.execute_hook_by_name">
<span class="sig-name descname"><span class="pre">execute_hook_by_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hook_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Application.execute_hook_by_name" title="Permalink to this definition"></a></dt>
<dd><p>Execute an arbitrary hook located in the hooks folder for this project.
The hook_name is the name of the python file in which the hook resides,
without the file extension.</p>
<p>In most use cases, the execute_hook method is the preferred way to
access a hook from an app.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Now deprecated - Please use <a class="reference internal" href="#sgtk.platform.Application.execute_hook_expression" title="sgtk.platform.Application.execute_hook_expression"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute_hook_expression()</span></code></a>
instead.</p>
</div>
<p>This method is typically only used when you want to execute an arbitrary
list of hooks, for example if you want to run a series of arbitrary
user defined pre-publish validation hooks.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about hooks, see <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>hook_name</strong> – name of the legacy hook file to execute.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.execute_hook_expression">
<span class="sig-name descname"><span class="pre">execute_hook_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hook_expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Application.execute_hook_expression" title="Permalink to this definition"></a></dt>
<dd><p>Execute an arbitrary hook via an expression. While the methods execute_hook
and execute_hook_method allows you to execute a particular hook setting as
specified in the app configuration manifest, this methods allows you to
execute a hook directly by passing a hook expression, for example
<code class="docutils literal notranslate"><span class="pre">{config}/path/to/my_hook.py</span></code></p>
<p>This is useful if you are doing rapid app development and don’t necessarily
want to expose a hook as a configuration setting just yet. It is also useful
if you have app settings that are nested deep inside of lists or dictionaries.
In that case, you cannot use execute_hook, but instead will have to retrieve
the value specifically and then run it.</p>
<p>An optional <code class="docutils literal notranslate"><span class="pre">base_class</span></code> can be provided to override the default <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a>
base class. This is useful for bundles that want to define and document a strict
interface for hooks. The classes defined in the hook have to derived from this classes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about hooks, see <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hook_expression</strong> – Path to hook to execute. See above for syntax details.</p></li>
<li><p><strong>method_name</strong> – Method inside the hook to execute.</p></li>
<li><p><strong>base_class</strong> – A python class to use as the base class for the created
hook. This will override the default hook base class, <code class="docutils literal notranslate"><span class="pre">Hook</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The return value from the hook</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.execute_hook_method">
<span class="sig-name descname"><span class="pre">execute_hook_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Application.execute_hook_method" title="Permalink to this definition"></a></dt>
<dd><p>Execute a specific method in a hook that is part of the
environment configuration for the current bundle.</p>
<p>You simply pass the name of the hook setting that you want to execute, the
name of the method you want to execute and the accompanying arguments.
Toolkit will find the correct hook file based on the currently configured
setting and then execute the specified method.</p>
<p>Hooks form a flexible way to extend and make toolkit apps or engines configurable.
A hook acts like a setting in that it needs to be configured as part of the app’s
configuration, but instead of being a simple value, it is a code snippet contained
inside a class.</p>
<p>Apps typically provide default hooks to make installation and overriding easy.
Each hook is represented by a setting, similar to the ones you access via
the <a class="reference internal" href="#sgtk.platform.Application.get_setting" title="sgtk.platform.Application.get_setting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_setting()</span></code></a> method, however instead of retrieving a fixed value,
you execute code which generates a value.</p>
<p>This method will execute a specific method for a given hook setting. Toolkit will
find the actual python hook file and handle initialization and execution for you,
by looking at the configuration settings and resolve a path based on this.</p>
<p>Arguments should always be passed in by name. This is to make it easy to add new
parameters without breaking backwards compatibility, for example
<code class="docutils literal notranslate"><span class="pre">execute_hook_method(&quot;validator&quot;,</span> <span class="pre">&quot;pre_check&quot;,</span> <span class="pre">name=curr_scene,</span> <span class="pre">version=curr_ver).</span></code></p>
<p>An optional <code class="docutils literal notranslate"><span class="pre">base_class</span></code> can be provided to override the default <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a>
base class. This is useful for bundles that want to define and document a strict
interface for hooks. The classes defined in the hook have to derived from this classes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about hooks, see <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – The name of the hook setting you want to execute.</p></li>
<li><p><strong>method_name</strong> – Name of the method to execute</p></li>
<li><p><strong>base_class</strong> – A python class to use as the base class for the created
hook. This will override the default hook base class, <code class="docutils literal notranslate"><span class="pre">Hook</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The return value from the hook</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.frameworks">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">frameworks</span></span><a class="headerlink" href="#sgtk.platform.Application.frameworks" title="Permalink to this definition"></a></dt>
<dd><p>List of all frameworks associated with this item</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of framework objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.get_project_cache_location">
<span class="sig-name descname"><span class="pre">get_project_cache_location</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Application.get_project_cache_location" title="Permalink to this definition"></a></dt>
<dd><p>Gets the bundle’s cache-location path for the given project id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>project_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The project Entity id number.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Cache location directory path.</p>
</dd>
<dt class="field-odd">Rtype str<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.get_setting">
<span class="sig-name descname"><span class="pre">get_setting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Application.get_setting" title="Permalink to this definition"></a></dt>
<dd><p>Get a value from the item’s settings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">get_setting</span><span class="p">(</span><span class="s1">&#39;entity_types&#39;</span><span class="p">)</span>
<span class="go">[&#39;Sequence&#39;, &#39;Shot&#39;, &#39;Asset&#39;, &#39;Task&#39;]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – config name</p></li>
<li><p><strong>default</strong> – default value to return</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Value from the environment configuration</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.get_template">
<span class="sig-name descname"><span class="pre">get_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Application.get_template" title="Permalink to this definition"></a></dt>
<dd><p>Returns a template object for a particular template setting in the Framework configuration.
This method will look at the app configuration, determine which template is being referred to
in the setting, go into the main platform Template API and fetch that particular template object.</p>
<p>This is a convenience method. Shorthand for <code class="docutils literal notranslate"><span class="pre">self.sgtk.templates[</span> <span class="pre">self.get_setting(key)</span> <span class="pre">]</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> – Setting to retrieve template for</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.get_template_by_name">
<span class="sig-name descname"><span class="pre">get_template_by_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Application.get_template_by_name" title="Permalink to this definition"></a></dt>
<dd><p>Note: This is for advanced use cases - Most of the time you should probably use
<a class="reference internal" href="#sgtk.platform.Application.get_template" title="sgtk.platform.Application.get_template"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_template()</span></code></a>. Find a particular template, the way it is named in the master
config file <code class="docutils literal notranslate"><span class="pre">templates.yml</span></code>. This method will access the master templates file
directly and pull out a specifically named template without using the app config.
Note that using this method may result in code which is less portable across
studios, since it makes assumptions about how templates are named and defined in
the master config. Generally speaking, it is often better to access templates using
the app configuration and the get_template() method.</p>
<p>This is a convenience method. Shorthand for <code class="docutils literal notranslate"><span class="pre">self.sgtk.templates[template_name]</span></code>.</p>
<p>:param template_name
:returns: <code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code> object</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.icon_256">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">icon_256</span></span><a class="headerlink" href="#sgtk.platform.Application.icon_256" title="Permalink to this definition"></a></dt>
<dd><p>Path to a 256x256 pixel png file which describes the item</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.import_module">
<span class="sig-name descname"><span class="pre">import_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Application.import_module" title="Permalink to this definition"></a></dt>
<dd><p>Special import command for Toolkit bundles. Imports the python folder inside
an app and returns the specified module name that exists inside the python folder.</p>
<p>Each Toolkit App or Engine can have a python folder which contains additional
code. In order to ensure that Toolkit can run multiple versions of the same app,
as well as being able to reload app code if it changes, it is recommended that
this method is used whenever you want to access code in the python location.</p>
<p>For example, imagine you had the following structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tk</span><span class="o">-</span><span class="n">multi</span><span class="o">-</span><span class="n">mybundle</span>
   <span class="o">|-</span> <span class="n">app</span><span class="o">.</span><span class="n">py</span> <span class="ow">or</span> <span class="n">engine</span><span class="o">.</span><span class="n">py</span> <span class="ow">or</span> <span class="n">framework</span><span class="o">.</span><span class="n">py</span>
   <span class="o">|-</span> <span class="n">info</span><span class="o">.</span><span class="n">yml</span>
   \<span class="o">-</span> <span class="n">python</span>
       <span class="o">|-</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>   <span class="o">&lt;---</span> <span class="n">Needs</span> <span class="n">to</span> <span class="n">contain</span> <span class="s1">&#39;from . import tk_multi_mybundle&#39;</span>
       \<span class="o">-</span> <span class="n">tk_multi_mybundle</span>
</pre></div>
</div>
<p>The above structure is a standard Toolkit app outline. <code class="docutils literal notranslate"><span class="pre">app.py</span></code> is a
light weight wrapper and the python module
<code class="docutils literal notranslate"><span class="pre">tk_multi_myapp</span></code> module contains the actual code payload.
In order to import this in a Toolkit friendly way, you need to run
the following when you want to load the payload module inside of app.py:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">module_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s2">&quot;tk_multi_myapp&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.logger">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">logger</span></span><a class="headerlink" href="#sgtk.platform.Application.logger" title="Permalink to this definition"></a></dt>
<dd><p>Standard python <a class="reference external" href="https://docs.python.org/3.9/library/logging.html#logging.Logger" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Logger</span></code></a> for this engine, app or framework.</p>
<p>Use this whenever you want to emit or process
log messages. If you are developing an app,
engine or framework, call this method for generic logging.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Inside the <code class="docutils literal notranslate"><span class="pre">python</span></code> area of your app, engine or framework,
we recommend that you use <a class="reference internal" href="#sgtk.platform.get_logger" title="sgtk.platform.get_logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk.platform.get_logger()</span></code></a>
for your logging.</p>
</div>
<p>Logging will be dispatched to a logger parented under the
main toolkit logging namespace:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># pattern</span>
<span class="n">sgtk</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">environment_name</span><span class="o">.</span><span class="n">engine_instance_name</span>

<span class="c1"># for example</span>
<span class="n">sgtk</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">asset</span><span class="o">.</span><span class="n">tk</span><span class="o">-</span><span class="n">maya</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want all log messages that you are emitting in your
app, engine or framework to be written to a log file or
to a logging console, you can attach a std log handler here.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#sgtk.platform.Application.name" title="Permalink to this definition"></a></dt>
<dd><p>The short name for the item (e.g. tk-maya)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>name as string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.post_context_change">
<span class="sig-name descname"><span class="pre">post_context_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Application.post_context_change" title="Permalink to this definition"></a></dt>
<dd><p>Called after a context change.</p>
<p>Implemented by deriving classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old_context</strong> (<a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The context being changed away from.</p></li>
<li><p><strong>new_context</strong> (<a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The context being changed to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Application.pre_context_change">
<span class="sig-name descname"><span class="pre">pre_context_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Application.pre_context_change" title="Permalink to this definition"></a></dt>
<dd><p>Called before a context change.</p>
<p>Implemented by deriving classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old_context</strong> (<a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The context being changed away from.</p></li>
<li><p><strong>new_context</strong> (<a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The context being changed to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.sgtk">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sgtk</span></span><a class="headerlink" href="#sgtk.platform.Application.sgtk" title="Permalink to this definition"></a></dt>
<dd><p>Returns the Toolkit API instance associated with this item</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tank</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.site_cache_location">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">site_cache_location</span></span><a class="headerlink" href="#sgtk.platform.Application.site_cache_location" title="Permalink to this definition"></a></dt>
<dd><p>A site location on disk where the app or engine can store
random cache data. This location is guaranteed to exist on disk.</p>
<p>This location is configurable via the <code class="docutils literal notranslate"><span class="pre">cache_location</span></code> hook.
It typically points at a path in the local filesystem, e.g on a mac:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">Caches</span><span class="o">/</span><span class="n">Shotgun</span><span class="o">/</span><span class="n">SITENAME</span><span class="o">/</span><span class="n">BUNDLE_NAME</span>
</pre></div>
</div>
<p>This can be used to store cache data that the app wants to reuse across
sessions and can be shared across a site:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stored_query_data_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">site_cache_location</span><span class="p">,</span> <span class="s2">&quot;query.dat&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.style_constants">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">style_constants</span></span><a class="headerlink" href="#sgtk.platform.Application.style_constants" title="Permalink to this definition"></a></dt>
<dd><p>Returns a dictionary of style constants. These can be used to build
UIs using standard colors and other style components. All keys returned
in this dictionary can also be used inside a style.qss that lives
at the root level of the app, engine or framework. Use a
<code class="docutils literal notranslate"><span class="pre">{{DOUBLE_BACKET}}</span></code> syntax in the stylesheet file, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">QWidget</span>
<span class="p">{</span>
    <span class="n">color</span><span class="p">:</span> <span class="p">{{</span><span class="n">SG_FOREGROUND_COLOR</span><span class="p">}};</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This property returns the values for all constants, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;SG_HIGHLIGHT_COLOR&quot;</span><span class="p">:</span> <span class="s2">&quot;#18A7E3&quot;</span><span class="p">,</span>
  <span class="s2">&quot;SG_ALERT_COLOR&quot;</span><span class="p">:</span> <span class="s2">&quot;#FC6246&quot;</span><span class="p">,</span>
  <span class="s2">&quot;SG_FOREGROUND_COLOR&quot;</span><span class="p">:</span> <span class="s2">&quot;#C8C8C8&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary. See above for example</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.support_url">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">support_url</span></span><a class="headerlink" href="#sgtk.platform.Application.support_url" title="Permalink to this definition"></a></dt>
<dd><p>Return the relevant support url for this item.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>url string, None if no documentation was found</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.tank">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tank</span></span><a class="headerlink" href="#sgtk.platform.Application.tank" title="Permalink to this definition"></a></dt>
<dd><p>Returns the Toolkit API instance associated with this item</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tank</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Application.version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version</span></span><a class="headerlink" href="#sgtk.platform.Application.version" title="Permalink to this definition"></a></dt>
<dd><p>The version of the item (e.g. ‘v0.2.3’)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string representing the version</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="frameworks">
<h2>Frameworks<a class="headerlink" href="#frameworks" title="Permalink to this heading"></a></h2>
<p>Frameworks are like libraries. They contain functionality that can be shared and reused across apps or engines.</p>
<p>Frameworks are automatically imported into the system whenever Toolkit finds a framework defined in the info.yml
for an app or an engine. Once imported, it will be available in the frameworks dictionary on the host object.
For example, an app or engine (or framework) may have the following definition in its info.yml:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">frameworks</span><span class="p">:</span>
    <span class="o">-</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;tk-framework-widget&quot;</span><span class="p">,</span> <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;v0.1.2&quot;</span><span class="p">}</span>
    <span class="o">-</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;tk-framework-tools&quot;</span><span class="p">,</span> <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;v0.x.x&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>When Toolkit loads the app, it will verify that the two frameworks are present in the environment and
initialize them. Once initialized, the app that needs them can access them via the <code class="docutils literal notranslate"><span class="pre">self.frameworks</span></code>
property:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">foo_bar_module</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">frameworks</span><span class="p">[</span><span class="s2">&quot;tk-framework-widget&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s2">&quot;foo_bar&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>In order to import a framework module into app or engine code, use the convenience method
<a class="reference internal" href="#sgtk.platform.import_framework" title="sgtk.platform.import_framework"><code class="xref py py-meth docutils literal notranslate"><span class="pre">import_framework()</span></code></a>. This method is typically executed right in the beginning
of the file, before you create any methods or classes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="n">widgets</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">import_framework</span><span class="p">(</span><span class="s2">&quot;tk-framework-widget&quot;</span><span class="p">,</span> <span class="s2">&quot;widgets&quot;</span><span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MyBrowser</span><span class="p">(</span><span class="n">widgets</span><span class="o">.</span><span class="n">BrowserWidget</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>If you would like to load the framework instance itself rather than a module which was imported as part of
the framework initalization, you can use the <a class="reference internal" href="#sgtk.platform.get_framework" title="sgtk.platform.get_framework"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_framework()</span></code></a> method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="n">fw</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">get_framework</span><span class="p">(</span><span class="s2">&quot;tk-framework-widget&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that this only works inside of code which has been imported via the import_module command - e.g.
the way we recommend that Sgtk code is being imported into apps. For other scenarios, use the frameworks
dictionary in conjunction with the import_module command, as shown above.</p>
<p>Frameworks are imported in an individual fashion, meaning that even though a framework is used in two apps,
each app will import its own instance of the framework. This is to ensure stability and encapsulation.</p>
<p>A framework works just like an app or an engine - it has an info.yml manifest, a framework.py file which
typically contains a class which derives from the Framework base class, etc.</p>
<section id="framework">
<h3>Framework<a class="headerlink" href="#framework" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.platform.Framework">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.platform.</span></span><span class="sig-name descname"><span class="pre">Framework</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">descriptor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">env</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/framework.html#Framework"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Framework" title="Permalink to this definition"></a></dt>
<dd><p>Base class for a Toolkit Framework</p>
<p>Called by the bundle loading framework. The constructor
is not meant to be overridden by deriving classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>engine</strong> (<a class="reference internal" href="#sgtk.platform.Engine" title="sgtk.platform.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a>) – The engine instance to connect this fw to</p></li>
<li><p><strong>app_name</strong> – The short name of this framework (e.g. tk-framework-widget)</p></li>
<li><p><strong>settings</strong> – a settings dictionary for this fw</p></li>
<li><p><strong>env</strong> – the environment that the framework belongs to</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.shotgun">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shotgun</span></span><a class="headerlink" href="#sgtk.platform.Framework.shotgun" title="Permalink to this definition"></a></dt>
<dd><p>Returns a Shotgun API handle associated with the currently running
environment. This method is a convenience method that calls out
to <code class="xref py py-meth docutils literal notranslate"><span class="pre">shotgun()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Shotgun API handle</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.engine">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">engine</span></span><a class="headerlink" href="#sgtk.platform.Framework.engine" title="Permalink to this definition"></a></dt>
<dd><p>The engine that this framework is connected to</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.is_shared">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_shared</span></span><a class="headerlink" href="#sgtk.platform.Framework.is_shared" title="Permalink to this definition"></a></dt>
<dd><p>Boolean indicating whether this is a shared framework.</p>
<p>Frameworks are shared by default and this is a setting that can be
controlled by the bundle manifest.</p>
<p>When a framework is shared, a single copy of the code is shared
across all apps that use it. All apps will cut their framework
instances from the same code. Any global state within the framework
will be shared across all framework instances, and hence across all
different apps.</p>
<p>If your framework manages complex global state that you want to control
precisely, it may be useful to set the framework to be not shared in
the <code class="docutils literal notranslate"><span class="pre">info.yml</span></code> manifest file. This will ensure that each bundle that
uses the framework will maintain it’s own private version of the
framework code.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.get_metrics_properties">
<span class="sig-name descname"><span class="pre">get_metrics_properties</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/framework.html#Framework.get_metrics_properties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Framework.get_metrics_properties" title="Permalink to this definition"></a></dt>
<dd><p>Returns a dictionary with properties to use when emitting a metric event
for this framework in the current engine.</p>
<p>Frameworks don’t have any particular properties and just return the result
of <a class="reference internal" href="#sgtk.platform.Engine.get_metrics_properties" title="sgtk.platform.Engine.get_metrics_properties"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.get_metrics_properties()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary as per above.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.init_framework">
<span class="sig-name descname"><span class="pre">init_framework</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/framework.html#Framework.init_framework"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Framework.init_framework" title="Permalink to this definition"></a></dt>
<dd><p>Implemented by deriving classes in order to initialize the app.
Called by the engine as it loads the framework.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.destroy_framework">
<span class="sig-name descname"><span class="pre">destroy_framework</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/framework.html#Framework.destroy_framework"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Framework.destroy_framework" title="Permalink to this definition"></a></dt>
<dd><p>Implemented by deriving classes in order to tear down the framework.
Called by the engine as it is being destroyed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.log_debug">
<span class="sig-name descname"><span class="pre">log_debug</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/framework.html#Framework.log_debug"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Framework.log_debug" title="Permalink to this definition"></a></dt>
<dd><p>Logs a debug message.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.18: </span>Use <a class="reference internal" href="#sgtk.platform.Engine.logger" title="sgtk.platform.Engine.logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.logger()</span></code></a> instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> – Message to log.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.log_info">
<span class="sig-name descname"><span class="pre">log_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/framework.html#Framework.log_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Framework.log_info" title="Permalink to this definition"></a></dt>
<dd><p>Logs an info message.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.18: </span>Use <a class="reference internal" href="#sgtk.platform.Engine.logger" title="sgtk.platform.Engine.logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.logger()</span></code></a> instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> – Message to log.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.log_warning">
<span class="sig-name descname"><span class="pre">log_warning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/framework.html#Framework.log_warning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Framework.log_warning" title="Permalink to this definition"></a></dt>
<dd><p>Logs an warning message.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.18: </span>Use <a class="reference internal" href="#sgtk.platform.Engine.logger" title="sgtk.platform.Engine.logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.logger()</span></code></a> instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> – Message to log.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.log_error">
<span class="sig-name descname"><span class="pre">log_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/framework.html#Framework.log_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Framework.log_error" title="Permalink to this definition"></a></dt>
<dd><p>Logs an error message.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.18: </span>Use <a class="reference internal" href="#sgtk.platform.Engine.logger" title="sgtk.platform.Engine.logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.logger()</span></code></a> instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> – Message to log.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.log_exception">
<span class="sig-name descname"><span class="pre">log_exception</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/framework.html#Framework.log_exception"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.Framework.log_exception" title="Permalink to this definition"></a></dt>
<dd><p>Logs an exception message.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.18: </span>Use <a class="reference internal" href="#sgtk.platform.Engine.logger" title="sgtk.platform.Engine.logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.logger()</span></code></a> instead.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> – Message to log.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.cache_location">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cache_location</span></span><a class="headerlink" href="#sgtk.platform.Framework.cache_location" title="Permalink to this definition"></a></dt>
<dd><p>An item-specific location on disk where the app or engine can store
random cache data. This location is guaranteed to exist on disk.</p>
<p>This location is configurable via the <code class="docutils literal notranslate"><span class="pre">cache_location</span></code> hook.
It typically points at a path in the local filesystem, e.g on a mac:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">Caches</span><span class="o">/</span><span class="n">Shotgun</span><span class="o">/</span><span class="n">SITENAME</span><span class="o">/</span><span class="n">PROJECT_ID</span><span class="o">/</span><span class="n">BUNDLE_NAME</span>
</pre></div>
</div>
<p>This can be used to store cache data that the app wants to reuse across
sessions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stored_query_data_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cache_location</span><span class="p">,</span> <span class="s2">&quot;query.dat&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.change_context">
<span class="sig-name descname"><span class="pre">change_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Framework.change_context" title="Permalink to this definition"></a></dt>
<dd><p>Abstract method for context changing.</p>
<p>Implemented by deriving classes that wish to support context changes and
require specific logic to do so safely.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_context</strong> – The context being changed to.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.context">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">context</span></span><a class="headerlink" href="#sgtk.platform.Framework.context" title="Permalink to this definition"></a></dt>
<dd><p>The context associated with this item.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.context_change_allowed">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">context_change_allowed</span></span><a class="headerlink" href="#sgtk.platform.Framework.context_change_allowed" title="Permalink to this definition"></a></dt>
<dd><p>Whether a context change is allowed without the need for a restart.
If a bundle supports on-the-fly context changing, this property should
be overridden in the deriving class and forced to return True.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.create_hook_instance">
<span class="sig-name descname"><span class="pre">create_hook_instance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hook_expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Framework.create_hook_instance" title="Permalink to this definition"></a></dt>
<dd><p>Returns the instance of a hook object given an expression.</p>
<p>This is useful for complex workflows where it is beneficial to
maintain a handle to a hook instance. Normally, hooks are stateless
and every time a hook is called, a new instance is returned. This method
provides a standardized way to retrieve an instance of a hook:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">_plugin</span> <span class="o">=</span> <span class="n">app_object</span><span class="o">.</span><span class="n">create_hook_instance</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{config}</span><span class="s2">/path/to/my_hook.py&quot;</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_plugin</span><span class="o">.</span><span class="n">execute_method_x</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_plugin</span><span class="o">.</span><span class="n">execute_method_y</span><span class="p">()</span>
<span class="bp">self</span><span class="o">.</span><span class="n">_plugin</span><span class="o">.</span><span class="n">execute_method_z</span><span class="p">()</span>
</pre></div>
</div>
<p>The hook expression is the raw value that is specified in the configuration file.
If you want to access a configuration setting instead (like how for example
<a class="reference internal" href="#sgtk.platform.Framework.execute_hook_method" title="sgtk.platform.Framework.execute_hook_method"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute_hook_method()</span></code></a> works), simply call <a class="reference internal" href="#sgtk.platform.Framework.get_setting" title="sgtk.platform.Framework.get_setting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_setting()</span></code></a> to retrieve
the value and then pass the settings value to this method.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about hook syntax, see <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a></p>
</div>
<p>An optional <code class="docutils literal notranslate"><span class="pre">base_class</span></code> can be provided to override the default <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a>
base class. This is useful for bundles that create hook instances at
execution time and wish to provide default implementation without the need
to configure the base hook. The supplied class must inherit from Hook.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hook_expression</strong> – Path to hook to execute. See above for syntax details.</p></li>
<li><p><strong>base_class</strong> – A python class to use as the base class for the created
hook. This will override the default hook base class, <code class="docutils literal notranslate"><span class="pre">Hook</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code> instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.description">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">description</span></span><a class="headerlink" href="#sgtk.platform.Framework.description" title="Permalink to this definition"></a></dt>
<dd><p>A short description of the item</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.disk_location">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">disk_location</span></span><a class="headerlink" href="#sgtk.platform.Framework.disk_location" title="Permalink to this definition"></a></dt>
<dd><p>The folder on disk where this item is located.
This can be useful if you want to write app code
to retrieve a local resource:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app_font</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">disk_location</span><span class="p">,</span> <span class="s2">&quot;resources&quot;</span><span class="p">,</span> <span class="s2">&quot;font.fnt&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.display_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">display_name</span></span><a class="headerlink" href="#sgtk.platform.Framework.display_name" title="Permalink to this definition"></a></dt>
<dd><p>The display name for the item (e.g. Maya Engine)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>display name as string</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.documentation_url">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">documentation_url</span></span><a class="headerlink" href="#sgtk.platform.Framework.documentation_url" title="Permalink to this definition"></a></dt>
<dd><p>Return the relevant documentation url for this item.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>url string, None if no documentation was found</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.ensure_folder_exists">
<span class="sig-name descname"><span class="pre">ensure_folder_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Framework.ensure_folder_exists" title="Permalink to this definition"></a></dt>
<dd><p>Make sure that the given folder exists on disk.
Convenience method to make it easy for apps and engines to create folders in a
standardized fashion. While the creation of high level folder structure such as
Shot and Asset folders is typically handled by the folder creation system in
Toolkit, Apps tend to need to create leaf-level folders such as publish folders
and work areas. These are often created just in time of the operation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method calls out to the <code class="docutils literal notranslate"><span class="pre">ensure_folder_exists</span></code> core hook, making
the I/O operation user configurable. We recommend using this method
over the methods provided in <code class="docutils literal notranslate"><span class="pre">sgtk.util.filesystem</span></code>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – path to create</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.execute_hook">
<span class="sig-name descname"><span class="pre">execute_hook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Framework.execute_hook" title="Permalink to this definition"></a></dt>
<dd><p>Execute a hook that is part of the environment configuration for the current bundle.</p>
<p>Convenience method that calls <a class="reference internal" href="#sgtk.platform.Framework.execute_hook_method" title="sgtk.platform.Framework.execute_hook_method"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute_hook_method()</span></code></a> with the
method_name parameter set to “execute”.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This method is present for backwards compatibility. For
all new hooks, we recommend using <a class="reference internal" href="#sgtk.platform.Framework.execute_hook_method" title="sgtk.platform.Framework.execute_hook_method"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute_hook_method()</span></code></a>
instead.</p>
</div>
<p>You simply pass the name of the hook setting that you want to execute and
the accompanying arguments, and toolkit will find the correct hook file based
on the currently configured setting and then execute the execute() method for
that hook.</p>
<p>An optional <code class="docutils literal notranslate"><span class="pre">base_class</span></code> can be provided to override the default <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a>
base class. This is useful for bundles that want to define and document a strict
interface for hooks. The classes defined in the hook have to derived from this classes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about hooks, see <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – The name of the hook setting you want to execute.</p></li>
<li><p><strong>base_class</strong> – A python class to use as the base class for the created
hook. This will override the default hook base class, <code class="docutils literal notranslate"><span class="pre">Hook</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The return value from the hook</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.execute_hook_by_name">
<span class="sig-name descname"><span class="pre">execute_hook_by_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hook_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Framework.execute_hook_by_name" title="Permalink to this definition"></a></dt>
<dd><p>Execute an arbitrary hook located in the hooks folder for this project.
The hook_name is the name of the python file in which the hook resides,
without the file extension.</p>
<p>In most use cases, the execute_hook method is the preferred way to
access a hook from an app.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Now deprecated - Please use <a class="reference internal" href="#sgtk.platform.Framework.execute_hook_expression" title="sgtk.platform.Framework.execute_hook_expression"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute_hook_expression()</span></code></a>
instead.</p>
</div>
<p>This method is typically only used when you want to execute an arbitrary
list of hooks, for example if you want to run a series of arbitrary
user defined pre-publish validation hooks.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about hooks, see <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>hook_name</strong> – name of the legacy hook file to execute.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.execute_hook_expression">
<span class="sig-name descname"><span class="pre">execute_hook_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hook_expression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Framework.execute_hook_expression" title="Permalink to this definition"></a></dt>
<dd><p>Execute an arbitrary hook via an expression. While the methods execute_hook
and execute_hook_method allows you to execute a particular hook setting as
specified in the app configuration manifest, this methods allows you to
execute a hook directly by passing a hook expression, for example
<code class="docutils literal notranslate"><span class="pre">{config}/path/to/my_hook.py</span></code></p>
<p>This is useful if you are doing rapid app development and don’t necessarily
want to expose a hook as a configuration setting just yet. It is also useful
if you have app settings that are nested deep inside of lists or dictionaries.
In that case, you cannot use execute_hook, but instead will have to retrieve
the value specifically and then run it.</p>
<p>An optional <code class="docutils literal notranslate"><span class="pre">base_class</span></code> can be provided to override the default <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a>
base class. This is useful for bundles that want to define and document a strict
interface for hooks. The classes defined in the hook have to derived from this classes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about hooks, see <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hook_expression</strong> – Path to hook to execute. See above for syntax details.</p></li>
<li><p><strong>method_name</strong> – Method inside the hook to execute.</p></li>
<li><p><strong>base_class</strong> – A python class to use as the base class for the created
hook. This will override the default hook base class, <code class="docutils literal notranslate"><span class="pre">Hook</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The return value from the hook</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.execute_hook_method">
<span class="sig-name descname"><span class="pre">execute_hook_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Framework.execute_hook_method" title="Permalink to this definition"></a></dt>
<dd><p>Execute a specific method in a hook that is part of the
environment configuration for the current bundle.</p>
<p>You simply pass the name of the hook setting that you want to execute, the
name of the method you want to execute and the accompanying arguments.
Toolkit will find the correct hook file based on the currently configured
setting and then execute the specified method.</p>
<p>Hooks form a flexible way to extend and make toolkit apps or engines configurable.
A hook acts like a setting in that it needs to be configured as part of the app’s
configuration, but instead of being a simple value, it is a code snippet contained
inside a class.</p>
<p>Apps typically provide default hooks to make installation and overriding easy.
Each hook is represented by a setting, similar to the ones you access via
the <a class="reference internal" href="#sgtk.platform.Framework.get_setting" title="sgtk.platform.Framework.get_setting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_setting()</span></code></a> method, however instead of retrieving a fixed value,
you execute code which generates a value.</p>
<p>This method will execute a specific method for a given hook setting. Toolkit will
find the actual python hook file and handle initialization and execution for you,
by looking at the configuration settings and resolve a path based on this.</p>
<p>Arguments should always be passed in by name. This is to make it easy to add new
parameters without breaking backwards compatibility, for example
<code class="docutils literal notranslate"><span class="pre">execute_hook_method(&quot;validator&quot;,</span> <span class="pre">&quot;pre_check&quot;,</span> <span class="pre">name=curr_scene,</span> <span class="pre">version=curr_ver).</span></code></p>
<p>An optional <code class="docutils literal notranslate"><span class="pre">base_class</span></code> can be provided to override the default <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a>
base class. This is useful for bundles that want to define and document a strict
interface for hooks. The classes defined in the hook have to derived from this classes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about hooks, see <a class="reference internal" href="core.html#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – The name of the hook setting you want to execute.</p></li>
<li><p><strong>method_name</strong> – Name of the method to execute</p></li>
<li><p><strong>base_class</strong> – A python class to use as the base class for the created
hook. This will override the default hook base class, <code class="docutils literal notranslate"><span class="pre">Hook</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The return value from the hook</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.frameworks">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">frameworks</span></span><a class="headerlink" href="#sgtk.platform.Framework.frameworks" title="Permalink to this definition"></a></dt>
<dd><p>List of all frameworks associated with this item</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of framework objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.get_project_cache_location">
<span class="sig-name descname"><span class="pre">get_project_cache_location</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Framework.get_project_cache_location" title="Permalink to this definition"></a></dt>
<dd><p>Gets the bundle’s cache-location path for the given project id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>project_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The project Entity id number.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Cache location directory path.</p>
</dd>
<dt class="field-odd">Rtype str<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.get_setting">
<span class="sig-name descname"><span class="pre">get_setting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Framework.get_setting" title="Permalink to this definition"></a></dt>
<dd><p>Get a value from the item’s settings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">get_setting</span><span class="p">(</span><span class="s1">&#39;entity_types&#39;</span><span class="p">)</span>
<span class="go">[&#39;Sequence&#39;, &#39;Shot&#39;, &#39;Asset&#39;, &#39;Task&#39;]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – config name</p></li>
<li><p><strong>default</strong> – default value to return</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Value from the environment configuration</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.get_template">
<span class="sig-name descname"><span class="pre">get_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Framework.get_template" title="Permalink to this definition"></a></dt>
<dd><p>Returns a template object for a particular template setting in the Framework configuration.
This method will look at the app configuration, determine which template is being referred to
in the setting, go into the main platform Template API and fetch that particular template object.</p>
<p>This is a convenience method. Shorthand for <code class="docutils literal notranslate"><span class="pre">self.sgtk.templates[</span> <span class="pre">self.get_setting(key)</span> <span class="pre">]</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> – Setting to retrieve template for</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.get_template_by_name">
<span class="sig-name descname"><span class="pre">get_template_by_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Framework.get_template_by_name" title="Permalink to this definition"></a></dt>
<dd><p>Note: This is for advanced use cases - Most of the time you should probably use
<a class="reference internal" href="#sgtk.platform.Framework.get_template" title="sgtk.platform.Framework.get_template"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_template()</span></code></a>. Find a particular template, the way it is named in the master
config file <code class="docutils literal notranslate"><span class="pre">templates.yml</span></code>. This method will access the master templates file
directly and pull out a specifically named template without using the app config.
Note that using this method may result in code which is less portable across
studios, since it makes assumptions about how templates are named and defined in
the master config. Generally speaking, it is often better to access templates using
the app configuration and the get_template() method.</p>
<p>This is a convenience method. Shorthand for <code class="docutils literal notranslate"><span class="pre">self.sgtk.templates[template_name]</span></code>.</p>
<p>:param template_name
:returns: <code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code> object</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.icon_256">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">icon_256</span></span><a class="headerlink" href="#sgtk.platform.Framework.icon_256" title="Permalink to this definition"></a></dt>
<dd><p>Path to a 256x256 pixel png file which describes the item</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.import_module">
<span class="sig-name descname"><span class="pre">import_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Framework.import_module" title="Permalink to this definition"></a></dt>
<dd><p>Special import command for Toolkit bundles. Imports the python folder inside
an app and returns the specified module name that exists inside the python folder.</p>
<p>Each Toolkit App or Engine can have a python folder which contains additional
code. In order to ensure that Toolkit can run multiple versions of the same app,
as well as being able to reload app code if it changes, it is recommended that
this method is used whenever you want to access code in the python location.</p>
<p>For example, imagine you had the following structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tk</span><span class="o">-</span><span class="n">multi</span><span class="o">-</span><span class="n">mybundle</span>
   <span class="o">|-</span> <span class="n">app</span><span class="o">.</span><span class="n">py</span> <span class="ow">or</span> <span class="n">engine</span><span class="o">.</span><span class="n">py</span> <span class="ow">or</span> <span class="n">framework</span><span class="o">.</span><span class="n">py</span>
   <span class="o">|-</span> <span class="n">info</span><span class="o">.</span><span class="n">yml</span>
   \<span class="o">-</span> <span class="n">python</span>
       <span class="o">|-</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>   <span class="o">&lt;---</span> <span class="n">Needs</span> <span class="n">to</span> <span class="n">contain</span> <span class="s1">&#39;from . import tk_multi_mybundle&#39;</span>
       \<span class="o">-</span> <span class="n">tk_multi_mybundle</span>
</pre></div>
</div>
<p>The above structure is a standard Toolkit app outline. <code class="docutils literal notranslate"><span class="pre">app.py</span></code> is a
light weight wrapper and the python module
<code class="docutils literal notranslate"><span class="pre">tk_multi_myapp</span></code> module contains the actual code payload.
In order to import this in a Toolkit friendly way, you need to run
the following when you want to load the payload module inside of app.py:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">module_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s2">&quot;tk_multi_myapp&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.logger">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">logger</span></span><a class="headerlink" href="#sgtk.platform.Framework.logger" title="Permalink to this definition"></a></dt>
<dd><p>Standard python <a class="reference external" href="https://docs.python.org/3.9/library/logging.html#logging.Logger" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Logger</span></code></a> for this engine, app or framework.</p>
<p>Use this whenever you want to emit or process
log messages. If you are developing an app,
engine or framework, call this method for generic logging.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Inside the <code class="docutils literal notranslate"><span class="pre">python</span></code> area of your app, engine or framework,
we recommend that you use <a class="reference internal" href="#sgtk.platform.get_logger" title="sgtk.platform.get_logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk.platform.get_logger()</span></code></a>
for your logging.</p>
</div>
<p>Logging will be dispatched to a logger parented under the
main toolkit logging namespace:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># pattern</span>
<span class="n">sgtk</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">environment_name</span><span class="o">.</span><span class="n">engine_instance_name</span>

<span class="c1"># for example</span>
<span class="n">sgtk</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">asset</span><span class="o">.</span><span class="n">tk</span><span class="o">-</span><span class="n">maya</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want all log messages that you are emitting in your
app, engine or framework to be written to a log file or
to a logging console, you can attach a std log handler here.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#sgtk.platform.Framework.name" title="Permalink to this definition"></a></dt>
<dd><p>The short name for the item (e.g. tk-maya)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>name as string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.post_context_change">
<span class="sig-name descname"><span class="pre">post_context_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Framework.post_context_change" title="Permalink to this definition"></a></dt>
<dd><p>Called after a context change.</p>
<p>Implemented by deriving classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old_context</strong> (<a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The context being changed away from.</p></li>
<li><p><strong>new_context</strong> (<a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The context being changed to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.Framework.pre_context_change">
<span class="sig-name descname"><span class="pre">pre_context_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_context</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.Framework.pre_context_change" title="Permalink to this definition"></a></dt>
<dd><p>Called before a context change.</p>
<p>Implemented by deriving classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old_context</strong> (<a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The context being changed away from.</p></li>
<li><p><strong>new_context</strong> (<a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The context being changed to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.sgtk">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sgtk</span></span><a class="headerlink" href="#sgtk.platform.Framework.sgtk" title="Permalink to this definition"></a></dt>
<dd><p>Returns the Toolkit API instance associated with this item</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tank</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.site_cache_location">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">site_cache_location</span></span><a class="headerlink" href="#sgtk.platform.Framework.site_cache_location" title="Permalink to this definition"></a></dt>
<dd><p>A site location on disk where the app or engine can store
random cache data. This location is guaranteed to exist on disk.</p>
<p>This location is configurable via the <code class="docutils literal notranslate"><span class="pre">cache_location</span></code> hook.
It typically points at a path in the local filesystem, e.g on a mac:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">Caches</span><span class="o">/</span><span class="n">Shotgun</span><span class="o">/</span><span class="n">SITENAME</span><span class="o">/</span><span class="n">BUNDLE_NAME</span>
</pre></div>
</div>
<p>This can be used to store cache data that the app wants to reuse across
sessions and can be shared across a site:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stored_query_data_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">site_cache_location</span><span class="p">,</span> <span class="s2">&quot;query.dat&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.style_constants">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">style_constants</span></span><a class="headerlink" href="#sgtk.platform.Framework.style_constants" title="Permalink to this definition"></a></dt>
<dd><p>Returns a dictionary of style constants. These can be used to build
UIs using standard colors and other style components. All keys returned
in this dictionary can also be used inside a style.qss that lives
at the root level of the app, engine or framework. Use a
<code class="docutils literal notranslate"><span class="pre">{{DOUBLE_BACKET}}</span></code> syntax in the stylesheet file, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">QWidget</span>
<span class="p">{</span>
    <span class="n">color</span><span class="p">:</span> <span class="p">{{</span><span class="n">SG_FOREGROUND_COLOR</span><span class="p">}};</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This property returns the values for all constants, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;SG_HIGHLIGHT_COLOR&quot;</span><span class="p">:</span> <span class="s2">&quot;#18A7E3&quot;</span><span class="p">,</span>
  <span class="s2">&quot;SG_ALERT_COLOR&quot;</span><span class="p">:</span> <span class="s2">&quot;#FC6246&quot;</span><span class="p">,</span>
  <span class="s2">&quot;SG_FOREGROUND_COLOR&quot;</span><span class="p">:</span> <span class="s2">&quot;#C8C8C8&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary. See above for example</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.support_url">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">support_url</span></span><a class="headerlink" href="#sgtk.platform.Framework.support_url" title="Permalink to this definition"></a></dt>
<dd><p>Return the relevant support url for this item.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>url string, None if no documentation was found</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.tank">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tank</span></span><a class="headerlink" href="#sgtk.platform.Framework.tank" title="Permalink to this definition"></a></dt>
<dd><p>Returns the Toolkit API instance associated with this item</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tank</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.platform.Framework.version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version</span></span><a class="headerlink" href="#sgtk.platform.Framework.version" title="Permalink to this definition"></a></dt>
<dd><p>The version of the item (e.g. ‘v0.2.3’)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>string representing the version</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="exceptions">
<h2>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this heading"></a></h2>
<p>The following exception types are raised from within <code class="docutils literal notranslate"><span class="pre">sgtk.platform</span></code>:</p>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.platform.TankEngineInitError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.platform.</span></span><span class="sig-name descname"><span class="pre">TankEngineInitError</span></span><a class="reference internal" href="_modules/tank/platform/errors.html#TankEngineInitError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.TankEngineInitError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#sgtk.TankError" title="tank.errors.TankError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankError</span></code></a></p>
<p>Exception that indicates that an engine could not start up.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.TankEngineInitError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.TankEngineInitError.with_traceback" title="Permalink to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sgtk.platform.TankMissingEngineError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.platform.</span></span><span class="sig-name descname"><span class="pre">TankMissingEngineError</span></span><a class="reference internal" href="_modules/tank/platform/errors.html#TankMissingEngineError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.TankMissingEngineError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sgtk.platform.TankEngineInitError" title="tank.platform.errors.TankEngineInitError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankEngineInitError</span></code></a></p>
<p>Exception that indicates that an engine could not start up.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.TankMissingEngineError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.TankMissingEngineError.with_traceback" title="Permalink to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sgtk.platform.TankContextChangeNotSupportedError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.platform.</span></span><span class="sig-name descname"><span class="pre">TankContextChangeNotSupportedError</span></span><a class="reference internal" href="_modules/tank/platform/errors.html#TankContextChangeNotSupportedError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.TankContextChangeNotSupportedError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#sgtk.TankError" title="tank.errors.TankError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankError</span></code></a></p>
<p>Exception that indicates that a requested context change is not allowed
based on a check of the current engine and all of its active apps.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.platform.TankContextChangeNotSupportedError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.TankContextChangeNotSupportedError.with_traceback" title="Permalink to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

</section>
<section id="app-and-engine-development">
<h2>App and Engine Development<a class="headerlink" href="#app-and-engine-development" title="Permalink to this heading"></a></h2>
<section id="import-and-access-methods">
<h3>Import and access methods<a class="headerlink" href="#import-and-access-methods" title="Permalink to this heading"></a></h3>
<p>The following methods are useful when writing app, engine or framework code and you need to
access and load other objects.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For examples of how the below methods are used in practice, check out
our starter app <a class="reference external" href="https://github.com/shotgunsoftware/tk-multi-starterapp">https://github.com/shotgunsoftware/tk-multi-starterapp</a>.</p>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="sgtk.platform.current_bundle">
<span class="sig-prename descclassname"><span class="pre">sgtk.platform.</span></span><span class="sig-name descname"><span class="pre">current_bundle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.current_bundle" title="Permalink to this definition"></a></dt>
<dd><p>Returns the bundle (app, engine or framework) instance for the
app that the calling code is associated with. This is a special method, designed to
be used inside python modules that belong to apps, engines or frameworks.</p>
<p>The calling code needs to have been imported using toolkit’s standard import
mechanism, <a class="reference internal" href="#sgtk.platform.Application.import_module" title="sgtk.platform.Application.import_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Application.import_module()</span></code></a>, otherwise an exception will be raised.</p>
<p>This special helper method can be useful when code deep inside an app needs
to reach out to for example grab a configuration value. Then you can simply do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">current_bundle</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">get_setting</span><span class="p">(</span><span class="s2">&quot;frame_range&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sgtk.platform.Application" title="sgtk.platform.Application"><code class="xref py py-class docutils literal notranslate"><span class="pre">Application</span></code></a>, <a class="reference internal" href="#sgtk.platform.Engine" title="sgtk.platform.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> or <a class="reference internal" href="#sgtk.platform.Framework" title="sgtk.platform.Framework"><code class="xref py py-class docutils literal notranslate"><span class="pre">Framework</span></code></a> instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.platform.get_framework">
<span class="sig-prename descclassname"><span class="pre">sgtk.platform.</span></span><span class="sig-name descname"><span class="pre">get_framework</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">framework</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/util.html#get_framework"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.platform.get_framework" title="Permalink to this definition"></a></dt>
<dd><p>Convenience method that returns a framework instance given a framework name.</p>
<p>This is a special method, designed to
be used inside python modules that belong to apps, engines or frameworks.</p>
<p>The calling code needs to have been imported using toolkit’s standard import
mechanism, import_module(), otherwise an exception will be raised.</p>
<p>For example, if your app code requires the tk-framework-helpers framework, and you
need to retrieve a configuration setting from this framework, then you can
simply do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fw</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">get_framework</span><span class="p">(</span><span class="s2">&quot;tk-framework-helpers&quot;</span><span class="p">)</span>
<span class="n">fw</span><span class="o">.</span><span class="n">get_setting</span><span class="p">(</span><span class="s2">&quot;frame_range&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>framework</strong> – name of the framework object to access, as defined in the app’s
info.yml manifest.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>framework instance</p>
</dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sgtk.platform.Framework" title="sgtk.platform.Framework"><code class="xref py py-class docutils literal notranslate"><span class="pre">Framework</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.platform.import_framework">
<span class="sig-prename descclassname"><span class="pre">sgtk.platform.</span></span><span class="sig-name descname"><span class="pre">import_framework</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.import_framework" title="Permalink to this definition"></a></dt>
<dd><p>Convenience method for using frameworks code inside of apps, engines and other frameworks.</p>
<p>This method is intended to replace an import statement.
Instead of typing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">foo_bar</span>
</pre></div>
</div>
<p>You use the following syntax to load a framework module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">foo_bar</span> <span class="o">=</span> <span class="n">tank</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">import_framework</span><span class="p">(</span><span class="s2">&quot;tk-framework-mystuff&quot;</span><span class="p">,</span> <span class="s2">&quot;foo_bar&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This is a special method, designed to
be used inside python modules that belong to apps, engines or frameworks.</p>
<p>The calling code needs to have been imported using toolkit’s standard import
mechanism, <code class="xref py py-meth docutils literal notranslate"><span class="pre">Bundle.import_module()</span></code>, otherwise an exception will be raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>framework</strong> – name of the framework object to access, as defined in the app’s
info.yml manifest.</p></li>
<li><p><strong>module</strong> – module to load from framework</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.platform.get_logger">
<span class="sig-prename descclassname"><span class="pre">sgtk.platform.</span></span><span class="sig-name descname"><span class="pre">get_logger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.platform.get_logger" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="manifest-file">
<h3>Manifest file<a class="headerlink" href="#manifest-file" title="Permalink to this heading"></a></h3>
<p>Apps, engines and frameworks each have a metadata file. It always resides in the root of the app or engine
and is always named <code class="docutils literal notranslate"><span class="pre">info.yml</span></code>. This metadata file contains important information about the item:</p>
<ul class="simple">
<li><p>Configuration settings available for an app or engine.</p></li>
<li><p>Display name, documentation and support links for the app and other user facing metadata.</p></li>
<li><p>All custom Flow Production Tracking fields that are required by the app or engine code.</p></li>
<li><p>Which frameworks that are required in order for this app to run. You can specify
an exact framework version to use (e.g. <code class="docutils literal notranslate"><span class="pre">v1.2.3</span></code>) or you can track against a subset of
versions (e.g. <code class="docutils literal notranslate"><span class="pre">v1.x.x</span></code> or <code class="docutils literal notranslate"><span class="pre">v1.2.x</span></code>).</p></li>
</ul>
<p>For real-world examples, see for example
the <a class="reference external" href="https://github.com/shotgunsoftware/tk-multi-loader2/blob/master/info.yml">Flow Production Tracking Loader</a>
or the <a class="reference external" href="https://github.com/shotgunsoftware/tk-nuke-writenode/blob/master/info.yml">Flow Production Tracking Nuke Write Node</a>.</p>
<section id="display-name-and-description">
<h4>Display name and Description<a class="headerlink" href="#display-name-and-description" title="Permalink to this heading"></a></h4>
<p>The optional <code class="docutils literal notranslate"><span class="pre">display_name</span></code> field defines the name that the user will see for the app.
The optional <code class="docutils literal notranslate"><span class="pre">description</span></code> field is a brief one line description of what the app does:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># More verbose description of this item</span>
<span class="n">display_name</span><span class="p">:</span> <span class="s2">&quot;Write Node&quot;</span>
<span class="n">description</span><span class="p">:</span> <span class="s2">&quot;Support for the Flow Production Tracking Write Node in Nuke.&quot;</span>
</pre></div>
</div>
</section>
<section id="id3">
<h4>Frameworks<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h4>
<p>If a framework is being used by the app, declare it in the <code class="docutils literal notranslate"><span class="pre">info.yml</span></code> and Toolkit will keep track
and make sure that it is installed and available. Once inside the app, use the call
<code class="docutils literal notranslate"><span class="pre">module_name</span> <span class="pre">=</span> <span class="pre">sgtk.platform.import_framework(&quot;tk-framework-name&quot;,</span> <span class="pre">&quot;module_name&quot;)</span></code>. For more
information, see <a class="reference internal" href="#sgtk.platform.import_framework" title="sgtk.platform.import_framework"><code class="xref py py-meth docutils literal notranslate"><span class="pre">import_framework()</span></code></a>.</p>
<p>The frameworks section is a list of dictionaries, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># the frameworks required to run this app</span>
<span class="n">frameworks</span><span class="p">:</span>
    <span class="o">-</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;tk-framework-shotgunutils&quot;</span><span class="p">,</span> <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;v2.x.x&quot;</span><span class="p">}</span>
    <span class="o">-</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;tk-framework-qtwidgets&quot;</span><span class="p">,</span> <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;v1.x.x&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>Version numbers are typically supplied on the form <code class="docutils literal notranslate"><span class="pre">v1.x.x</span></code>, meaning that it will try to use
the most recent approved major version one of the framework. Toolkit uses semantic versioning
(<a class="reference external" href="http://semver.org/">http://semver.org/</a>) for its versioning, meaning that major version numbers indicate breaking changes,
minor version number increments indicates added features and patch version numbers indicates backwards
compatible bug fixes. We therefore recommend to have framework dependencies track against a
major version number.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If there is a required minimum version for a framework, a <code class="docutils literal notranslate"><span class="pre">minimum_version</span></code> setting can be used in the <code class="docutils literal notranslate"><span class="pre">info.yml</span></code> manifest:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># the frameworks required to run this app</span>
<span class="n">frameworks</span><span class="p">:</span>
    <span class="o">-</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;tk-framework-shotgunutils&quot;</span><span class="p">,</span> <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;v2.x.x&quot;</span><span class="p">,</span> <span class="s2">&quot;minimum_version&quot;</span><span class="p">:</span> <span class="s2">&quot;v2.3.3&quot;</span><span class="p">}</span>
    <span class="o">-</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;tk-framework-qtwidgets&quot;</span><span class="p">,</span> <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;v1.x.x&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
</section>
<section id="version-constraints">
<h4>Version constraints<a class="headerlink" href="#version-constraints" title="Permalink to this heading"></a></h4>
<p>If your app or engine requires specific versions of shotgun, the core or other things,
you can specify this using the three parameters <code class="docutils literal notranslate"><span class="pre">requires_shotgun_version</span></code>, <code class="docutils literal notranslate"><span class="pre">requires_core_version</span></code>
and (for apps only) <code class="docutils literal notranslate"><span class="pre">requires_engine_version</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Required minimum versions for this item to run</span>
<span class="n">requires_shotgun_version</span><span class="p">:</span>
<span class="n">requires_core_version</span><span class="p">:</span> <span class="s2">&quot;v0.14.37&quot;</span>
<span class="n">requires_engine_version</span><span class="p">:</span> <span class="s2">&quot;v0.2.3&quot;</span>
</pre></div>
</div>
</section>
<section id="supported-engines-and-operating-systems">
<h4>Supported Engines and operating systems<a class="headerlink" href="#supported-engines-and-operating-systems" title="Permalink to this heading"></a></h4>
<p>If your app is not a multi-app that has been designed to run in <em>any</em> engine, use
this option to specify which engines are supported:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">supported_engines</span><span class="p">:</span> <span class="p">[</span><span class="n">tk</span><span class="o">-</span><span class="n">nuke</span><span class="p">]</span>
</pre></div>
</div>
<p>If your app or engine only supports a particular operating system, you can define this
using a <code class="docutils literal notranslate"><span class="pre">supported_platforms</span></code> parameter. Valid values are <code class="docutils literal notranslate"><span class="pre">linux</span></code>, <code class="docutils literal notranslate"><span class="pre">windows</span></code> and <code class="docutils literal notranslate"><span class="pre">mac</span></code>.
This is an optional setting - omitting it or leaving it blank means that the app
or engine will work on all platforms.</p>
</section>
<section id="documentation-and-support">
<h4>Documentation and Support<a class="headerlink" href="#documentation-and-support" title="Permalink to this heading"></a></h4>
<p>If you are developing an app for the Toolkit app store, no need to fill this in - the Sgtk Store
manages documentation separately! But if you are building an in-house app for your studio,
it can be useful to link it up to a wiki page or similar, so that it is easy for users to
jump straight from the app to the documentation. In this case, just add a <code class="docutils literal notranslate"><span class="pre">documentation_url</span></code>
setting:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">documentation_url</span><span class="p">:</span> <span class="s2">&quot;http://intranet/path/to/sgtk_app_docs.html&quot;</span>
</pre></div>
</div>
<p>This will be picked up and displayed in various locations in the Toolkit UI.</p>
<p>Similar to the documentation url above, it can be useful to connect an app to a url
which lets users know how to get help when they have questions. If you have a separate
system in your studio, (like an Request Tracker setup), and you want to make it easy for
users to reach out from the app to this system, just define a <code class="docutils literal notranslate"><span class="pre">support_url</span></code> url:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">support_url</span><span class="p">:</span> <span class="s2">&quot;http://intranet/pipeline_team/support.html&quot;</span>
</pre></div>
</div>
<p>This setting is optional, and if left blank, the support url will automatically
be the standard Toolkit support location.</p>
</section>
<section id="required-context-fields">
<h4>Required Context Fields<a class="headerlink" href="#required-context-fields" title="Permalink to this heading"></a></h4>
<p>Toolkit has a <a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a> which it uses to determine what the current Shot, Project or Asset is.
Apps may require a particular feature to be present in the context - for example, a
Loader App may require an entity to be present in order to show a list of items for the
current Asset or Shot. The <code class="docutils literal notranslate"><span class="pre">required_context</span></code> settings help defining what fields are needed.
Possible values are <code class="docutils literal notranslate"><span class="pre">project</span></code>, <code class="docutils literal notranslate"><span class="pre">entity</span></code>, <code class="docutils literal notranslate"><span class="pre">step</span></code>, <code class="docutils literal notranslate"><span class="pre">task</span></code> and <code class="docutils literal notranslate"><span class="pre">user</span></code>.</p>
</section>
<section id="flow-production-tracking-fields">
<h4>Flow Production Tracking fields<a class="headerlink" href="#flow-production-tracking-fields" title="Permalink to this heading"></a></h4>
<p>If your app requires a particular custom field in Flow Production Tracking to operate correctly, you can add this to the
<code class="docutils literal notranslate"><span class="pre">info.yml</span></code> manifest. Whenever the app is installed into a setup, toolkit will ensure that this custom field exists in shotgun.</p>
<p>Just create a <code class="docutils literal notranslate"><span class="pre">requires_shotgun_fields</span></code> in your manifest and add entries on the following form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">requires_shotgun_fields</span><span class="p">:</span>
    <span class="c1"># Flow Production Tracking fields that this app expects</span>
    <span class="n">Version</span><span class="p">:</span>
        <span class="o">-</span> <span class="p">{</span> <span class="s2">&quot;system_name&quot;</span><span class="p">:</span> <span class="s2">&quot;sg_movie_type&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span> <span class="p">}</span>
</pre></div>
</div>
<p>Note how the fields are grouped by Flow Production Tracking entity type (in the example above <code class="docutils literal notranslate"><span class="pre">Version</span></code>). For a list of
which field types are supported,
see the <a class="reference external" href="http://developer.shotgridsoftware.com/python-api/data_types.html">Flow Production Tracking API documentation</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more complex field types (such as entity and multi entity links), you need to set up creation via
the <strong>post-install hook</strong> instead. (The post install hook is a special hook which runs at installation time
and allows you to execute arbitrary code as part of the app installation process.)</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This functionality requires administrative privileges in Flow Production Tracking. Apps using this functionality
therefore requires a workflow where an admin is required to update or install such apps. For general
purpose apps, we therefore recommend not relying on this functionality.</p>
</div>
</section>
</section>
<section id="the-configuration-section">
<h3>The configuration section<a class="headerlink" href="#the-configuration-section" title="Permalink to this heading"></a></h3>
<p>If an app requires a setting in its code, it should be defined in the info.yml.
Toolkit will validate all requested settings and make sure that they
have all been defined (or have default values) and are valid before apps are
launched. It will also use this metadata when performing upgrades and installations.</p>
<p>A single configuration entry typically looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">setting_name</span><span class="p">:</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">some_type</span>
    <span class="n">description</span><span class="p">:</span> <span class="s2">&quot;description of the setting&quot;</span>
    <span class="n">default_value</span><span class="p">:</span> <span class="n">general_default</span>
    <span class="n">default_value_tk</span><span class="o">-</span><span class="n">nuke</span><span class="p">:</span> <span class="n">nuke_default</span>
    <span class="n">default_value_tk</span><span class="o">-</span><span class="n">maya</span><span class="p">:</span> <span class="n">maya_default</span>
    <span class="n">option1</span><span class="p">:</span> <span class="n">option_value1</span>
    <span class="n">option2</span><span class="p">:</span> <span class="n">option_value2</span>
</pre></div>
</div>
<p>Data types typically have specific optional settings. All data types and their options are
outlines in the following sections.</p>
<p>A full configuration section inside an <code class="docutils literal notranslate"><span class="pre">info.yml</span></code> manifest may look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">configuration</span><span class="p">:</span>

    <span class="n">shotgun_fields_hook</span><span class="p">:</span>
        <span class="nb">type</span><span class="p">:</span> <span class="n">hook</span>
        <span class="n">default_value</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{self}</span><span class="s2">/shotgun_fields.py&quot;</span>
        <span class="n">description</span><span class="p">:</span> <span class="n">Hook</span> <span class="n">which</span> <span class="n">controls</span> <span class="n">how</span> <span class="n">values</span> <span class="n">are</span> <span class="n">presented</span>

    <span class="n">action_mappings</span><span class="p">:</span>
        <span class="nb">type</span><span class="p">:</span> <span class="nb">dict</span>
        <span class="n">description</span><span class="p">:</span> <span class="n">Associates</span> <span class="n">shotgun</span> <span class="n">objects</span> <span class="k">with</span> <span class="n">actions</span><span class="o">.</span> <span class="n">The</span> <span class="n">actions</span> <span class="n">are</span> <span class="nb">all</span> <span class="n">defined</span>
                     <span class="n">inside</span> <span class="n">the</span> <span class="n">actions</span> <span class="n">hook</span><span class="p">,</span> <span class="n">so</span> <span class="n">a</span> <span class="n">number</span> <span class="n">of</span> <span class="n">actions</span> <span class="n">are</span> <span class="n">available</span> <span class="n">by</span> <span class="n">default</span>
                     <span class="ow">and</span> <span class="ow">in</span> <span class="n">addition</span> <span class="n">to</span> <span class="n">this</span> <span class="n">you</span> <span class="n">can</span> <span class="n">add</span> <span class="n">your</span> <span class="n">own</span> <span class="n">actions</span> <span class="k">if</span> <span class="n">you</span> <span class="n">like</span><span class="o">.</span>
        <span class="n">default_value</span><span class="p">:</span>
            <span class="n">Task</span><span class="p">:</span>
                <span class="o">-</span> <span class="p">{</span> <span class="n">actions</span><span class="p">:</span> <span class="p">[</span><span class="n">assign_task</span><span class="p">,</span> <span class="n">task_to_ip</span><span class="p">],</span> <span class="n">filters</span><span class="p">:</span> <span class="p">{}</span> <span class="p">}</span>
            <span class="n">Version</span><span class="p">:</span>
                <span class="o">-</span> <span class="p">{</span> <span class="n">actions</span><span class="p">:</span> <span class="p">[</span><span class="n">quicktime_clipboard</span><span class="p">,</span> <span class="n">sequence_clipboard</span><span class="p">],</span> <span class="n">filters</span><span class="p">:</span> <span class="p">{}</span> <span class="p">}</span>
            <span class="n">PublishedFile</span><span class="p">:</span>
                <span class="o">-</span> <span class="p">{</span> <span class="n">actions</span><span class="p">:</span> <span class="p">[</span><span class="n">publish_clipboard</span><span class="p">],</span> <span class="n">filters</span><span class="p">:</span> <span class="p">{}</span> <span class="p">}</span>

        <span class="n">default_value_tk</span><span class="o">-</span><span class="n">nuke</span><span class="p">:</span>
            <span class="n">Task</span><span class="p">:</span>
                <span class="o">-</span> <span class="p">{</span> <span class="n">actions</span><span class="p">:</span> <span class="p">[</span><span class="n">assign_task</span><span class="p">,</span> <span class="n">task_to_ip</span><span class="p">],</span> <span class="n">filters</span><span class="p">:</span> <span class="p">{}</span> <span class="p">}</span>
            <span class="n">Version</span><span class="p">:</span>
                <span class="o">-</span> <span class="p">{</span> <span class="n">actions</span><span class="p">:</span> <span class="p">[</span><span class="n">quicktime_clipboard</span><span class="p">,</span> <span class="n">sequence_clipboard</span><span class="p">],</span> <span class="n">filters</span><span class="p">:</span> <span class="p">{}</span> <span class="p">}</span>
            <span class="n">PublishedFile</span><span class="p">:</span>
                <span class="o">-</span> <span class="p">{</span> <span class="n">actions</span><span class="p">:</span> <span class="p">[</span><span class="n">publish_clipboard</span><span class="p">],</span> <span class="n">filters</span><span class="p">:</span> <span class="p">{}</span> <span class="p">}</span>
                <span class="o">-</span> <span class="p">{</span> <span class="n">actions</span><span class="p">:</span> <span class="p">[</span><span class="n">read_node</span><span class="p">],</span> <span class="n">filters</span><span class="p">:</span> <span class="p">{</span> <span class="n">published_file_type</span><span class="p">:</span> <span class="n">Rendered</span> <span class="n">Image</span><span class="p">}</span> <span class="p">}</span>
                <span class="o">-</span> <span class="p">{</span> <span class="n">actions</span><span class="p">:</span> <span class="p">[</span><span class="n">script_import</span><span class="p">],</span> <span class="n">filters</span><span class="p">:</span> <span class="p">{</span> <span class="n">published_file_type</span><span class="p">:</span> <span class="n">Nuke</span> <span class="n">Script</span><span class="p">}</span> <span class="p">}</span>
</pre></div>
</div>
<section id="sparse-configurations">
<h4>Sparse configurations<a class="headerlink" href="#sparse-configurations" title="Permalink to this heading"></a></h4>
<p>In the configuration you can define default value for the various app settings that you define.
As of <code class="docutils literal notranslate"><span class="pre">v0.18.x</span></code>, these values will be read at run-time if the setting is not
specified in the environment. Prior to <code class="docutils literal notranslate"><span class="pre">v0.18.x</span></code>, configuration files were required to be
non-sparse, meaning that all parameters needed to be populated in the configuration.</p>
</section>
<section id="default-values-per-engine">
<h4>Default values per engine<a class="headerlink" href="#default-values-per-engine" title="Permalink to this heading"></a></h4>
<p>It is possible to define defaults per engine using the following syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">setting_name</span><span class="p">:</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">some_type</span>
    <span class="n">description</span><span class="p">:</span> <span class="s2">&quot;description of the setting&quot;</span>
    <span class="n">default_value</span><span class="p">:</span> <span class="n">general_default</span>
    <span class="n">default_value_tk</span><span class="o">-</span><span class="n">nuke</span><span class="p">:</span> <span class="n">nuke_default</span>
    <span class="n">default_value_tk</span><span class="o">-</span><span class="n">maya</span><span class="p">:</span> <span class="n">maya_default</span>
</pre></div>
</div>
<p>When the app is being installed or updated, toolkit will first look for a default value
for the engine which the app is being installed into. If that is not found, it will look
for a general <code class="docutils literal notranslate"><span class="pre">default_value</span></code> setting. If that is not found, the user will be prompted to
manually supply a value to populate in the environment. As of <code class="docutils literal notranslate"><span class="pre">v0.18.x</span></code>,
settings with a default value will not be explicitly added to the installed/updated
app’s settings.</p>
</section>
<section id="values-that-are-procedurally-populated-by-hooks">
<h4>Values that are procedurally populated by hooks<a class="headerlink" href="#values-that-are-procedurally-populated-by-hooks" title="Permalink to this heading"></a></h4>
<p>For advanced use cases, it is possible to specify a configuration value as a special hook evaluator
rather than as a template setting. This means that when you configure your environment,
rather than specifying an actual value for a setting to use with your app, you can specify a piece of
code that returns the value to use. This makes it possible to create very complex
settings logic. For more information, see
the <a class="reference external" href="https://github.com/shotgunsoftware/tk-core/blob/master/hooks/example_template_hook.py">example_template_hook.py hook</a>
located in the core hooks area.</p>
</section>
<section id="simple-data-types">
<h4>Simple Data Types<a class="headerlink" href="#simple-data-types" title="Permalink to this heading"></a></h4>
<p>A number of simple data types are supported. These do not have any special options.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">str</span></code> - a string value</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">int</span></code> - an integer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">float</span></code> - a floating point value</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bool</span></code> - a boolean, expecting values true or false</p></li>
</ul>
<p>An example declaration for a simple data type may look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">debug_logging</span><span class="p">:</span>
    <span class="nb">type</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">default_value</span><span class="p">:</span> <span class="n">false</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Controls</span> <span class="n">whether</span> <span class="n">debug</span> <span class="n">messages</span> <span class="n">should</span> <span class="n">be</span> <span class="n">emitted</span> <span class="n">to</span> <span class="n">the</span> <span class="n">logger</span>
</pre></div>
</div>
</section>
<section id="the-config-path-data-type">
<h4>The config_path data type<a class="headerlink" href="#the-config-path-data-type" title="Permalink to this heading"></a></h4>
<p>Use this when your app requires an external file that is part of the configuration.
Typically, this settings type is used when you want to allow for a user to associate
files with a configuration. These files can be icons or other resource files that
should be part of the configuration. These paths should always be defined without an initial
slash and using slashes as its path separator. Sgtk will translate it into a valid Windows path:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">output_icon</span><span class="p">:</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">config_path</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">A</span> <span class="n">config</span> <span class="n">centric</span> <span class="n">path</span> <span class="n">that</span> <span class="n">points</span> <span class="n">to</span> <span class="n">a</span> <span class="n">square</span> <span class="n">icon</span> <span class="n">png</span> <span class="n">file</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="the-publish-type-data-type">
<h4>The publish_type data type<a class="headerlink" href="#the-publish-type-data-type" title="Permalink to this heading"></a></h4>
<p>Use this when you want a setting which expects a <strong>Publish Type</strong> - these are typically used
when publishing data to Flow Production Tracking. Value is a string matching <code class="docutils literal notranslate"><span class="pre">PublishedFileType.code</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">published_script_type</span><span class="p">:</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">publish_type</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">The</span> <span class="n">Published</span> <span class="n">file</span> <span class="nb">type</span> <span class="k">for</span> <span class="n">published</span> <span class="n">Nuke</span> <span class="n">scripts</span><span class="o">.</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The equivalent <code class="docutils literal notranslate"><span class="pre">tank_type</span></code> data type is also supported for backwards compatibility.</p>
</div>
</section>
<section id="the-shotgun-entity-type-data-type">
<h4>The shotgun_entity_type data type<a class="headerlink" href="#the-shotgun-entity-type-data-type" title="Permalink to this heading"></a></h4>
<p>Value is a string that represents a Flow Production Tracking entity type like Task, Sequence, Shot:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">entity_type</span><span class="p">:</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">shotgun_entity_type</span>
    <span class="n">default_value</span><span class="p">:</span> <span class="n">Shot</span>
    <span class="n">description</span><span class="p">:</span> <span class="s2">&quot;The entity type to attach to&quot;</span>
</pre></div>
</div>
</section>
<section id="the-shotgun-permission-group-data-type">
<h4>The shotgun_permission_group data type<a class="headerlink" href="#the-shotgun-permission-group-data-type" title="Permalink to this heading"></a></h4>
<p>Value is a string that represents the display name of a Flow Production Tracking permission group like Admin,
Artist:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">permissions_group</span><span class="p">:</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">shotgun_permission_group</span>
    <span class="n">default_value</span><span class="p">:</span> <span class="n">Artist</span>
    <span class="n">description</span><span class="p">:</span> <span class="s2">&quot;Permissions group to use when performing the operation&quot;</span>
</pre></div>
</div>
</section>
<section id="the-shotgun-filter-data-type">
<h4>The shotgun_filter data type<a class="headerlink" href="#the-shotgun-filter-data-type" title="Permalink to this heading"></a></h4>
<p>Value is a filter that will be passed to the shotgun api when performing a query (e.g. <code class="docutils literal notranslate"><span class="pre">[&quot;sg_status_list&quot;,</span> <span class="pre">&quot;is&quot;,</span> <span class="pre">&quot;cmpt&quot;]</span></code>).
As shotgun filters can take multiple forms, no additional validation will be done on values of this type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">publish_filters</span><span class="p">:</span>
    <span class="nb">type</span><span class="p">:</span> <span class="nb">list</span>
    <span class="n">values</span><span class="p">:</span>
        <span class="nb">type</span><span class="p">:</span> <span class="n">shotgun_filter</span>
</pre></div>
</div>
</section>
<section id="the-template-data-type">
<h4>The template data type<a class="headerlink" href="#the-template-data-type" title="Permalink to this heading"></a></h4>
<p>Value is a string matching an entry in <code class="docutils literal notranslate"><span class="pre">templates.yml</span></code>. Using the fields option
you specify how Toolkit should validate the template that the user specifies:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">output_render</span><span class="p">:</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Render</span> <span class="n">output</span> <span class="n">location</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">template</span>
    <span class="n">fields</span><span class="p">:</span> <span class="s2">&quot;context, name, channel, version, [width], [height], [eye]&quot;</span>
</pre></div>
</div>
<p>When you specify which fields your app requires, it must be strict. Toolkit will ensure
that the template that the user has chosen to configure the app with exactly matches the
values specified in the fields string. Typically, the app will also pull in fields
via the context object - you can specify this by using the special <code class="docutils literal notranslate"><span class="pre">context</span></code> parameter.
Optional parameters are represented with <code class="docutils literal notranslate"><span class="pre">[brackets]</span></code> and the special token <code class="docutils literal notranslate"><span class="pre">*</span></code> indicates
that an arbitrary number of fields is okay. For example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fields:</span> <span class="pre">name</span></code> - only templates containing a single field name will be valid</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fields:</span> <span class="pre">context,</span> <span class="pre">name</span></code> - templates containing exactly the number of fields that the context
is able to resolve, and name, will be valid.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fields:</span> <span class="pre">context,</span> <span class="pre">name,</span> <span class="pre">[width],</span> <span class="pre">[height]</span></code> - same as previous but the two fields width and height
can be present in the template at the user’s discression.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fields:</span> <span class="pre">name,</span> <span class="pre">*</span></code> - name is required, the rest of the fields can be arbitrary.</p></li>
</ul>
<p>A typical example illustrating the use of <code class="docutils literal notranslate"><span class="pre">*</span></code> is when you need to look for things in the
scene which do not belong to the current context - for example if you are working on a shot
and wants to scan for assets that have been imported into the scene. In this case, you cannot
use the context since this is pointing at the current Shot:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">input_templates_to_look_for</span><span class="p">:</span>
    <span class="nb">type</span><span class="p">:</span> <span class="nb">list</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">List</span> <span class="n">of</span> <span class="n">templates</span> <span class="n">to</span> <span class="n">look</span> <span class="k">for</span> <span class="n">when</span> <span class="n">scanning</span> <span class="n">the</span> <span class="n">scene</span> <span class="k">for</span> <span class="n">inputs</span><span class="o">.</span>
                 <span class="n">A</span> <span class="n">template</span> <span class="n">listed</span> <span class="n">here</span> <span class="n">only</span> <span class="n">needs</span> <span class="n">to</span> <span class="n">have</span> <span class="n">a</span> <span class="n">field</span> <span class="n">called</span> <span class="n">version</span><span class="o">.</span> <span class="n">This</span> <span class="n">field</span>
                 <span class="n">will</span> <span class="n">be</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">comparison</span> <span class="n">to</span> <span class="n">determine</span> <span class="n">what</span> <span class="ow">is</span> <span class="n">out</span> <span class="n">of</span> <span class="n">date</span><span class="o">.</span>
    <span class="n">values</span><span class="p">:</span>
        <span class="nb">type</span><span class="p">:</span> <span class="n">template</span>
        <span class="n">fields</span><span class="p">:</span> <span class="s2">&quot;version, *&quot;</span>
</pre></div>
</div>
<p><strong>Empty settings</strong></p>
<p>By default, all template settings require the user to specify a valid template when
they are added to the environment configuration. If you want to define a template
setting that can be set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, specify the <strong>allows_empty</strong> option and set it to True:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">output_render</span><span class="p">:</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Render</span> <span class="n">output</span> <span class="n">location</span><span class="p">,</span> <span class="n">Leave</span> <span class="n">blank</span> <span class="k">for</span> <span class="n">default</span> <span class="n">output</span><span class="o">.</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">template</span>
    <span class="n">fields</span><span class="p">:</span> <span class="s2">&quot;context, name, channel, version, [width], [height], [eye]&quot;</span>
    <span class="n">allows_empty</span><span class="p">:</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="the-hook-data-type">
<h4>The hook data type<a class="headerlink" href="#the-hook-data-type" title="Permalink to this heading"></a></h4>
<p>Hooks makes it possible to create flexible and powerful configurations for toolkit apps.
A hook is a python file which contains a single class (deriving from a Hook base class or
from other hook classes) and a number of pre-defined methods.</p>
<p>Hooks takes configuration beyond the retrival of a simple string or int value and allows
apps to break out parts of the code that are likely to vary across facilities into
code that can be customized, either by completely overriding it or by deriving from
another hook class.</p>
<p>For hook documentation, see <a class="reference internal" href="core.html#sgtk-hook-docs"><span class="std std-ref">Hooks</span></a>.</p>
<p><strong>Typical Workflow for hooks</strong></p>
<p>If you are using a Toolkit app and want to customize the behaviour that is defined in a hook,
you can typically follow these steps:</p>
<ol class="arabic">
<li><p>Identify the hook file and copy it into the <code class="docutils literal notranslate"><span class="pre">hooks</span></code> folder in your Toolkit project
configuration. For example, if your hook is named <code class="docutils literal notranslate"><span class="pre">validation.py</span></code>, copy it to the
configuration folder as <code class="docutils literal notranslate"><span class="pre">CONFIG_ROOT/hooks/validation.py</span></code>.</p></li>
<li><p>In your environment configuration, find the app config and tell the app to use your
new file instead of the default one:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># change the default value in your env config:</span>
<span class="n">validation_hook</span><span class="p">:</span> <span class="p">{</span><span class="bp">self</span><span class="p">}</span><span class="o">/</span><span class="n">validation</span><span class="o">.</span><span class="n">py</span>

<span class="c1"># to this new value:</span>
<span class="n">validation_hook</span><span class="p">:</span> <span class="p">{</span><span class="n">config</span><span class="p">}</span><span class="o">/</span><span class="n">validation</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</li>
<li><p>Now we have a bunch of duplicated code in our config folder which isn’t great. Because we are inheriting
from the default hook, our custom hook only really needs to contain the <em>modifications</em> that we are making
and not the entire logic. So go in and strip back our custom hook in the config folder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># customized validation hook in CONFIG_ROOT/hooks/validation.py</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>

<span class="n">HookBaseClass</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">get_hook_baseclass</span><span class="p">()</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Validator</span><span class="p">(</span><span class="n">HookBaseClass</span><span class="p">):</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">validate_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="c1"># call the built-in hook that comes with the app first</span>
        <span class="n">HookBaseClass</span><span class="o">.</span><span class="n">validate_string</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="c1"># now add our extra bit of validation</span>
        <span class="k">if</span> <span class="s2">&quot;LOLCAT&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;No lol-cats in my pipeline!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
<p>This makes it possible to customize parts of hooks, while leaving a lot of the hook code
in tact. This keeps customizations lightweight, avoids code duplication and allows an app
developer to push out bug fixes much more easily.</p>
<p><strong>Multiple levels of inheritance in hooks</strong></p>
<p>For even more complex scenarios, it is possible to declare an inheritance chain in the
environment config:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>validation_hook: {$STUDIO_ROOT}/studio_validation.py:{config}/project_validation.py.
</pre></div>
</div>
<p>This example will have three levels of inheritance: first the built in hook, after that a studio
level implementation defined by an environment variable and lastly a project level implementation.</p>
<p><strong>Accessing a framework inside a hook</strong></p>
<p>For even more complex hook setups, you can also access frameworks from inside your hooks:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">SomeHook</span><span class="p">(</span><span class="n">HookBaseClass</span><span class="p">):</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">some_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="c1"># first get a framework handle. This object is similar to an app or engine object</span>
        <span class="n">fw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_framework</span><span class="p">(</span><span class="s2">&quot;my-framework-library_v123.x.x&quot;</span><span class="p">)</span>

        <span class="c1"># now just like with an app or an engine, if you want to access code in the python</span>
        <span class="c1"># folder, you can do import_plugin</span>
        <span class="n">module</span> <span class="o">=</span> <span class="n">fw</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s2">&quot;some_module&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Note how we are accessing the framework instance <cite>my-framework-library_v123.x.x</cite> above. This needs
to be defined in the currently running environment, as part of the frameworks section:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">engines</span><span class="p">:</span>
  <span class="c1"># all engine and app defs here...</span>

<span class="n">frameworks</span><span class="p">:</span>
 <span class="c1"># define the framework that we are using in the hook</span>
 <span class="n">my</span><span class="o">-</span><span class="n">framework</span><span class="o">-</span><span class="n">library_v123</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">x</span><span class="p">:</span>
    <span class="n">location</span><span class="p">:</span> <span class="p">{</span><span class="nb">type</span><span class="p">:</span> <span class="n">dev</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="o">/</span><span class="n">some</span><span class="o">/</span><span class="n">path</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="the-list-data-type">
<h4>The list data type<a class="headerlink" href="#the-list-data-type" title="Permalink to this heading"></a></h4>
<p>Value is a list, all values in the list must be of the same data type.
You must supply values dict that describes the data type of the list items:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">entity_types</span><span class="p">:</span>
    <span class="nb">type</span><span class="p">:</span> <span class="nb">list</span>
    <span class="n">values</span><span class="p">:</span> <span class="p">{</span><span class="nb">type</span><span class="p">:</span> <span class="n">shotgun_entity_type</span><span class="p">}</span>
    <span class="n">default_value</span><span class="p">:</span> <span class="p">[</span><span class="n">Sequence</span><span class="p">,</span> <span class="n">Shot</span><span class="p">,</span> <span class="n">Asset</span><span class="p">,</span> <span class="n">Task</span><span class="p">]</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">List</span> <span class="n">of</span> <span class="n">Flow</span> <span class="n">Production</span> <span class="n">Tracking</span> <span class="n">entity</span> <span class="n">types</span> <span class="n">where</span> <span class="n">this</span>
                 <span class="n">Sgtk</span> <span class="n">action</span> <span class="n">should</span> <span class="n">be</span> <span class="n">visible</span> <span class="n">on</span> <span class="n">the</span> <span class="n">Actions</span> <span class="n">menu</span><span class="o">.</span>
</pre></div>
</div>
<p>Optionally you can also specify an <strong>allows_empty</strong> option if an empty list is a valid value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">publish_types</span><span class="p">:</span>
    <span class="nb">type</span><span class="p">:</span> <span class="nb">list</span>
    <span class="n">allows_empty</span><span class="p">:</span> <span class="kc">True</span>
    <span class="n">values</span><span class="p">:</span> <span class="p">{</span><span class="nb">type</span><span class="p">:</span> <span class="n">pubish_type</span><span class="p">}</span>
</pre></div>
</div>
<p>You would then be able to specify an empty list in your environment configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apps</span><span class="p">:</span>
    <span class="n">tk</span><span class="o">-</span><span class="n">multi</span><span class="o">-</span><span class="n">loader</span><span class="p">:</span>
        <span class="n">tank_types</span><span class="p">:</span> <span class="p">[]</span>
</pre></div>
</div>
</section>
<section id="the-dict-data-type">
<h4>The dict data type<a class="headerlink" href="#the-dict-data-type" title="Permalink to this heading"></a></h4>
<p>Value is a dictionary, keys are always strings, values can be of mixed types.</p>
<p>In info.yml, optionally provide an <strong>items</strong> dict. Used to mark what keys must be in the config,
default values, and type info for the values which will be used for validation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">write_nodes</span><span class="p">:</span>
    <span class="nb">type</span><span class="p">:</span> <span class="nb">list</span>
    <span class="n">description</span><span class="p">:</span> <span class="s2">&quot;A list of dictionaries in which you define the Sgtk write nodes that</span>
                 <span class="n">are</span> <span class="n">supported</span> <span class="ow">in</span> <span class="n">this</span> <span class="n">configuration</span><span class="o">.</span><span class="s2">&quot;</span>
    <span class="n">allows_empty</span><span class="p">:</span> <span class="kc">True</span>
    <span class="n">values</span><span class="p">:</span>
        <span class="nb">type</span><span class="p">:</span> <span class="nb">dict</span>
        <span class="n">items</span><span class="p">:</span>
            <span class="n">name</span><span class="p">:</span> <span class="p">{</span> <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span> <span class="p">}</span>
            <span class="n">file_type</span><span class="p">:</span> <span class="p">{</span> <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span> <span class="p">}</span>
            <span class="n">publish_type</span><span class="p">:</span> <span class="p">{</span> <span class="nb">type</span><span class="p">:</span> <span class="n">tank_type</span> <span class="p">}</span>
            <span class="n">render_template</span><span class="p">:</span>
                <span class="nb">type</span><span class="p">:</span> <span class="n">template</span>
                <span class="n">fields</span><span class="p">:</span> <span class="s2">&quot;context, name, channel, version, SEQ, [width], [height], [eye]&quot;</span>
</pre></div>
</div>
<p>A valid setting could look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">movies</span><span class="p">:</span>
<span class="o">-</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="n">Exr</span> <span class="n">Render</span><span class="p">,</span> <span class="n">file_type</span><span class="p">:</span> <span class="n">exr</span><span class="p">,</span> <span class="n">publish_type</span><span class="p">:</span> <span class="n">Quicktime</span><span class="p">,</span> <span class="n">render_template</span><span class="p">:</span> <span class="n">exr_shot_render</span><span class="p">}</span>
<span class="o">-</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="n">Dpx</span> <span class="n">Render</span><span class="p">,</span> <span class="n">file_type</span><span class="p">:</span> <span class="n">dpx</span><span class="p">,</span> <span class="n">publish_type</span><span class="p">:</span> <span class="n">Quicktime</span><span class="p">,</span> <span class="n">render_template</span><span class="p">:</span> <span class="n">dpx_shot_render</span><span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="using-qt-inside-your-toolkit-app">
<h3>Using QT inside your Toolkit App<a class="headerlink" href="#using-qt-inside-your-toolkit-app" title="Permalink to this heading"></a></h3>
<p>You can use QT classes inside your app code. Sgtk will handle the import andgracefully manage different
platform considerations in the background. Typically, PySide2 or PySide6. Normally, the code is pretty
portable between the two systems and it should be no problem writing code that works with both libraries.</p>
<p>In order to use QT, import it from Sgtk:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sgtk.platform.qt</span><span class="w"> </span><span class="kn">import</span> <span class="n">QtCore</span><span class="p">,</span> <span class="n">QtGui</span>
</pre></div>
</div>
<p>Toolkit will make sure Qt is sourced in the correct way. Keep in mind that many applications (for example Nuke)
may not have a functional Qt that can be imported when they run in batch mode.</p>
</section>
<section id="pyside-qt4-emulation-layer">
<h3>PySide - Qt4 emulation layer<a class="headerlink" href="#pyside-qt4-emulation-layer" title="Permalink to this heading"></a></h3>
<p>Whether running with PySide2 or PySide6, Toolkit will provide under <code class="docutils literal notranslate"><span class="pre">sgtk.platform.qt</span></code> an
emulation layer that mimics the PySide 1 API on top of PySide 2/6 so that your Toolkit applications don’t
need to be updated to work in those environments. If you need straight access to the PySide 2 API, you
can access it through the <code class="docutils literal notranslate"><span class="pre">sgtk.platform.qt5</span></code> module. Detecting the availability of Qt 5 can be done
through <a class="reference internal" href="#sgtk.platform.Engine.has_qt5" title="sgtk.platform.Engine.has_qt5"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Engine.has_qt5()</span></code></a>. The equivalent is available for PySide6.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The PySide 1 emulation layer for PySide 2/6 may be missing some features. It provides enough
coverage to run the officially supported Toolkit applications. If you find that something
in the PySide 1 emulation layer is not working or missing, please contact <a class="reference external" href="https://knowledge.autodesk.com/contact-support">https://knowledge.autodesk.com/contact-support</a>
so that we may update it.</p>
<p>To learn more about API discrepancies between Qt 4 and Qt 5, you can visit
<a class="reference external" href="https://wiki.qt.io/Transition_from_Qt_4.x_to_Qt5">https://wiki.qt.io/Transition_from_Qt_4.x_to_Qt5</a>.</p>
</div>
</section>
<section id="creating-dialogs">
<h3>Creating Dialogs<a class="headerlink" href="#creating-dialogs" title="Permalink to this heading"></a></h3>
<p>When creating a dialog, it is important to parent it properly to the host environment. There is nothing stopping
you from managing this by yourself, but for maximum compatibility and portabilty, we strongly suggest that you l
et Toolkit handle it. When using Sgtk to set up your UI, just let your UI class derive from QtGui.QWidget and pass
it to one of the UI factory methods that the engine has. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sgtk.platform.qt</span><span class="w"> </span><span class="kn">import</span> <span class="n">QtCore</span><span class="p">,</span> <span class="n">QtGui</span>

<span class="c1"># derive from QtGui.QWidget for your UI components.</span>

<span class="k">class</span><span class="w"> </span><span class="nc">AppDialog</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="p">):</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param1</span><span class="p">,</span> <span class="n">param2</span><span class="p">):</span>
        <span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<span class="c1"># the engine is then used to correctly launch this dialog. In your app code</span>
<span class="c1"># you can now do create a window using the engine&#39;s factory methods.</span>

<span class="c1"># display widget in a modeless window:</span>
<span class="n">widget_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">show_dialog</span><span class="p">(</span><span class="s2">&quot;Dialog Title&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">AppDialog</span><span class="p">,</span> <span class="n">param1</span><span class="p">,</span> <span class="n">param2</span><span class="p">)</span>

<span class="c1"># display widget in a modal dialog - blocking call</span>
<span class="p">(</span><span class="n">return_code</span><span class="p">,</span> <span class="n">widget_obj</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">show_modal</span><span class="p">(</span><span class="s2">&quot;Dialog Title&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">AppDialog</span><span class="p">,</span> <span class="n">param1</span><span class="p">,</span> <span class="n">param2</span><span class="p">)</span>
</pre></div>
</div>
<p>What happens in the above calls is that your app widget is parented inside of a Dialog window Sgtk is creating.
Sgtk will add additional potential window constructs, menus etc. Whenever the app widget is closed (for example
using the close() method), the parent window that is used to wrap the widget will automatically close too.</p>
</section>
<section id="modal-dialogs-and-exit-codes">
<h3>Modal dialogs and exit codes<a class="headerlink" href="#modal-dialogs-and-exit-codes" title="Permalink to this heading"></a></h3>
<p>If you want to run your widget as a modal dialog, it may be useful to signal success or failure.
This is normally done in QT using the methods QDialog.accepted() and QDialog.rejected(), however since the app
widget typically derives from QWidget, these methods are not available. Instead, Sgtk will look for a member
property called <code class="docutils literal notranslate"><span class="pre">exit_code</span></code>. Typically, your code for a modal dialog would look something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">on_ok_button_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># user clicked ok</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">exit_code</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QDialog</span><span class="o">.</span><span class="n">Accepted</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_cancel_button_clicked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c1"># user clicked cancel</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">exit_code</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QDialog</span><span class="o">.</span><span class="n">Rejected</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>The call to self.engine.show_modal() will return the appropriate status code depending on which button was clicked.</p>
</section>
<section id="hiding-the-default-toolkit-title-bar">
<h3>Hiding the default Toolkit title bar<a class="headerlink" href="#hiding-the-default-toolkit-title-bar" title="Permalink to this heading"></a></h3>
<p>By default, the standard Toolkit UI dialog includes a title bar at the top. However, sometimes this is not desirable,
especially when the contained widget is quite small. To hide the title bar, just add a property called
<code class="docutils literal notranslate"><span class="pre">hide_tk_title_bar</span></code> to your widget class and set it to a value of True, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyWidget</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="p">):</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">hide_tk_title_bar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>
</pre></div>
</div>
</section>
<section id="styling-your-toolkit-app">
<h3>Styling your Toolkit App<a class="headerlink" href="#styling-your-toolkit-app" title="Permalink to this heading"></a></h3>
<p>If a <a class="reference external" href="http://doc.qt.io/qt-5/stylesheet.html">standard Qt style sheet</a>  <code class="docutils literal notranslate"><span class="pre">style.qss</span></code> file resides in the root of your app, Toolkit will automatically load it and apply it to your app.</p>
<p>When developping your app, you can enable interactive styling by setting the <code class="docutils literal notranslate"><span class="pre">SHOTGUN_QSS_FILE_WATCHER</span></code> environment variable to <code class="docutils literal notranslate"><span class="pre">1</span></code>. Toolkit will automatically reload and re-apply the styling when the file is changed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The style sheet file watching can be helpful when developping apps, but shouldn’t be used in production.</p>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="core.html" class="btn btn-neutral float-left" title="Core" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="utils.html" class="btn btn-neutral float-right" title="Utilities" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Autodesk.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 

  <script type="text/javascript">
    window.wafCCPAForceShow = true;
    (function(a,b,c,d){
      a='https://tags.tiqcdn.com/utag/autodesk/micro-basic/prod/utag.js';
      b=document;c='script';d=b.createElement(c);d.src=a;d.type='text/java'+c;d.async=true;
      a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);
    })();
  </script>


</body>
</html>
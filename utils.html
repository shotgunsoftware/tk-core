

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Utilities &mdash; tk-core v0.22.5 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Descriptors" href="descriptor.html" />
    <link rel="prev" title="Apps, Engines and Frameworks" href="platform.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
    <a href='https://help.autodesk.com/view/SGDEV/ENU/'>
    
        <img style='width: 191px;
                height: 60px;
                margin: 2px;
                border-radius: 0px;
                padding: 0px;'
            src='_static/logo@2x.png'/>
    
    </a>
    

          
          
          <a href="index.html" class="icon icon-home">
            tk-core
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="initializing.html">Initialization and startup</a></li>
<li class="toctree-l1"><a class="reference internal" href="core.html">Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="platform.html">Apps, Engines and Frameworks</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#logging">Logging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#logging-hierarchy">Logging hierarchy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#generating-log-messages-in-toolkit">Generating log messages in Toolkit</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#logging-from-within-your-app-engine-or-framework">Logging from within your App, Engine or Framework</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logging-from-scripts-and-other-external-locations">Logging from scripts and other external locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logging-from-inside-the-core-api">Logging from inside the Core API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#consuming-log-messages-in-toolkit">Consuming log messages in Toolkit</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#global-debug">Global debug</a></li>
<li class="toctree-l4"><a class="reference internal" href="#backend-file-logging">Backend file logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dcc-logging">DCC Logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="#standard-logging">Standard Logging</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#logmanager">LogManager</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.log.LogManager"><code class="docutils literal notranslate"><span class="pre">LogManager</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#centralizing-your-settings">Centralizing your settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.UserSettings"><code class="docutils literal notranslate"><span class="pre">UserSettings</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.UserSettings.shotgun_proxy"><code class="docutils literal notranslate"><span class="pre">UserSettings.shotgun_proxy</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.UserSettings.app_store_proxy"><code class="docutils literal notranslate"><span class="pre">UserSettings.app_store_proxy</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.UserSettings.default_site"><code class="docutils literal notranslate"><span class="pre">UserSettings.default_site</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.UserSettings.default_login"><code class="docutils literal notranslate"><span class="pre">UserSettings.default_login</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.UserSettings.get_section_settings"><code class="docutils literal notranslate"><span class="pre">UserSettings.get_section_settings()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.UserSettings.get_setting"><code class="docutils literal notranslate"><span class="pre">UserSettings.get_setting()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.UserSettings.get_boolean_setting"><code class="docutils literal notranslate"><span class="pre">UserSettings.get_boolean_setting()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.UserSettings.get_integer_setting"><code class="docutils literal notranslate"><span class="pre">UserSettings.get_integer_setting()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#file-system-utilities">File System Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sgtk-util-filesystem">sgtk.util.filesystem</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.filesystem.with_cleared_umask"><code class="docutils literal notranslate"><span class="pre">with_cleared_umask()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.filesystem.compute_folder_size"><code class="docutils literal notranslate"><span class="pre">compute_folder_size()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.filesystem.touch_file"><code class="docutils literal notranslate"><span class="pre">touch_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.filesystem.ensure_folder_exists"><code class="docutils literal notranslate"><span class="pre">ensure_folder_exists()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.filesystem.copy_file"><code class="docutils literal notranslate"><span class="pre">copy_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.filesystem.safe_delete_file"><code class="docutils literal notranslate"><span class="pre">safe_delete_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.filesystem.safe_delete_folder"><code class="docutils literal notranslate"><span class="pre">safe_delete_folder()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.filesystem.copy_folder"><code class="docutils literal notranslate"><span class="pre">copy_folder()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.filesystem.move_folder"><code class="docutils literal notranslate"><span class="pre">move_folder()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.filesystem.backup_folder"><code class="docutils literal notranslate"><span class="pre">backup_folder()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.filesystem.create_valid_filename"><code class="docutils literal notranslate"><span class="pre">create_valid_filename()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.filesystem.get_unused_path"><code class="docutils literal notranslate"><span class="pre">get_unused_path()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk-util-json">sgtk.util.json</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.json.load"><code class="docutils literal notranslate"><span class="pre">load()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.json.loads"><code class="docutils literal notranslate"><span class="pre">loads()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk-util-pickle">sgtk.util.pickle</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.pickle.dump"><code class="docutils literal notranslate"><span class="pre">dump()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.pickle.dumps"><code class="docutils literal notranslate"><span class="pre">dumps()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.pickle.load"><code class="docutils literal notranslate"><span class="pre">load()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.pickle.loads"><code class="docutils literal notranslate"><span class="pre">loads()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#shotgunpath">ShotgunPath</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.ShotgunPath"><code class="docutils literal notranslate"><span class="pre">ShotgunPath</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#localfilestoragemanager">LocalFileStorageManager</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.LocalFileStorageManager"><code class="docutils literal notranslate"><span class="pre">LocalFileStorageManager</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#os-detection">OS detection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.is_linux"><code class="docutils literal notranslate"><span class="pre">is_linux()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.is_windows"><code class="docutils literal notranslate"><span class="pre">is_windows()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.is_macos"><code class="docutils literal notranslate"><span class="pre">is_macos()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#flow-production-tracking-related">Flow Production Tracking Related</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.register_publish"><code class="docutils literal notranslate"><span class="pre">register_publish()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.resolve_publish_path"><code class="docutils literal notranslate"><span class="pre">resolve_publish_path()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.find_publish"><code class="docutils literal notranslate"><span class="pre">find_publish()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.create_event_log_entry"><code class="docutils literal notranslate"><span class="pre">create_event_log_entry()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.get_entity_type_display_name"><code class="docutils literal notranslate"><span class="pre">get_entity_type_display_name()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.get_published_file_entity_type"><code class="docutils literal notranslate"><span class="pre">get_published_file_entity_type()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.get_sg_entity_name_field"><code class="docutils literal notranslate"><span class="pre">get_sg_entity_name_field()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#file-download-related">File Download Related</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.download_url"><code class="docutils literal notranslate"><span class="pre">download_url()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.shotgun.download_and_unpack_attachment"><code class="docutils literal notranslate"><span class="pre">download_and_unpack_attachment()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.shotgun.download_and_unpack_url"><code class="docutils literal notranslate"><span class="pre">download_and_unpack_url()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-comparison-related">Version Comparison Related</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.is_version_older"><code class="docutils literal notranslate"><span class="pre">is_version_older()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.is_version_older_or_equal"><code class="docutils literal notranslate"><span class="pre">is_version_older_or_equal()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.is_version_newer"><code class="docutils literal notranslate"><span class="pre">is_version_newer()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.is_version_newer_or_equal"><code class="docutils literal notranslate"><span class="pre">is_version_newer_or_equal()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#miscellaneous">Miscellaneous</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.append_path_to_env_var"><code class="docutils literal notranslate"><span class="pre">append_path_to_env_var()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.prepend_path_to_env_var"><code class="docutils literal notranslate"><span class="pre">prepend_path_to_env_var()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.get_current_user"><code class="docutils literal notranslate"><span class="pre">get_current_user()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#exceptions">Exceptions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.EnvironmentVariableFileLookupError"><code class="docutils literal notranslate"><span class="pre">EnvironmentVariableFileLookupError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.EnvironmentVariableFileLookupError.with_traceback"><code class="docutils literal notranslate"><span class="pre">EnvironmentVariableFileLookupError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.ShotgunPublishError"><code class="docutils literal notranslate"><span class="pre">ShotgunPublishError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.ShotgunPublishError.with_traceback"><code class="docutils literal notranslate"><span class="pre">ShotgunPublishError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.PublishResolveError"><code class="docutils literal notranslate"><span class="pre">PublishResolveError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.PublishResolveError.with_traceback"><code class="docutils literal notranslate"><span class="pre">PublishResolveError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.PublishPathNotDefinedError"><code class="docutils literal notranslate"><span class="pre">PublishPathNotDefinedError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.PublishPathNotDefinedError.with_traceback"><code class="docutils literal notranslate"><span class="pre">PublishPathNotDefinedError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.util.PublishPathNotSupported"><code class="docutils literal notranslate"><span class="pre">PublishPathNotSupported</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.util.PublishPathNotSupported.with_traceback"><code class="docutils literal notranslate"><span class="pre">PublishPathNotSupported.with_traceback()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="descriptor.html">Descriptors</a></li>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment_variables.html">Environment Variables</a></li>
</ul>


    <a href='genindex.html'>Alphabetic Index</a>

    <div style='margin-top: 50px;
                margin-left: 10px;
                margin-right: 10px;
                padding: 10px;
                color: #b3b3b3;
                font-size: 70%;
                border-radius: 3px;
                background-color: #444;
                line-height: 18px;
                '>
    <style>
        a.custom_post_menu { display: inline;
                             padding: 0px;
                             text-decoration: underline; }
    </style>

    <b>tk-core</b> v0.22.5.<br>
    
        This documentation is part of the Flow Production Tracking.
    
    For more information, please visit
    <a class=custom_post_menu href='https://help.autodesk.com/view/SGDEV/ENU/'>The Flow Production Tracking developer portal.</a>.
    The code associated with this documentation can be found
    <a class=custom_post_menu href='https://github.com/shotgunsoftware/tk-core'>here</a>.

    </div>
    <style>
        p.privacy_links { margin: 4px 0px;}
    </style>
    <p class="privacy_links"><a data-opt-in-preferences href="javascript:;">Privacy settings</a></p>
    <p class="privacy_links"><a data-wat-linkname="manage-ccpa-settings-footer-link" href="javascript:;">Do not sell my personal information</a></p>
    <p class="privacy_links"><a href="https://www.autodesk.com/company/legal-notices-trademarks/privacy-statement">Privacy/Cookies</a></p>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">tk-core</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Utilities</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="utilities">
<h1>Utilities<a class="headerlink" href="#utilities" title="Permalink to this heading"></a></h1>
<section id="logging">
<span id="id1"></span><h2>Logging<a class="headerlink" href="#logging" title="Permalink to this heading"></a></h2>
<span class="target" id="module-sgtk.log"></span><p>Toolkit uses the standard python logging for its
log management. The <a class="reference internal" href="#sgtk.log.LogManager" title="sgtk.log.LogManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">LogManager</span></code></a> class below
acts as an interface that helps make it easy to access
and manage Toolkit logging.</p>
<section id="logging-hierarchy">
<h3>Logging hierarchy<a class="headerlink" href="#logging-hierarchy" title="Permalink to this heading"></a></h3>
<p>All Toolkit logging is written into a <code class="docutils literal notranslate"><span class="pre">sgtk.*</span></code> logging
namespace. This has been “sealed” so that log messages
from Toolkit do not propagate up to the root logger. This
is to ensure that Toolkit doesn’t interfere with other logging
that has been already configured.</p>
<p>The following sub-hierarchies exist:</p>
<ul class="simple">
<li><p>Each app, engine and bundle provides access to logging and
these log streams are collected and organized under the
<code class="docutils literal notranslate"><span class="pre">sgtk.env</span></code> logging namespace. Below this level, messages
are broken down further by environment, engine, etc.</p></li>
<li><p>Logging from external tools and scripts is written to <code class="docutils literal notranslate"><span class="pre">sgtk.ext</span></code>.</p></li>
<li><p>All core logging is written to the <code class="docutils literal notranslate"><span class="pre">sgtk.core</span></code> logger.</p></li>
</ul>
<p>Below is a simple log hierarchy to illustrate what this might look like in practice.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sgtk                                              Root point for all Toolkit logging
 |
 |- core                                          Root point for the Core API
 |   |
 |   |- descriptor                                Logging from core Modules
 |   |- path_cache
 |   |- hook
 |       |- create_folders                        Logging from a core hook
 |
 |- env                                           Logging from apps and engines
 |   |
 |   |- project                                   Toolkit Environment
 |       |
 |       |- tk-maya                               Toolkit Engine
 |             |
 |             |- startup                         Toolkit Engine Software Launcher
 |             |
 |             |- tk-multi-workfiles2             Toolkit App (or framework)
 |                  |
 |                  |- tkimp63c3b2d57f85          Toolkit Command Session
 |                  |   |
 |                  |   |- tk_multi_workfiles     Python hierarchy inside app&#39;s python folder
 |                  |       |
 |                  |       |- entity_tree
 |                  |
 |                  |
 |                  |
 |                  |- hook
 |                      |- scene_operations       Logging from a hook
 |
 |
 |- ext                                           Logging from associated external scripts
     |
     |- tank_cmd
</pre></div>
</div>
</section>
<section id="generating-log-messages-in-toolkit">
<h3>Generating log messages in Toolkit<a class="headerlink" href="#generating-log-messages-in-toolkit" title="Permalink to this heading"></a></h3>
<p>Generating log messages are done differently depending on your context.
Below are a series of examples and best practice recipes explaining how to best
apply logging to different scenarios.</p>
<section id="logging-from-within-your-app-engine-or-framework">
<h4>Logging from within your App, Engine or Framework<a class="headerlink" href="#logging-from-within-your-app-engine-or-framework" title="Permalink to this heading"></a></h4>
<p>Inside your app, a logger is available via <a class="reference internal" href="platform.html#sgtk.platform.Application.logger" title="sgtk.platform.Application.logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">logger()</span></code></a>.
Alternatively, you can also
use the legacy methods <code class="docutils literal notranslate"><span class="pre">log_debug|error|info|...()</span></code>. This provides
a basic level of general logging.</p>
<p>For code inside the <code class="docutils literal notranslate"><span class="pre">python</span></code> folder, which has been imported via
Toolkit’s <a class="reference internal" href="platform.html#sgtk.platform.Application.import_module" title="sgtk.platform.Application.import_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">import_module()</span></code></a> method,
we recommend that you access a logger using the following method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># at the top of the file, include the following</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">get_logger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">my_method</span><span class="p">():</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;inside my code, i can log like this&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This logger will be grouped per invocation instance,
meaning that you can see for example which dialog UI
a particular collection of log messages comes from.
An invocation is typically associated with someone launching
the app from the Shotgun menu.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Because log messages are grouped per invocation,
this makes it easy to for example generate log files
for export or import sessions running as part of an
app. It also makes it possible to create a log window
which displays the logging associated with a particular
app UI dialog.</p>
</div>
</div></blockquote>
</section>
<section id="logging-from-scripts-and-other-external-locations">
<h4>Logging from scripts and other external locations<a class="headerlink" href="#logging-from-scripts-and-other-external-locations" title="Permalink to this heading"></a></h4>
<p>If you want to add standard Toolkit logging to a script, simply
use the following recipe:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># at the top of the file, include the following</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">LogManager</span><span class="o">.</span><span class="n">get_logger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">my_method</span><span class="p">():</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;inside my code, i can log like this&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>All this logging will appear below the <code class="docutils literal notranslate"><span class="pre">sgtk.ext</span></code> logger.</p>
</section>
<section id="logging-from-inside-the-core-api">
<h4>Logging from inside the Core API<a class="headerlink" href="#logging-from-inside-the-core-api" title="Permalink to this heading"></a></h4>
<p>To emit log messages from inside the Toolkit Core API, use the following pattern:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># at the top of the file, include the following</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">LogManager</span><span class="o">.</span><span class="n">get_logger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">my_method</span><span class="p">():</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;inside my code, i can log like this&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="consuming-log-messages-in-toolkit">
<h3>Consuming log messages in Toolkit<a class="headerlink" href="#consuming-log-messages-in-toolkit" title="Permalink to this heading"></a></h3>
<p>Toolkit provides several ways to access the log information generated by
the various methods and recipes shown above.</p>
<p>The general approach is to attach one or several log handlers to the root
logging point of the hierarchy (<code class="docutils literal notranslate"><span class="pre">sgtk</span></code>). Each handler controls its own
logging resolution, e.g. how much log information to display. The toolkit
logging hierarchy itself is set to DEBUG resolution.</p>
<p>The Toolkit <a class="reference internal" href="#sgtk.log.LogManager" title="sgtk.log.LogManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">LogManager</span></code></a> provides a default set of logging methods
to help access log information.</p>
<section id="global-debug">
<h4>Global debug<a class="headerlink" href="#global-debug" title="Permalink to this heading"></a></h4>
<p>Toolkit has a concept of a global debug flag. This flag can be
enabled by setting the <code class="docutils literal notranslate"><span class="pre">TK_DEBUG</span></code> environment variable or
alternatively setting the <a class="reference internal" href="#sgtk.log.LogManager.global_debug" title="sgtk.log.LogManager.global_debug"><code class="xref py py-meth docutils literal notranslate"><span class="pre">LogManager.global_debug()</span></code></a> property.</p>
<p>All log handlers that have been created using the <a class="reference internal" href="#sgtk.log.LogManager" title="sgtk.log.LogManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">LogManager</span></code></a>
will be affected by the flag.</p>
</section>
<section id="backend-file-logging">
<h4>Backend file logging<a class="headerlink" href="#backend-file-logging" title="Permalink to this heading"></a></h4>
<p>Log information is automatically written to disk by the <a class="reference internal" href="#sgtk.log.LogManager" title="sgtk.log.LogManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">LogManager</span></code></a>.
The location to which log files are written can be accessed via the
<a class="reference internal" href="#sgtk.log.LogManager.log_folder" title="sgtk.log.LogManager.log_folder"><code class="xref py py-meth docutils literal notranslate"><span class="pre">LogManager.log_folder()</span></code></a> property. Backend file logging is normally
automatically enabled and end users do not need to worry about this.
If you want debug logging to be written to these files, enable the
global debug flag.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are writing a toolkit plugin, we recommend
that you initialize logging early on in your code by
calling <a class="reference internal" href="#sgtk.log.LogManager.initialize_base_file_handler" title="sgtk.log.LogManager.initialize_base_file_handler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">LogManager.initialize_base_file_handler()</span></code></a>.
This will ensure that all your logs are written to disk.
If you omit this call, logging will automatically be
started up as the engine is launched.</p>
</div>
</div></blockquote>
</section>
<section id="dcc-logging">
<h4>DCC Logging<a class="headerlink" href="#dcc-logging" title="Permalink to this heading"></a></h4>
<p>Each toolkit engine integrates logging into the DCC. DCCs such as
Maya, Nuke or houdini traditionally have a console of some sort where
logging information typically should be dispatched.</p>
<p>Engine log output has traditionally been implemented by subclassing
the <code class="docutils literal notranslate"><span class="pre">log_info</span></code>, <code class="docutils literal notranslate"><span class="pre">log_error</span></code> methods. In Core v0.18, a new and
improved logging platform is introduced and we recommend that engines
<em>do not</em> implement the <code class="docutils literal notranslate"><span class="pre">log_xxx</span></code> methods at all but instead implement
a single <a class="reference internal" href="platform.html#sgtk.platform.Engine._emit_log_message" title="sgtk.platform.Engine._emit_log_message"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_emit_log_message()</span></code></a> method.</p>
</section>
<section id="standard-logging">
<h4>Standard Logging<a class="headerlink" href="#standard-logging" title="Permalink to this heading"></a></h4>
<p>If you want some sort of log output in addition to the logging an
engine provides, you can add standard toolkit handlers. These handlers
are created via the <a class="reference internal" href="#sgtk.log.LogManager.initialize_custom_handler" title="sgtk.log.LogManager.initialize_custom_handler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">LogManager.initialize_custom_handler()</span></code></a> method.</p>
<p>All log handlers created or registered via this method will respond
to the global debug flag.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want a raw log output that is not affected
by any changes to the global debug flag, we recommend that
you manually create your log handler and attach it to
the <code class="docutils literal notranslate"><span class="pre">sgtk</span></code> root logger.</p>
</div>
</div></blockquote>
<p>Python provides a large number of log handlers as part of its standard library.
For more information, see <a class="reference external" href="https://docs.python.org/2/library/logging.handlers.html#module-logging.handlers">https://docs.python.org/2/library/logging.handlers.html#module-logging.handlers</a></p>
</section>
</section>
<section id="logmanager">
<h3>LogManager<a class="headerlink" href="#logmanager" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.log.LogManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.log.</span></span><span class="sig-name descname"><span class="pre">LogManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/log.html#LogManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.log.LogManager" title="Permalink to this definition"></a></dt>
<dd><p>Main interface for logging in Toolkit.</p>
<p>This class contains a series of methods to help standardize log output
and access. Since Toolkit uses the standard python logging interface,
you can manually configure and associate your logging if you like.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a singleton class, so every time you instantiate it,
the same object is returned.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.log.LogManager.get_logger">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_logger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/log.html#LogManager.get_logger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.log.LogManager.get_logger" title="Permalink to this definition"></a></dt>
<dd><p>Generates standard logger objects for Toolkit.</p>
<p>If you want to add standard toolkit logging to your code,
the easiest way is to include the following at the top of
your python file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">LogManager</span><span class="o">.</span><span class="n">get_logger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</pre></div>
</div>
<p>This will pick up the module hierarchy of your code and
parent it under the standard Toolkit logger.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is useful if you are writing scripts, tools or wrappers.
If you are developing a Toolkit app, framework or engine,
you typically want to use <a class="reference internal" href="platform.html#sgtk.platform.get_logger" title="sgtk.platform.get_logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk.platform.get_logger()</span></code></a>
for your logging.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To output logging to screen or to a console,
we recommend using the <a class="reference internal" href="#sgtk.log.LogManager.initialize_custom_handler" title="sgtk.log.LogManager.initialize_custom_handler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">initialize_custom_handler()</span></code></a>
convenience method.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>log_name</strong> – Name of logger to create. This name will be parented under
the sgtk namespace. If the name begins with <code class="docutils literal notranslate"><span class="pre">tank.</span></code>, it will
be automatically replaced with <code class="docutils literal notranslate"><span class="pre">sgtk.</span></code>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Standard python logger.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.log.LogManager.log_timing">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">log_timing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/log.html#LogManager.log_timing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.log.LogManager.log_timing" title="Permalink to this definition"></a></dt>
<dd><p>Decorator that times and logs the execution of a method.</p>
<p>Sometimes it is useful to log runtime statistics about
how long time a certain method takes to execute. In the
case of Toolkit, it is particularly helpful when debugging
issues to do with I/O or cloud connectivity.</p>
<p>If you have a method that for example connects to Shotgun to
retrieve data, you can decorate it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@sgtk</span><span class="o">.</span><span class="n">LogManager</span><span class="o">.</span><span class="n">log_timing</span>
<span class="k">def</span><span class="w"> </span><span class="nf">my_shotgun_publish_method</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Publishes lots of files to Shotgun</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c1"># shotgun code here</span>
</pre></div>
</div>
<p>In the debug logs, timings will be written to the
<code class="docutils literal notranslate"><span class="pre">sgtk.stopwatch</span></code> logger:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">DEBUG</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">stopwatch</span><span class="o">.</span><span class="n">module</span><span class="p">]</span> <span class="n">my_shotgun_publish_method</span><span class="p">:</span> <span class="mf">0.633</span><span class="n">s</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.log.LogManager.global_debug">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">global_debug</span></span><a class="headerlink" href="#sgtk.log.LogManager.global_debug" title="Permalink to this definition"></a></dt>
<dd><p>Controls the global debug flag in toolkit. Toggling this
flag will affect all log handlers that have been created
via <a class="reference internal" href="#sgtk.log.LogManager.initialize_custom_handler" title="sgtk.log.LogManager.initialize_custom_handler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">initialize_custom_handler()</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Debug logging is off by default.
If you want to permanently enable debug logging,
set the environment variable <code class="docutils literal notranslate"><span class="pre">TK_DEBUG</span></code>.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.log.LogManager.log_file">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">log_file</span></span><a class="headerlink" href="#sgtk.log.LogManager.log_file" title="Permalink to this definition"></a></dt>
<dd><p>Full path to the current log file or None if logging is not active.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.log.LogManager.log_folder">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">log_folder</span></span><a class="headerlink" href="#sgtk.log.LogManager.log_folder" title="Permalink to this definition"></a></dt>
<dd><p>The folder where log files generated by <a class="reference internal" href="#sgtk.log.LogManager.initialize_base_file_handler" title="sgtk.log.LogManager.initialize_base_file_handler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">initialize_base_file_handler()</span></code></a> are stored.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.log.LogManager.root_logger">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">root_logger</span></span><a class="headerlink" href="#sgtk.log.LogManager.root_logger" title="Permalink to this definition"></a></dt>
<dd><p>Returns the root logger for Toolkit.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want to add a custom logging handler to the root logger,
we recommend using the <a class="reference internal" href="#sgtk.log.LogManager.initialize_custom_handler" title="sgtk.log.LogManager.initialize_custom_handler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">initialize_custom_handler()</span></code></a> method.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The root logger logs down to a debug resolution by default.
Do not change the output level of logger as this will have
a global effect. If you are connecting a logging handler
and want to limit the stream of messages that are being
emitted, instead adjust the logging level of the handler.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>log object</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.log.LogManager.base_file_handler">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">base_file_handler</span></span><a class="headerlink" href="#sgtk.log.LogManager.base_file_handler" title="Permalink to this definition"></a></dt>
<dd><p>The base file handler that is used to write log files to disk
in a default location, or None if not defined.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.log.LogManager.initialize_custom_handler">
<span class="sig-name descname"><span class="pre">initialize_custom_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/log.html#LogManager.initialize_custom_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.log.LogManager.initialize_custom_handler" title="Permalink to this definition"></a></dt>
<dd><p>Convenience method that initializes a log handler
and attaches it to the toolkit logging root.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want to display log messages inside a DCC,
implement <a class="reference internal" href="platform.html#sgtk.platform.Engine._emit_log_message" title="sgtk.platform.Engine._emit_log_message"><code class="xref py py-meth docutils literal notranslate"><span class="pre">_emit_log_message()</span></code></a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <a class="reference internal" href="#sgtk.log.LogManager.global_debug" title="sgtk.log.LogManager.global_debug"><code class="xref py py-meth docutils literal notranslate"><span class="pre">global_debug()</span></code></a> is set to True, the handler created
will be set to debug level, otherwise it will be set to info level.
Furthermore, the log handler will automatically adjust its log
level whenever the global debug flag changes its state.</p>
</div>
<p>Calling this without parameters will generate a standard
stream based logging handler that logs to stderr:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># start logging to stderr</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sgtk.LogManager</span>
<span class="n">LogManager</span><span class="p">()</span><span class="o">.</span><span class="n">initialize_custom_handler</span><span class="p">()</span>
</pre></div>
</div>
<p>If you want to log to a file instead, create a log handler
and pass that to the method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">handler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="s2">&quot;/tmp/toolkit.log)</span>
<span class="n">LogManager</span><span class="p">()</span><span class="o">.</span><span class="n">initialize_custom_handler</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>
</pre></div>
</div>
<p>The log handler will be configured to output its messages
in a standard fashion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>handler</strong> – Logging handler to connect with the toolkit logger.
If not passed, a standard stream handler will be created.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The configured log handler.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.log.LogManager.uninitialize_base_file_handler">
<span class="sig-name descname"><span class="pre">uninitialize_base_file_handler</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/log.html#LogManager.uninitialize_base_file_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.log.LogManager.uninitialize_base_file_handler" title="Permalink to this definition"></a></dt>
<dd><p>Uninitialize base file handler created with <a class="reference internal" href="#sgtk.log.LogManager.initialize_base_file_handler" title="sgtk.log.LogManager.initialize_base_file_handler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">initialize_base_file_handler()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The path to the previous log file that is being switched away from,
None if no base logger was previously active.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.log.LogManager.initialize_base_file_handler">
<span class="sig-name descname"><span class="pre">initialize_base_file_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/log.html#LogManager.initialize_base_file_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.log.LogManager.initialize_base_file_handler" title="Permalink to this definition"></a></dt>
<dd><p>Create a file handler and attach it to the stgk base logger.
This will write a rotating log file to disk in a standard
location and will capture all log messages passed through
the log hierarchy.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Files will be written into the location on disk
defined by <a class="reference internal" href="#sgtk.log.LogManager.log_folder" title="sgtk.log.LogManager.log_folder"><code class="xref py py-meth docutils literal notranslate"><span class="pre">log_folder()</span></code></a>.</p>
</div>
<p>When you start an engine via the <a class="reference internal" href="platform.html#sgtk.platform.start_engine" title="sgtk.platform.start_engine"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk.platform.start_engine()</span></code></a> method,
a file handler will automatically be created if one doesn’t already exist.</p>
<p>If you are manually launching toolkit, we recommend that you call
this method to initialize logging to file early on in your setup.
Calling it multiple times will not result in the information being
written to multiple different files - only one file logger can
exist per session.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>log_name</strong> – Name of logger to create. This will form the
filename of the log file. The <code class="docutils literal notranslate"><span class="pre">.log</span></code> will be suffixed.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The path to the previous log file that is being switched away from,
None if no base logger was previously active.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.log.LogManager.initialize_base_file_handler_from_path">
<span class="sig-name descname"><span class="pre">initialize_base_file_handler_from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/log.html#LogManager.initialize_base_file_handler_from_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.log.LogManager.initialize_base_file_handler_from_path" title="Permalink to this definition"></a></dt>
<dd><p>Create a file handler and attach it to the sgtk base logger.</p>
<p>This method is there for legacy Toolkit applications and shouldn’t be used. Use
<code class="docutils literal notranslate"><span class="pre">initialize_base_file_handler</span></code> instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>log_file</strong> – Path of the file to write the logs to.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The path to the previous log file that is being switched away from,
None if no base logger was previously active.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="centralizing-your-settings">
<span id="centralizing-settings"></span><h2>Centralizing your settings<a class="headerlink" href="#centralizing-your-settings" title="Permalink to this heading"></a></h2>
<p>Instead of customizing your proxy settings on each of your project, it is possible to configure them once in a file
and have your projects inherit these values, unless the project overrides itself the setting
inside <code class="docutils literal notranslate"><span class="pre">shotgun.yml</span></code>.</p>
<p>Here’s an example:</p>
<blockquote>
<div><div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># Login related settings</span>
<span class="c1">#</span>
<span class="k">[Login]</span>

<span class="c1"># If specified, the username text input on the login screen will be populated</span>
<span class="c1"># with this value when logging into Toolkit for the very first time.</span>
<span class="c1"># Defaults to the user&#39;s OS login. Environment variables are actually resolved for</span>
<span class="c1"># all values in this file, which allows greater flexibility when sharing this configuration</span>
<span class="c1"># file with multiple users.</span>
<span class="c1">#</span>
<span class="na">default_login</span><span class="o">=</span><span class="s">$USERNAME</span>

<span class="c1"># If specified, the site text input on the login screen will be populated with</span>
<span class="c1"># this value when logging into Toolkit the very first time.</span>
<span class="c1"># Defaults to https://mystudio.shotgunstudio.com.</span>
<span class="c1">#</span>
<span class="na">default_site</span><span class="o">=</span><span class="s">https://your-site-here.shotgunstudio.com</span>

<span class="c1"># If specified, the Toolkit will use these proxy settings to connect to</span>
<span class="c1"># the Flow Production Tracking site and the Toolkit App Store. The proxy string should be of the</span>
<span class="c1"># forms 123.123.123.123, 123.123.123.123:8888 or</span>
<span class="c1"># username:pass@123.123.123.123:8888.</span>
<span class="c1"># Empty by default.</span>
<span class="c1">#</span>
<span class="na">http_proxy</span><span class="o">=</span><span class="s">123.234.345.456:8888</span>

<span class="c1"># If specified, the Flow Production Tracking API will use these proxy settings to connect</span>
<span class="c1"># to the Toolkit App Store. The proxy string format is the same as http_proxy.</span>
<span class="c1"># If the setting is present in the file but not set, then no proxy will be used</span>
<span class="c1"># to connect to the Toolkit App Store, regardless of the value of the http_proxy</span>
<span class="c1"># setting.</span>
<span class="c1"># Empty by default.</span>
<span class="c1">#</span>
<span class="na">app_store_http_proxy</span><span class="o">=</span><span class="s">123.234.345.456:8888</span>
</pre></div>
</div>
</div></blockquote>
<p>This file can be configured through multiple means and Toolkit will try to resolve the file in the
following order:</p>
<ol class="arabic simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">SGTK_PREFERENCES_LOCATION</span></code> environment variable,</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">SGTK_DESKTOP_CONFIG_LOCATION</span></code> environment variable, for compatibility with the Flow Production Tracking. (deprecated)</p></li>
<li><p>Inside the Flow Production Tracking preferences file</p></li>
<li><p>Inside the Flow Production Tracking preferences file, for compatibility with the Flow Production Tracking. (deprecated)</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Flow Production Tracking preferences file is located at:</p>
<ul class="simple">
<li><p>Windows: <code class="docutils literal notranslate"><span class="pre">%APPDATA%\Shotgun\Preferences\toolkit.ini</span></code></p></li>
<li><p>macOS: <code class="docutils literal notranslate"><span class="pre">~/Library/Preferences/Shotgun/toolkit.ini</span></code></p></li>
<li><p>Linux: <code class="docutils literal notranslate"><span class="pre">~/.shotgun/preferences/toolkit.ini</span></code></p></li>
</ul>
<p>The Flow Production Tracking preferences file is located at:</p>
<ul class="simple">
<li><p>Windows: <code class="docutils literal notranslate"><span class="pre">%APPDATA%\Shotgun\desktop\config\config.ini</span></code></p></li>
<li><p>macOS: <code class="docutils literal notranslate"><span class="pre">~/Library/Caches/Shotgun/desktop/config/config.ini</span></code></p></li>
<li><p>Linux: <code class="docutils literal notranslate"><span class="pre">~/.shotgun/desktop/config/config.ini</span></code></p></li>
</ul>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">SHOTGUN_HOME</span></code> environment variable can impact the location
of the Flow Production Tracking preferences file.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When the http proxy is not specified in this file, the Flow Production Tracking will try to retrieve
the operating system http proxy.</p>
<p>First, the environment will be scanned for variables named <code class="docutils literal notranslate"><span class="pre">http_proxy</span></code>, in case insensitive way.
If both lowercase and uppercase environment variables exist (and disagree), lowercase will be preferred.</p>
<p>When such environment variables cannot be found:</p>
<ul class="simple">
<li><p>for Mac OS X, proxy information will be looked for from Mac OS X System Configuration,</p></li>
<li><p>for Windows, proxy information will be looked for from Windows Systems Registry.</p></li>
</ul>
<p>There is a restriction in these latter cases: the use of proxies which require
authentication (username and password) is not supported.</p>
<p>Internally, the Flow Production Tracking uses Python function <code class="docutils literal notranslate"><span class="pre">urllib.getproxies()</span></code> to retrieve
the operating system http proxy. More information about this function can be found here:</p>
<blockquote>
<div><p><a class="reference external" href="https://docs.python.org/2/library/urllib.html#urllib.getproxies">https://docs.python.org/2/library/urllib.html#urllib.getproxies</a></p>
</div></blockquote>
</div>
<p>You can access those values programmatically.</p>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.util.UserSettings">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">UserSettings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/user_settings.html#UserSettings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.UserSettings" title="Permalink to this definition"></a></dt>
<dd><p>Handles finding and loading the user settings for Toolkit. The settings are cached in memory
so the user settings object can be instantiated multiple times without any issue.</p>
<p>All the settings are returned as strings. If a setting is missing from the file, <code class="docutils literal notranslate"><span class="pre">None</span></code> will
be returned. If the setting is present but has no value, an empty string will be returned.</p>
<p>As of this writing, settings can only be updated by editing the <code class="docutils literal notranslate"><span class="pre">ini</span></code> file manually.</p>
<p>Create the singleton instance if it hasn’t been created already. Once instantiated,
the object will be cached and never be instantiated again for performance
reasons.</p>
<dl class="py property">
<dt class="sig sig-object py" id="sgtk.util.UserSettings.shotgun_proxy">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shotgun_proxy</span></span><a class="headerlink" href="#sgtk.util.UserSettings.shotgun_proxy" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves the value from the <code class="docutils literal notranslate"><span class="pre">http_proxy</span></code> setting.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.util.UserSettings.app_store_proxy">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">app_store_proxy</span></span><a class="headerlink" href="#sgtk.util.UserSettings.app_store_proxy" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves the value from the <code class="docutils literal notranslate"><span class="pre">app_store_http_proxy</span></code> setting.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.util.UserSettings.default_site">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">default_site</span></span><a class="headerlink" href="#sgtk.util.UserSettings.default_site" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves the value from the <code class="docutils literal notranslate"><span class="pre">default_site</span></code> setting.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.util.UserSettings.default_login">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">default_login</span></span><a class="headerlink" href="#sgtk.util.UserSettings.default_login" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves the value from the <code class="docutils literal notranslate"><span class="pre">default_login</span></code> setting.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.UserSettings.get_section_settings">
<span class="sig-name descname"><span class="pre">get_section_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">section</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/user_settings.html#UserSettings.get_section_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.UserSettings.get_section_settings" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves the name of the settings in a given section.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>section</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name of the section of the settings to retrieve.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of setting’s name. If the section is missing, returns
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.UserSettings.get_setting">
<span class="sig-name descname"><span class="pre">get_setting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">section</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/user_settings.html#UserSettings.get_setting"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.UserSettings.get_setting" title="Permalink to this definition"></a></dt>
<dd><p>Provides access to any setting, including ones in user defined sections.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>section</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name of the section to retrieve the setting from. Do not include the brackets.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name of the setting under the provided section.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The setting’s value if found, <code class="docutils literal notranslate"><span class="pre">None</span></code> if the setting is missing from the file or
an empty string if the setting is present but has no value associated.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.UserSettings.get_boolean_setting">
<span class="sig-name descname"><span class="pre">get_boolean_setting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">section</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/user_settings.html#UserSettings.get_boolean_setting"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.UserSettings.get_boolean_setting" title="Permalink to this definition"></a></dt>
<dd><p>Provides access to any setting, including ones in user defined sections, and casts it
into a boolean.</p>
<p>Values <code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">yes</span></code>, <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">on</span></code> are converted to <code class="docutils literal notranslate"><span class="pre">True</span></code> while <code class="docutils literal notranslate"><span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">no</span></code>,
<code class="docutils literal notranslate"><span class="pre">false``and</span> <span class="pre">``off</span></code> are converted to false. Case is insensitive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>section</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name of the section to retrieve the setting from. Do not include the brackets.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name of the setting under the provided section.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Boolean if the value is valid, None if not set.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="core.html#sgtk.TankError" title="sgtk.TankError"><strong>TankError</strong></a> – Raised if the value is not one of the accepted values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.UserSettings.get_integer_setting">
<span class="sig-name descname"><span class="pre">get_integer_setting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">section</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/user_settings.html#UserSettings.get_integer_setting"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.UserSettings.get_integer_setting" title="Permalink to this definition"></a></dt>
<dd><p>Provides access to any setting, including ones in user defined sections, and casts it
into an integer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>section</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name of the section to retrieve the setting from. Do not include the brackets.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name of the setting under the provided section.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Boolean if the value is valid, None if not set.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="core.html#sgtk.TankError" title="sgtk.TankError"><strong>TankError</strong></a> – Raised if the value is not one of the accepted values.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="file-system-utilities">
<h2>File System Utilities<a class="headerlink" href="#file-system-utilities" title="Permalink to this heading"></a></h2>
<p>Below is a collection of file system related
convenience methods that make it easy to manage
and create files and folders on disk in a standard
fashion.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These methods are not configurable or overridable
by hooks. If you are developing apps or engines, we
recommend using <a class="reference internal" href="platform.html#sgtk.platform.Application.ensure_folder_exists" title="sgtk.platform.Application.ensure_folder_exists"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ensure_folder_exists()</span></code></a>
as this method calls out to a customizable hook implementation.</p>
</div>
<section id="sgtk-util-filesystem">
<h3>sgtk.util.filesystem<a class="headerlink" href="#sgtk-util-filesystem" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.filesystem.with_cleared_umask">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.filesystem.</span></span><span class="sig-name descname"><span class="pre">with_cleared_umask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/filesystem.html#with_cleared_umask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.filesystem.with_cleared_umask" title="Permalink to this definition"></a></dt>
<dd><p>Decorator which clears the umask for a method.</p>
<p>The umask is a permissions mask that gets applied
whenever new files or folders are created. For I/O methods
that have a permissions parameter, it is important that the
umask is cleared prior to execution, otherwise the default
umask may alter the resulting permissions, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">create_folders</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">permissions</span><span class="o">=</span><span class="mi">0777</span><span class="p">):</span>
    <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Creating folder </span><span class="si">%s</span><span class="s2">...&quot;</span> <span class="o">%</span> <span class="n">path</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">permissions</span><span class="p">)</span>
</pre></div>
</div>
<p>The 0777 permissions indicate that we want folders to be
completely open for all users (a+rwx). However, the umask
overrides this, so if the umask for example is set to 0777,
meaning that I/O operations are not allowed to create files
that are readable, executable or writable for users, groups
or others, the resulting permissions on folders created
by create folders will be 0, despite passing in 0777 permissions.</p>
<p>By adding this decorator to the method, we temporarily reset
the umask to 0, thereby giving full control to
any permissions operation to take place without any restriction
by the umask:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@with_cleared_umask</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_folders</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">permissions</span><span class="o">=</span><span class="mi">0777</span><span class="p">):</span>
    <span class="c1"># Creates folders with the given permissions,</span>
    <span class="c1"># regardless of umask setting.</span>
    <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Creating folder </span><span class="si">%s</span><span class="s2">...&quot;</span> <span class="o">%</span> <span class="n">path</span><span class="p">)</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">permissions</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.filesystem.compute_folder_size">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.filesystem.</span></span><span class="sig-name descname"><span class="pre">compute_folder_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/filesystem.html#compute_folder_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.filesystem.compute_folder_size" title="Permalink to this definition"></a></dt>
<dd><p>Computes and returns the size of the given folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – folder to compute size for</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>size in bytes</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.filesystem.touch_file">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.filesystem.</span></span><span class="sig-name descname"><span class="pre">touch_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permissions=0666</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/filesystem.html#touch_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.filesystem.touch_file" title="Permalink to this definition"></a></dt>
<dd><p>Touch a file and optionally set its permissions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – path to touch</p></li>
<li><p><strong>permissions</strong> – Optional permissions to set on the file. Default value is 0666,
creating a file that is readable and writable for all users.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p>OSError - if there was a problem reading/writing the file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.filesystem.ensure_folder_exists">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.filesystem.</span></span><span class="sig-name descname"><span class="pre">ensure_folder_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permissions=0775</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_placeholder_file=False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/filesystem.html#ensure_folder_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.filesystem.ensure_folder_exists" title="Permalink to this definition"></a></dt>
<dd><p>Helper method - creates a folder and parent folders if such do not already exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – path to create</p></li>
<li><p><strong>permissions</strong> – Permissions to use when folder is created</p></li>
<li><p><strong>create_placeholder_file</strong> – If true, a placeholder file will be generated.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p>OSError - if there was a problem creating the folder</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.filesystem.copy_file">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.filesystem.</span></span><span class="sig-name descname"><span class="pre">copy_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">permissions=0666</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/filesystem.html#copy_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.filesystem.copy_file" title="Permalink to this definition"></a></dt>
<dd><p>Copy file and sets its permissions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> – Source file</p></li>
<li><p><strong>dst</strong> – Target destination</p></li>
<li><p><strong>permissions</strong> – Permissions to use for target file. Default permissions will
be readable and writable for all users.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.filesystem.safe_delete_file">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.filesystem.</span></span><span class="sig-name descname"><span class="pre">safe_delete_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/filesystem.html#safe_delete_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.filesystem.safe_delete_file" title="Permalink to this definition"></a></dt>
<dd><p>Deletes the given file if it exists.</p>
<p>Ignores any errors raised in the process and logs them as warnings.
If the user does not have sufficient permissions to
remove the file, nothing will happen, it will simply
be skipped over.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – Full path to file to remove</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.filesystem.safe_delete_folder">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.filesystem.</span></span><span class="sig-name descname"><span class="pre">safe_delete_folder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/filesystem.html#safe_delete_folder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.filesystem.safe_delete_folder" title="Permalink to this definition"></a></dt>
<dd><p>Deletes a folder and all of its contents recursively, even if it has read-only
items.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Problems deleting any items will be reported as warnings in the log
output but otherwise ignored and skipped; meaning the function will continue
deleting as much as it can.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – File system path to location to the folder to be deleted</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.filesystem.copy_folder">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.filesystem.</span></span><span class="sig-name descname"><span class="pre">copy_folder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_permissions=0775</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_list=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/filesystem.html#copy_folder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.filesystem.copy_folder" title="Permalink to this definition"></a></dt>
<dd><p>Alternative implementation to <code class="docutils literal notranslate"><span class="pre">shutil.copytree</span></code></p>
<p>Copies recursively and creates folders if they don’t already exist.
Always skips system files such as <code class="docutils literal notranslate"><span class="pre">&quot;__MACOSX&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;.DS_Store&quot;</span></code>, etc.
Files will the extension <code class="docutils literal notranslate"><span class="pre">.sh</span></code>, <code class="docutils literal notranslate"><span class="pre">.bat</span></code> or <code class="docutils literal notranslate"><span class="pre">.exe</span></code> will be given
executable permissions.</p>
<p>Returns a list of files that were copied.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> – Source path to copy from</p></li>
<li><p><strong>dst</strong> – Destination to copy to</p></li>
<li><p><strong>folder_permissions</strong> – permissions to use for new folders</p></li>
<li><p><strong>skip_list</strong> – List of file names to skip. If this parameter is
omitted or set to None, common files such as <code class="docutils literal notranslate"><span class="pre">.git</span></code>,
<code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> etc will be ignored.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of files copied</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.filesystem.move_folder">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.filesystem.</span></span><span class="sig-name descname"><span class="pre">move_folder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder_permissions=0775</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/filesystem.html#move_folder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.filesystem.move_folder" title="Permalink to this definition"></a></dt>
<dd><p>Moves a directory.</p>
<p>First copies all content into target. Then deletes
all content from sources. Skips files that won’t delete.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The source folder itself is not deleted, it is just emptied, if possible.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> – Source path to copy from</p></li>
<li><p><strong>dst</strong> – Destination to copy to</p></li>
<li><p><strong>folder_permissions</strong> – permissions to use for new folders</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.filesystem.backup_folder">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.filesystem.</span></span><span class="sig-name descname"><span class="pre">backup_folder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/filesystem.html#backup_folder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.filesystem.backup_folder" title="Permalink to this definition"></a></dt>
<dd><p>Moves the given directory into a backup location.</p>
<p>By default, the folder will be renamed by simply giving it a
timestamp based suffix. Optionally, it can be moved into a different
location.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">backup_folder(&quot;/foo/bar&quot;)</span></code> will move <code class="docutils literal notranslate"><span class="pre">/foo/bar</span></code> to <code class="docutils literal notranslate"><span class="pre">/foo/bar.20160912_200426</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">backup_folder(&quot;/foo/bar&quot;,</span> <span class="pre">&quot;/tmp&quot;)</span></code> will move <code class="docutils literal notranslate"><span class="pre">/foo/bar</span></code> to <code class="docutils literal notranslate"><span class="pre">/tmp/bar.20160912_200426</span></code></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> – Folder to move</p></li>
<li><p><strong>dst</strong> – Optional backup folder</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.filesystem.create_valid_filename">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.filesystem.</span></span><span class="sig-name descname"><span class="pre">create_valid_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/filesystem.html#create_valid_filename"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.filesystem.create_valid_filename" title="Permalink to this definition"></a></dt>
<dd><p>Create a sanitized file name given a string.
Replaces spaces and other characters with underscores</p>
<p>‘my lovely name ‘ -&gt; ‘my_lovely_name’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> – String value to sanitize</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>sanitized string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.filesystem.get_unused_path">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.filesystem.</span></span><span class="sig-name descname"><span class="pre">get_unused_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/filesystem.html#get_unused_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.filesystem.get_unused_path" title="Permalink to this definition"></a></dt>
<dd><p>Return an unused file path from the given base path by appending if needed
a number at the end of the basename of the path, right before the first “.”,
if any.</p>
<p>For example, <code class="docutils literal notranslate"><span class="pre">/tmp/foo_1.bar.blah</span></code> would be returned for <code class="docutils literal notranslate"><span class="pre">/tmp/foo.bar.blah</span></code>
if it already exists.</p>
<p>If the given path does not exist, the original path is returned.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The returned path is not _reserved_, so it is possible that other processes
could create the returned path before it is used by the caller.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>base_path</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Target path.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A string.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="sgtk-util-json">
<h3>sgtk.util.json<a class="headerlink" href="#sgtk-util-json" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.json.load">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.json.</span></span><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object_hook</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_float</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_int</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_constant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/json.html#load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.json.load" title="Permalink to this definition"></a></dt>
<dd><p>Deserialize <code class="docutils literal notranslate"><span class="pre">fp</span></code> (a <code class="docutils literal notranslate"><span class="pre">.read()</span></code>-supporting file-like object containing
a JSON document) to a Python object.</p>
<p>This method is a simple thin wrapper around <a class="reference external" href="https://docs.python.org/3.9/library/json.html#json.load" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">json.load()</span></code></a> that
ensures unserialized strings are utf-8 encoded <a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> objects.</p>
<p>See the documentation for <a class="reference external" href="https://docs.python.org/3.9/library/json.html#json.load" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">json.load()</span></code></a> to learn more about this method.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.json.loads">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.json.</span></span><span class="sig-name descname"><span class="pre">loads</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object_hook</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_float</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_int</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parse_constant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/json.html#loads"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.json.loads" title="Permalink to this definition"></a></dt>
<dd><p>Deserialize <code class="docutils literal notranslate"><span class="pre">s</span></code> (a <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code> instance containing a JSON
document) to a Python object.</p>
<p>This method is a simple thin wrapper around <a class="reference external" href="https://docs.python.org/3.9/library/json.html#json.loads" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">json.loads()</span></code></a> that
ensures unserialized strings are utf-8 encoded <a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> objects.</p>
<p>See the documentation for <a class="reference external" href="https://docs.python.org/3.9/library/json.html#json.loads" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">json.loads()</span></code></a> to learn more about this method.</p>
</dd></dl>

</section>
<section id="sgtk-util-pickle">
<h3>sgtk.util.pickle<a class="headerlink" href="#sgtk-util-pickle" title="Permalink to this heading"></a></h3>
<p>Toolkit’s <code class="docutils literal notranslate"><span class="pre">pickle</span></code> module isn’t a drop-in replacement for Python’s, but a wrapper around Python’s <a class="reference external" href="https://docs.python.org/3.9/library/pickle.html#module-pickle" title="(in Python v3.9)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pickle</span></code></a> module so collections and scalar types can be exchanged freely between Python 2 and Python 3 processes without having to worry about the subtle pickle serialization differences between the two.</p>
<p>If you wish to serialize your own custom classes to be exchanged between Python 2 and Python 3, you will need to sanitize data unpickled with Python 2 that was pickled with Python 3 and vice-versa. Otheriwse, your data will contain unexpected <code class="docutils literal notranslate"><span class="pre">bytes</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code> objects instead of utf-8 encoded <code class="docutils literal notranslate"><span class="pre">str</span></code> instances.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">load</span></code>/<code class="docutils literal notranslate"><span class="pre">loads</span></code> methods, Python 3’s <code class="docutils literal notranslate"><span class="pre">bytes</span></code> is always decoded back to a utf-8 encoded <code class="docutils literal notranslate"><span class="pre">str</span></code>. If you need to store arbitrary binary data, consider saving it as a base64 string instead.</p>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.pickle.dump">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.pickle.</span></span><span class="sig-name descname"><span class="pre">dump</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fh</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/pickle.html#dump"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.pickle.dump" title="Permalink to this definition"></a></dt>
<dd><p>Write the pickled representation of <code class="docutils literal notranslate"><span class="pre">data</span></code> to a file object.</p>
<p>This methods wraps the functionality from the <a class="reference external" href="https://docs.python.org/3.9/library/pickle.html#pickle.dump" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">pickle.dump()</span></code></a> method so
pickles can be shared between Python 2 and Python 3.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – The object to pickle and store.</p></li>
<li><p><strong>fh</strong> – A file object</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.pickle.dumps">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.pickle.</span></span><span class="sig-name descname"><span class="pre">dumps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/pickle.html#dumps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.pickle.dumps" title="Permalink to this definition"></a></dt>
<dd><p>Return the pickled representation of <code class="docutils literal notranslate"><span class="pre">data</span></code> as a <code class="docutils literal notranslate"><span class="pre">str</span></code>.</p>
<p>This methods wraps the functionality from the <a class="reference external" href="https://docs.python.org/3.9/library/pickle.html#pickle.dumps" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">pickle.dumps()</span></code></a> method so
pickles can be shared between Python 2 and Python 3.</p>
<p>As opposed to the Python 3 implementation, it will return a <code class="docutils literal notranslate"><span class="pre">str</span></code> object
and not <code class="docutils literal notranslate"><span class="pre">bytes</span></code> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> – The object to pickle and store.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A pickled str of the input object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.pickle.load">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.pickle.</span></span><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fh</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/pickle.html#load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.pickle.load" title="Permalink to this definition"></a></dt>
<dd><p>Read the pickled representation of an object from the open file object
and return the reconstituted object hierarchy specified therein.</p>
<p>This method wraps the functionality from the <a class="reference external" href="https://docs.python.org/3.9/library/pickle.html#pickle.load" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">pickle.load()</span></code></a> method so
unicode strings are always returned as utf8-encoded <code class="docutils literal notranslate"><span class="pre">str</span></code> instead of <code class="docutils literal notranslate"><span class="pre">unicode</span></code>
objects in Python 2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fh</strong> – A file object</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The unpickled object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/functions.html#object" title="(in Python v3.9)">object</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.pickle.loads">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.pickle.</span></span><span class="sig-name descname"><span class="pre">loads</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/pickle.html#loads"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.pickle.loads" title="Permalink to this definition"></a></dt>
<dd><p>Read the pickled representation of an object from a string
and return the reconstituted object hierarchy specified therein.</p>
<p>This method wraps the functionality from the <a class="reference external" href="https://docs.python.org/3.9/library/pickle.html#pickle.loads" title="(in Python v3.9)"><code class="xref py py-func docutils literal notranslate"><span class="pre">pickle.loads()</span></code></a> method so
unicode strings are always returned as utf8-encoded <code class="docutils literal notranslate"><span class="pre">str</span></code> instead of <code class="docutils literal notranslate"><span class="pre">unicode</span></code>
objects in Python 2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#object" title="(in Python v3.9)"><em>object</em></a>) – A pickled representation of an object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The unpickled object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/functions.html#object" title="(in Python v3.9)">object</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="shotgunpath">
<h3>ShotgunPath<a class="headerlink" href="#shotgunpath" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.util.ShotgunPath">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">ShotgunPath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">windows_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linux_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">macosx_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun_path.html#ShotgunPath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.ShotgunPath" title="Permalink to this definition"></a></dt>
<dd><p>Helper class that handles a path on multiple operating systems.</p>
<p>Contains methods to easily cast multi-os path between shotgun and os representations
and mappings. The ShotgunPath object automatically sanitizes any path that it is given.
When working with local storages in Shotgun, roots are keyed by the tokens
<code class="docutils literal notranslate"><span class="pre">windows_path</span></code>, <code class="docutils literal notranslate"><span class="pre">linux_path</span></code> and <code class="docutils literal notranslate"><span class="pre">mac_path</span></code>. When using <code class="docutils literal notranslate"><span class="pre">sys.platform</span></code> in python,
you get back <code class="docutils literal notranslate"><span class="pre">win32</span></code>, <code class="docutils literal notranslate"><span class="pre">darwin</span></code> and <code class="docutils literal notranslate"><span class="pre">linux2</span></code> depending on platform. This class makes
it easy to perform operations and cast between representations and platforms.</p>
<p>Usage example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ShotgunPath</span><span class="o">.</span><span class="n">SHOTGUN_PATH_FIELDS</span>
<span class="go">[&quot;windows_path&quot;, &quot;linux_path&quot;, &quot;mac_path&quot;]</span>

<span class="go"># construction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">ShotgunPath</span><span class="p">(</span><span class="s2">&quot;C:</span><span class="se">\t</span><span class="s2">emp&quot;</span><span class="p">,</span> <span class="s2">&quot;/tmp&quot;</span><span class="p">,</span> <span class="s2">&quot;/tmp&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">ShotgunPath</span><span class="o">.</span><span class="n">from_shotgun_dict</span><span class="p">({</span> <span class="s2">&quot;windows_path&quot;</span><span class="p">:</span> <span class="s2">&quot;C:</span><span class="se">\t</span><span class="s2">emp&quot;</span><span class="p">,</span> <span class="s2">&quot;mac_path&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;linux_path&quot;</span><span class="p">:</span> <span class="s2">&quot;/tmp&quot;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">ShotgunPath</span><span class="o">.</span><span class="n">from_system_dict</span><span class="p">({</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span> <span class="s2">&quot;C:</span><span class="se">\t</span><span class="s2">emp&quot;</span><span class="p">,</span> <span class="s2">&quot;darwin&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;linux2&quot;</span><span class="p">:</span> <span class="s2">&quot;/tmp&quot;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">ShotgunPath</span><span class="o">.</span><span class="n">from_current_os_path</span><span class="p">(</span><span class="s2">&quot;/tmp&quot;</span><span class="p">)</span>

<span class="go"># access</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">macosx</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">windows</span>
<span class="go">&quot;C:\temp&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">linux</span>
<span class="go">&#39;/tmp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">current_os</span>
<span class="go">&#39;/tmp&#39;</span>

<span class="go"># boolean operations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">p</span><span class="p">:</span> <span class="nb">print</span> <span class="s2">&quot;a path value defined for windows, linux or mac&quot;</span>

<span class="go"># equality</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">p1</span> <span class="o">==</span> <span class="n">p2</span><span class="p">:</span> <span class="nb">print</span> <span class="s2">&quot;paths are same&quot;</span>

<span class="go"># multi-platform access</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">as_shotgun_dict</span><span class="p">()</span>
<span class="go">{ &quot;windows_path&quot;: &quot;C:\temp&quot;, &quot;mac_path&quot;: None, &quot;linux_path&quot;: &quot;/tmp&quot;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">as_system_dict</span><span class="p">()</span>
<span class="go">{ &quot;win32&quot;: &quot;C:\temp&quot;, &quot;darwin&quot;: None, &quot;linux2&quot;: &quot;/tmp&quot;}</span>

<span class="go"># descriptor uri conversion</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">as_descriptor_uri</span><span class="p">()</span>
<span class="go">&#39;sgtk:descriptor:path?linux_path=/tmp/foo&#39;</span>

<span class="go"># path manipulation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p2</span>
<span class="go">&lt;Path win:&#39;c:\temp\foo&#39;, linux:&#39;/tmp/foo&#39;, macosx:&#39;/tmp/foo&#39;&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>windows_path</strong> – Path on windows to associate with this path object</p></li>
<li><p><strong>linux_path</strong> – Path on linux to associate with this path object</p></li>
<li><p><strong>macosx_path</strong> – Path on macosx to associate with this path object</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="sgtk.util.ShotgunPath.SHOTGUN_PATH_FIELDS">
<span class="sig-name descname"><span class="pre">SHOTGUN_PATH_FIELDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['windows_path',</span> <span class="pre">'linux_path',</span> <span class="pre">'mac_path']</span></em><a class="headerlink" href="#sgtk.util.ShotgunPath.SHOTGUN_PATH_FIELDS" title="Permalink to this definition"></a></dt>
<dd><p>A list of the standard path fields used by Shotgun.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.ShotgunPath.get_file_name_from_template">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_file_name_from_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">platform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linux'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun_path.html#ShotgunPath.get_file_name_from_template"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.ShotgunPath.get_file_name_from_template" title="Permalink to this definition"></a></dt>
<dd><p>Returns the complete file name for the current platform based on
file name template passed in.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>template</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Template for a file name with a <code class="docutils literal notranslate"><span class="pre">%s</span></code> to indicate
where the platform name should be inserted.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Path with the OS name substituted in.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.ShotgunPath.get_shotgun_storage_key">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_shotgun_storage_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">platform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linux'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun_path.html#ShotgunPath.get_shotgun_storage_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.ShotgunPath.get_shotgun_storage_key" title="Permalink to this definition"></a></dt>
<dd><p>Given a <code class="docutils literal notranslate"><span class="pre">sys.platform</span></code> constant, resolve a Shotgun storage key</p>
<p>Shotgun local storages handle operating systems using
the three keys ‘windows_path, ‘mac_path’ and ‘linux_path’,
also defined as <code class="docutils literal notranslate"><span class="pre">ShotgunPath.SHOTGUN_PATH_FIELDS</span></code></p>
<p>This method resolves the right key given a std. python
sys.platform:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">get_shotgun_storage_key</span><span class="p">(</span><span class="s1">&#39;win32&#39;</span><span class="p">)</span>
<span class="go">&#39;windows_path&#39;</span>

<span class="go"># if running on a mac</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">get_shotgun_storage_key</span><span class="p">()</span>
<span class="go">&#39;mac_path&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>platform</strong> – sys.platform style string, e.g ‘linux2’,
‘win32’ or ‘darwin’.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Shotgun storage path as string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.ShotgunPath.from_shotgun_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_shotgun_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sg_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun_path.html#ShotgunPath.from_shotgun_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.ShotgunPath.from_shotgun_dict" title="Permalink to this definition"></a></dt>
<dd><p>Creates a path from data contained in a std shotgun data dict,
containing the paths windows_path, mac_path and linux_path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sg_dict</strong> – Shotgun query resultset with possible keys
windows_path, mac_path and linux_path.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sgtk.util.ShotgunPath" title="sgtk.util.ShotgunPath"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunPath</span></code></a> instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.ShotgunPath.from_system_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_system_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">system_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun_path.html#ShotgunPath.from_system_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.ShotgunPath.from_system_dict" title="Permalink to this definition"></a></dt>
<dd><p>Creates a path from data contained in a dictionary keyed by
sys.platform constants.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>system_dict</strong> – Dictionary with possible keys
win32, darwin and linux2.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sgtk.util.ShotgunPath" title="sgtk.util.ShotgunPath"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunPath</span></code></a> instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.ShotgunPath.from_current_os_path">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_current_os_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun_path.html#ShotgunPath.from_current_os_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.ShotgunPath.from_current_os_path" title="Permalink to this definition"></a></dt>
<dd><p>Creates a path object for a path on the current platform only.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – Path on the current os platform.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sgtk.util.ShotgunPath" title="sgtk.util.ShotgunPath"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunPath</span></code></a> instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.ShotgunPath.normalize">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun_path.html#ShotgunPath.normalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.ShotgunPath.normalize" title="Permalink to this definition"></a></dt>
<dd><p>Convenience method that normalizes the given path
by running it through the <a class="reference internal" href="#sgtk.util.ShotgunPath" title="sgtk.util.ShotgunPath"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunPath</span></code></a> normalization
logic. <code class="docutils literal notranslate"><span class="pre">ShotgunPath.normalize(path)</span></code> is equivalent
to executing <code class="docutils literal notranslate"><span class="pre">ShotgunPath.from_current_os_path(path).current_os</span></code>.</p>
<p>Normalization include checking that separators are matching the
current operating system, removal of trailing separators
and removal of double separators. This is done automatically
for all <a class="reference internal" href="#sgtk.util.ShotgunPath" title="sgtk.util.ShotgunPath"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunPath</span></code></a>, but sometimes it is useful
to just perform the normalization quickly on a local path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Local operating system path to normalize</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Normalized path string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.util.ShotgunPath.macosx">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">macosx</span></span><a class="headerlink" href="#sgtk.util.ShotgunPath.macosx" title="Permalink to this definition"></a></dt>
<dd><p>The macosx representation of the path</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.util.ShotgunPath.windows">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">windows</span></span><a class="headerlink" href="#sgtk.util.ShotgunPath.windows" title="Permalink to this definition"></a></dt>
<dd><p>The Windows representation of the path</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.util.ShotgunPath.linux">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">linux</span></span><a class="headerlink" href="#sgtk.util.ShotgunPath.linux" title="Permalink to this definition"></a></dt>
<dd><p>The Linux representation of the path</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.util.ShotgunPath.current_os">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_os</span></span><a class="headerlink" href="#sgtk.util.ShotgunPath.current_os" title="Permalink to this definition"></a></dt>
<dd><p>The path on the current os</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.ShotgunPath.as_shotgun_dict">
<span class="sig-name descname"><span class="pre">as_shotgun_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun_path.html#ShotgunPath.as_shotgun_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.ShotgunPath.as_shotgun_dict" title="Permalink to this definition"></a></dt>
<dd><p>The path as a shotgun dictionary. With <code class="docutils literal notranslate"><span class="pre">include_empty</span></code> set to True:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;windows_path&quot;</span><span class="p">:</span> <span class="s2">&quot;C:</span><span class="se">\t</span><span class="s2">emp&quot;</span><span class="p">,</span> <span class="s2">&quot;mac_path&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;linux_path&quot;</span><span class="p">:</span> <span class="s2">&quot;/tmp&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>With <code class="docutils literal notranslate"><span class="pre">include_empty</span></code> set to False:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;windows_path&quot;</span><span class="p">:</span> <span class="s2">&quot;C:</span><span class="se">\t</span><span class="s2">emp&quot;</span><span class="p">,</span> <span class="s2">&quot;linux_path&quot;</span><span class="p">:</span> <span class="s2">&quot;/tmp&quot;</span><span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>include_empty</strong> – Controls whether keys should be included for empty path values</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dictionary of paths keyed by standard shotgun keys.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.ShotgunPath.as_system_dict">
<span class="sig-name descname"><span class="pre">as_system_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun_path.html#ShotgunPath.as_system_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.ShotgunPath.as_system_dict" title="Permalink to this definition"></a></dt>
<dd><p>The path as a dictionary keyed by sys.platform.</p>
<p>With <code class="docutils literal notranslate"><span class="pre">include_empty</span></code> set to True:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span> <span class="s2">&quot;C:</span><span class="se">\t</span><span class="s2">emp&quot;</span><span class="p">,</span> <span class="s2">&quot;darwin&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;linux2&quot;</span><span class="p">:</span> <span class="s2">&quot;/tmp&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>With <code class="docutils literal notranslate"><span class="pre">include_empty</span></code> set to False:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span> <span class="s2">&quot;C:</span><span class="se">\t</span><span class="s2">emp&quot;</span><span class="p">,</span> <span class="s2">&quot;linux2&quot;</span><span class="p">:</span> <span class="s2">&quot;/tmp&quot;</span><span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>include_empty</strong> – Controls whether keys should be included for empty path values</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dictionary of paths keyed by sys.platform.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.ShotgunPath.as_descriptor_uri">
<span class="sig-name descname"><span class="pre">as_descriptor_uri</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">for_development</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun_path.html#ShotgunPath.as_descriptor_uri"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.ShotgunPath.as_descriptor_uri" title="Permalink to this definition"></a></dt>
<dd><p>Translates the path to a descriptor uri. For more information
about descriptors, see the <a class="reference internal" href="descriptor.html#descriptor"><span class="std std-ref">reference documentation</span></a>.</p>
<p>This method will either return a dev or a path descriptor uri
path string, suitable for use with for example pipeline configurations
in Shotgun.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>for_development</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Set to true for a dev descriptor</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dev or Path descriptor uri string representing the path</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p>ValueError if the path object has no paths defined</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.ShotgunPath.join">
<span class="sig-name descname"><span class="pre">join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun_path.html#ShotgunPath.join"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.ShotgunPath.join" title="Permalink to this definition"></a></dt>
<dd><p>Appends a single folder to the path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>folder</strong> – folder name as sting</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sgtk.util.ShotgunPath" title="sgtk.util.ShotgunPath"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunPath</span></code></a> object containing the new path</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="localfilestoragemanager">
<h3>LocalFileStorageManager<a class="headerlink" href="#localfilestoragemanager" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.util.LocalFileStorageManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">LocalFileStorageManager</span></span><a class="reference internal" href="_modules/tank/util/local_file_storage.html#LocalFileStorageManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.LocalFileStorageManager" title="Permalink to this definition"></a></dt>
<dd><p>Class that encapsulates logic for resolving local storage paths.</p>
<p>Toolkit needs to store cache data, logs and other items at runtime.
Some of this data is global, other is per site or per configuration.</p>
<p>This class provides a consistent and centralized interface for resolving
such paths and also handles compatibility across generations of path
standards if and when these change between releases.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All paths returned by this class are local to the currently running
user and typically private or with limited access settings for other users.</p>
<p>If the current user’s home directory is not an appropriate location to store
your user files, you can use the <code class="docutils literal notranslate"><span class="pre">SHOTGUN_HOME</span></code> environment variable to
override the root location of the files. In that case, the location for the
user files on each platform will be:</p>
<ul class="simple">
<li><p>Logging:     <code class="docutils literal notranslate"><span class="pre">$SHOTGUN_HOME/logs</span></code></p></li>
<li><p>Cache:       <code class="docutils literal notranslate"><span class="pre">$SHOTGUN_HOME</span></code></p></li>
<li><p>Persistent:  <code class="docutils literal notranslate"><span class="pre">$SHOTGUN_HOME/data</span></code></p></li>
<li><p>Preferences: <code class="docutils literal notranslate"><span class="pre">$SHOTGUN_HOME/preferences</span></code></p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Constant CORE_V17<span class="colon">:</span></dt>
<dd class="field-odd"><p>Indicates compatibility with Core 0.17 or earlier</p>
</dd>
<dt class="field-even">Constant CORE_V18<span class="colon">:</span></dt>
<dd class="field-even"><p>Indicates compatibility with Core 0.18 or later</p>
</dd>
<dt class="field-odd">Constant LOGGING<span class="colon">:</span></dt>
<dd class="field-odd"><p>Indicates a path suitable for storing logs, useful for debugging</p>
</dd>
<dt class="field-even">Constant CACHE<span class="colon">:</span></dt>
<dd class="field-even"><p>Indicates a path suitable for storing cache data that can be deleted
without any loss of functionality or state.</p>
</dd>
<dt class="field-odd">Constant PERSISTENT<span class="colon">:</span></dt>
<dd class="field-odd"><p>Indicates a path suitable for storing data that needs
to be retained between sessions.</p>
</dd>
<dt class="field-even">Constant PREFERENCES<span class="colon">:</span></dt>
<dd class="field-even"><p>Indicates a path that suitable for storing settings files and preferences.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.LocalFileStorageManager.get_global_root">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_global_root</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/local_file_storage.html#LocalFileStorageManager.get_global_root"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.LocalFileStorageManager.get_global_root" title="Permalink to this definition"></a></dt>
<dd><p>Returns a generic Shotgun storage root.</p>
<p>The following paths will be used:</p>
<blockquote>
<div><ul class="simple">
<li><p>On the mac, paths will point into <code class="docutils literal notranslate"><span class="pre">~/Library/PATH_TYPE/Shotgun</span></code>, where PATH_TYPE
is controlled by the path_type property.</p></li>
<li><p>On Windows, paths will created below a <code class="docutils literal notranslate"><span class="pre">%APPDATA%/Shotgun</span></code> root point.</p></li>
<li><p>On Linux, paths will be created below a <code class="docutils literal notranslate"><span class="pre">~/.shotgun</span></code> root point.</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method does not ensure that the folder exists.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_type</strong> – Type of path to return. One of <code class="docutils literal notranslate"><span class="pre">LocalFileStorageManager.LOGGING</span></code>,
<code class="docutils literal notranslate"><span class="pre">LocalFileStorageManager.CACHE</span></code>, <code class="docutils literal notranslate"><span class="pre">LocalFileStorageManager.PERSISTENT</span></code>, where
logging is a path where log- and debug related data should be stored,
cache is a location intended for cache data, e.g. data that can be deleted
without affecting the state of execution, and persistent is a location intended
for data that is meant to be persist. This includes things like settings and
preferences.</p></li>
<li><p><strong>generation</strong> – Path standard generation to use. Defaults to <code class="docutils literal notranslate"><span class="pre">LocalFileStorageManager.CORE_V18</span></code>,
which is the current generation of paths.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Path as string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.LocalFileStorageManager.get_site_root">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_site_root</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hostname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/local_file_storage.html#LocalFileStorageManager.get_site_root"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.LocalFileStorageManager.get_site_root" title="Permalink to this definition"></a></dt>
<dd><p>Returns a cache root where items can be stored on a per site basis.</p>
<p>For more details, see <a class="reference internal" href="#sgtk.util.LocalFileStorageManager.get_global_root" title="sgtk.util.LocalFileStorageManager.get_global_root"><code class="xref py py-meth docutils literal notranslate"><span class="pre">LocalFileStorageManager.get_global_root()</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method does not ensure that the folder exists.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hostname</strong> – Shotgun hostname as string, e.g. ‘<a class="reference external" href="https://foo.shotgunstudio.com">https://foo.shotgunstudio.com</a>’</p></li>
<li><p><strong>path_type</strong> – Type of path to return. One of <code class="docutils literal notranslate"><span class="pre">LocalFileStorageManager.LOGGING</span></code>,
<code class="docutils literal notranslate"><span class="pre">LocalFileStorageManager.CACHE</span></code>, <code class="docutils literal notranslate"><span class="pre">LocalFileStorageManager.PERSISTENT</span></code>, where
logging is a path where log- and debug related data should be stored,
cache is a location intended for cache data, e.g. data that can be deleted
without affecting the state of execution, and persistent is a location intended
for data that is meant to be persist. This includes things like settings and
preferences.</p></li>
<li><p><strong>generation</strong> – Path standard generation to use. Defaults to <code class="docutils literal notranslate"><span class="pre">LocalFileStorageManager.CORE_V18</span></code>,
which is the current generation of paths.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Path as string</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.LocalFileStorageManager.get_configuration_root">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_configuration_root</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hostname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plugin_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pipeline_config_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/local_file_storage.html#LocalFileStorageManager.get_configuration_root"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.LocalFileStorageManager.get_configuration_root" title="Permalink to this definition"></a></dt>
<dd><p>Returns the storage root for any data that is project and config specific.</p>
<ul class="simple">
<li><p>A well defined project id should always be passed. Passing None as the project
id indicates that the <em>site</em> configuration, a special toolkit configuration
that represents the non-project state in Shotgun.</p></li>
<li><p>Configurations that have a pipeline configuration in Shotgun should pass in
a pipeline configuration id. When a pipeline configuration is not registered
in Shotgun, this value should be None.</p></li>
<li><p>If the configuration has been bootstrapped or has a known plugin id, this
should be specified via the plugin id parameter.</p></li>
</ul>
<p>For more details, see <a class="reference internal" href="#sgtk.util.LocalFileStorageManager.get_global_root" title="sgtk.util.LocalFileStorageManager.get_global_root"><code class="xref py py-meth docutils literal notranslate"><span class="pre">LocalFileStorageManager.get_global_root()</span></code></a>.</p>
<p>Examples of paths that will be generated:</p>
<ul class="simple">
<li><p>Site config: <code class="docutils literal notranslate"><span class="pre">ROOT/shotgunsite/p0</span></code></p></li>
<li><p>Project 123, config 33: <code class="docutils literal notranslate"><span class="pre">ROOT/shotgunsite/p123c33</span></code></p></li>
<li><p>project 123, no config, plugin id review.rv: <code class="docutils literal notranslate"><span class="pre">ROOT/shotgunsite/p123.review.rv</span></code></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method does not ensure that the folder exists.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hostname</strong> – Shotgun hostname as string, e.g. ‘<a class="reference external" href="https://foo.shotgunstudio.com">https://foo.shotgunstudio.com</a>’</p></li>
<li><p><strong>project_id</strong> – Shotgun project id as integer. For the site config, this should be None.</p></li>
<li><p><strong>plugin_id</strong> – Plugin id string to identify the scope for a particular plugin
or integration. For more information,
see <a class="reference internal" href="initializing.html#sgtk.bootstrap.ToolkitManager.plugin_id" title="sgtk.bootstrap.ToolkitManager.plugin_id"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plugin_id()</span></code></a>. For
non-plugin based toolkit projects, this value is None.</p></li>
<li><p><strong>pipeline_config_id</strong> – Shotgun pipeline config id. None for bootstraped configs.</p></li>
<li><p><strong>path_type</strong> – Type of path to return. One of <code class="docutils literal notranslate"><span class="pre">LocalFileStorageManager.LOGGING</span></code>,
<code class="docutils literal notranslate"><span class="pre">LocalFileStorageManager.CACHE</span></code>, <code class="docutils literal notranslate"><span class="pre">LocalFileStorageManager.PERSISTENT</span></code>, where
logging is a path where log- and debug related data should be stored,
cache is a location intended for cache data, e.g. data that can be deleted
without affecting the state of execution, and persistent is a location intended
for data that is meant to be persist. This includes things like settings and
preferences.</p></li>
<li><p><strong>generation</strong> – Path standard generation to use. Defaults to <code class="docutils literal notranslate"><span class="pre">LocalFileStorageManager.CORE_V18</span></code>,
which is the current generation of paths.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Path as string</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="os-detection">
<h2>OS detection<a class="headerlink" href="#os-detection" title="Permalink to this heading"></a></h2>
<p>Below are a collection of convenience methods to detect which operating system is in use:</p>
<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.is_linux">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">is_linux</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">platform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/platforms.html#is_linux"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.is_linux" title="Permalink to this definition"></a></dt>
<dd><p>Determine if the current platform is Linux.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>platform</strong> – sys.platform style string, e.g ‘linux2’, ‘win32’ or
‘darwin’.  If not provided, sys.platform will be used.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the current platform is Linux, otherwise False.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.is_windows">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">is_windows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">platform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/platforms.html#is_windows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.is_windows" title="Permalink to this definition"></a></dt>
<dd><p>Determine if the current platform is Windows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>platform</strong> – sys.platform style string, e.g ‘linux2’, ‘win32’ or
‘darwin’.  If not provided, sys.platform will be used.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the current platform is Windows, otherwise False.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.is_macos">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">is_macos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">platform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/platforms.html#is_macos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.is_macos" title="Permalink to this definition"></a></dt>
<dd><p>Determine if the current platform is MacOS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>platform</strong> – sys.platform style string, e.g ‘linux2’, ‘win32’ or
‘darwin’.  If not provided, sys.platform will be used.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the current platform is MacOS, otherwise False.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="flow-production-tracking-related">
<h2>Flow Production Tracking Related<a class="headerlink" href="#flow-production-tracking-related" title="Permalink to this heading"></a></h2>
<p>Below are a collection of Flow Production Tracking related utility
and convenience methods:</p>
<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.register_publish">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">register_publish</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version_number</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun/publish_creation.html#register_publish"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.register_publish" title="Permalink to this definition"></a></dt>
<dd><p>Creates a Published File in Shotgun.</p>
<p><strong>Introduction</strong></p>
<p>The publish will be associated with the current context and point
at the given file. The method will attempt to add the publish to
Shotgun as a local file link, and failing that it will generate
a <code class="docutils literal notranslate"><span class="pre">file://</span></code> url to represent the path.</p>
<p>In addition to the path, a version number and a name needs to be provided.
The version number should reflect the iteration or revision of the publish
and will be used to populate the number field of the publish that is created
in Shotgun. The name should represent the name of the item, without any version
number. This is used to group together publishes in Shotgun and various
integrations.</p>
<p>If the path matches any local storage roots defined by the toolkit project,
it will be uploaded as a local file link to Shotgun. If not matching roots
are found, the method will retrieve the list of local storages from Shotgun
and try to locate a suitable storage. Failing that, it will fall back on a
register the path as a <code class="docutils literal notranslate"><span class="pre">file://</span></code> url. For more information on
this resolution logic, see our
<a class="reference external" href="https://help.autodesk.com/view/SGDEV/ENU/?guid=SGD_pg_integrations_admin_guides_integrations_admin_guide_html#configuring-published-file-path-resolution">Admin Guide</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Shotgun follows a convention where the name passed to the register publish method is used
to control how things are grouped together. When Shotgun and Toolkit groups things together,
things are typically grouped first by project/entity/task and then by publish name and version.</p>
<p>If you create three publishes in Shotgun, all having the name ‘foreground.ma’ and version numbers
1, 2 and 3, Shotgun will assume that these are three revisions of the same content and will
group them together in a group called ‘foreground.ma’.</p>
<p>We recommend a convention where the <code class="docutils literal notranslate"><span class="pre">name</span></code> parameter reflects the filename passed in via
the <code class="docutils literal notranslate"><span class="pre">file_path</span></code> parameter, but with the version number removed. For example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">file_path:</span> <span class="pre">/tmp/layout.v027.ma,</span> <span class="pre">name:</span> <span class="pre">layout.ma,</span> <span class="pre">version_number:</span> <span class="pre">27</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">file_path:</span> <span class="pre">/tmp/foreground_v002.%04d.exr,</span> <span class="pre">name:</span> <span class="pre">foreground.exr,</span> <span class="pre">version_number:</span> <span class="pre">2</span></code></p></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When publishing file sequences, the method will try to normalize your path based on the
current template configuration. For example, if you supply the path <code class="docutils literal notranslate"><span class="pre">render.$F4.dpx</span></code>,
it will translated to <code class="docutils literal notranslate"><span class="pre">render.%04d.dpx</span></code> automatically, assuming there is a matching
template defined. If you are not using templates or publishing files that do not match
any configured templates, always provide sequences on a <code class="docutils literal notranslate"><span class="pre">%0xd</span></code> or
<code class="docutils literal notranslate"><span class="pre">%xd</span></code> <a class="reference external" href="https://en.wikipedia.org/wiki/Printf_format_string">printf</a> style
pattern.</p>
</div>
<p><strong>Examples</strong></p>
<p>The example below shows a basic publish. In addition to the required parameters, it is
recommended to supply at least a comment and a Publish Type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file_path</span> <span class="o">=</span> <span class="s1">&#39;/studio/demo_project/sequences/Sequence-1/shot_010/Anm/publish/layout.v001.ma&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;layout.ma&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">version_number</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sgtk</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">register_publish</span><span class="p">(</span>
<span class="go">    tk,</span>
<span class="go">    context,</span>
<span class="go">    file_path,</span>
<span class="go">    name,</span>
<span class="go">    version_number,</span>
<span class="go">    comment = &#39;Initial layout composition.&#39;,</span>
<span class="go">    published_file_type = &#39;Maya Scene&#39;</span>
<span class="go">)</span>

<span class="go">{&#39;code&#39;: &#39;layout.v001.ma&#39;,</span>
<span class="go"> &#39;created_by&#39;: {&#39;id&#39;: 40, &#39;name&#39;: &#39;John Smith&#39;, &#39;type&#39;: &#39;HumanUser&#39;},</span>
<span class="go"> &#39;description&#39;: &#39;Initial layout composition.&#39;,</span>
<span class="go"> &#39;entity&#39;: {&#39;id&#39;: 2, &#39;name&#39;: &#39;shot_010&#39;, &#39;type&#39;: &#39;Shot&#39;},</span>
<span class="go"> &#39;id&#39;: 2,</span>
<span class="go"> &#39;published_file_type&#39;: {&#39;id&#39;: 134, &#39;type&#39;: &#39;PublishedFileType&#39;},</span>
<span class="go"> &#39;name&#39;: &#39;layout.ma&#39;,</span>
<span class="go"> &#39;path&#39;: {&#39;content_type&#39;: None,</span>
<span class="go">  &#39;link_type&#39;: &#39;local&#39;,</span>
<span class="go">  &#39;local_path&#39;: &#39;/studio/demo_project/sequences/Sequence-1/shot_010/Anm/publish/layout.v001.ma&#39;,</span>
<span class="go">  &#39;local_path_linux&#39;: &#39;/studio/demo_project/sequences/Sequence-1/shot_010/Anm/publish/layout.v001.ma&#39;,</span>
<span class="go">  &#39;local_path_mac&#39;: &#39;/studio/demo_project/sequences/Sequence-1/shot_010/Anm/publish/layout.v001.ma&#39;,</span>
<span class="go">  &#39;local_path_windows&#39;: &#39;c:\studio\demo_project\sequences\Sequence-1\shot_010\Anm\publish\layout.v001.ma&#39;,</span>
<span class="go">  &#39;local_storage&#39;: {&#39;id&#39;: 1, &#39;name&#39;: &#39;primary&#39;, &#39;type&#39;: &#39;LocalStorage&#39;},</span>
<span class="go">  &#39;name&#39;: &#39;layout.v001.ma&#39;,</span>
<span class="go">  &#39;url&#39;: &#39;file:///studio/demo_project/sequences/Sequence-1/shot_010/Anm/publish/layout.v001.ma&#39;},</span>
<span class="go"> &#39;path_cache&#39;: &#39;demo_project/sequences/Sequence-1/shot_010/Anm/publish/layout.v001.ma&#39;,</span>
<span class="go"> &#39;project&#39;: {&#39;id&#39;: 4, &#39;name&#39;: &#39;Demo Project&#39;, &#39;type&#39;: &#39;Project&#39;},</span>
<span class="go"> &#39;published_file_type&#39;: {&#39;id&#39;: 12, &#39;name&#39;: &#39;Layout Scene&#39;, &#39;type&#39;: &#39;PublishedFileType&#39;},</span>
<span class="go"> &#39;task&#39;: None,</span>
<span class="go"> &#39;type&#39;: &#39;PublishedFile&#39;,</span>
<span class="go"> &#39;version_number&#39;: 1}</span>
</pre></div>
</div>
<p>When using the <code class="docutils literal notranslate"><span class="pre">dry_run</span></code> option, the returned data will look something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file_path</span> <span class="o">=</span> <span class="s1">&#39;/studio/demo_project/sequences/Sequence-1/shot_010/Anm/publish/layout.v001.ma&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;layout&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">version_number</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sgtk</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">register_publish</span><span class="p">(</span>
<span class="go">    tk,</span>
<span class="go">    context,</span>
<span class="go">    file_path,</span>
<span class="go">    name,</span>
<span class="go">    version_number,</span>
<span class="go">    comment=&#39;Initial layout composition.&#39;,</span>
<span class="go">    published_file_type=&#39;Layout Scene&#39;</span>
<span class="go">    dry_run=True</span>
<span class="go">)</span>

<span class="go">{&#39;code&#39;: &#39;layout.v001.ma&#39;,</span>
<span class="go"> &#39;description&#39;: &#39;Initial layout composition.&#39;,</span>
<span class="go"> &#39;entity&#39;: {&#39;id&#39;: 2, &#39;name&#39;: &#39;shot_010&#39;, &#39;type&#39;: &#39;Shot&#39;},</span>
<span class="go"> &#39;path&#39;: {&#39;local_path&#39;: &#39;/studio/demo_project/sequences/Sequence-1/shot_010/Anm/publish/layout.v001.ma&#39;},</span>
<span class="go"> &#39;project&#39;: {&#39;id&#39;: 4, &#39;name&#39;: &#39;Demo Project&#39;, &#39;type&#39;: &#39;Project&#39;},</span>
<span class="go"> &#39;task&#39;: None,</span>
<span class="go"> &#39;type&#39;: &#39;PublishedFile&#39;,</span>
<span class="go"> &#39;version_number&#39;: 1}</span>
</pre></div>
</div>
<p>Be aware that the data may be different if the <code class="docutils literal notranslate"><span class="pre">before_register_publish</span></code>
hook has been overridden.</p>
<p><strong>Parameters</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tk</strong> – <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sgtk</span></code></a> instance</p></li>
<li><p><strong>context</strong> – A <a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a> to associate with the publish. This will
populate the <code class="docutils literal notranslate"><span class="pre">task</span></code> and <code class="docutils literal notranslate"><span class="pre">entity</span></code> link in Shotgun.</p></li>
<li><p><strong>path</strong> – The path to the file or sequence we want to publish. If the
path is a sequence path it will be abstracted so that
any sequence keys are replaced with their default values.</p></li>
<li><p><strong>name</strong> – A name, without version number, which helps distinguish
this publish from other publishes. This is typically
used for grouping inside of Shotgun so that all the
versions of the same “file” can be grouped into a cluster.
For example, for a Maya publish, where we track only
the scene name, the name would simply be that: the scene
name. For something like a render, it could be the scene
name, the name of the AOV and the name of the render layer.</p></li>
<li><p><strong>version_number</strong> – The version number of the item we are publishing.</p></li>
</ul>
</dd>
</dl>
<p>In addition to the above, the following optional arguments exist:</p>
<blockquote>
<div><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">task</span></code> - A shotgun entity dictionary with keys <code class="docutils literal notranslate"><span class="pre">id</span></code> and <code class="docutils literal notranslate"><span class="pre">type</span></code> (where type should always be <code class="docutils literal notranslate"><span class="pre">Task</span></code>).
This value will be used to populate the task field for the created Shotgun publish record.
If no value is specified, the task will be determined based on the context parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">comment</span></code> - A string containing a description of what is being published.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">thumbnail_path</span></code> - A path to a thumbnail (png or jpeg) which will be uploaded to shotgun
and associated with the publish.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dependency_paths</span></code> - A list of file system paths that should be attempted to be registered
as dependencies. Files in this listing that do not appear as publishes in shotgun will be ignored.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dependency_ids</span></code> - A list of publish ids which should be registered as dependencies.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">published_file_type</span></code> - A publish type in the form of a string. If the publish type does not
already exist in Shotgun, it will be created.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">update_entity_thumbnail</span></code> - Push thumbnail up to the associated entity</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">update_task_thumbnail</span></code> - Push thumbnail up to the associated task</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">created_by</span></code> - Override for the user that will be marked as creating the publish.  This should
be in the form of shotgun entity, e.g. {“type”:”HumanUser”, “id”:7}. If not set, the user will
be determined using <a class="reference internal" href="#sgtk.util.get_current_user" title="sgtk.util.get_current_user"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk.util.get_current_user()</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">created_at</span></code> - Override for the date the publish is created at.  This should be a python
datetime object</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">version_entity</span></code> - The Shotgun review version that the publish should be linked to. This
should be a dictionary of keys <code class="docutils literal notranslate"><span class="pre">id</span></code> and <code class="docutils literal notranslate"><span class="pre">type</span></code> (where type should always be <code class="docutils literal notranslate"><span class="pre">Version</span></code>).
This parameter is useful for workflows where a Shotgun Version has already been created for review
purposes and you want to associate the publish created by this method.</p>
<p>Note: For workflows where you have an existing review version and want to create a series of associated
publishes, you may want to extract a <a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a> from the Version entity and pass that
to the <a class="reference internal" href="#sgtk.util.register_publish" title="sgtk.util.register_publish"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_publish()</span></code></a> method in order to ensure consistency in how objects are associated
in Shotgun.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">sg_fields</span></code> - Some additional Shotgun fields as a dict (e.g. <code class="docutils literal notranslate"><span class="pre">{'sg_custom_field':</span> <span class="pre">'hello'}</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dry_run</span></code> - Boolean. If set, do not actually create a database entry. Return the
dictionary of data that would be supplied to Shotgun to create the PublishedFile entity.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sgtk.util.ShotgunPublishError" title="sgtk.util.ShotgunPublishError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunPublishError</span></code></a> on failure.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The created entity dictionary.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.resolve_publish_path">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">resolve_publish_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sg_publish_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun/publish_resolve.html#resolve_publish_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.resolve_publish_path" title="Permalink to this definition"></a></dt>
<dd><p>Returns a local path on disk given a dictionary of Shotgun publish data.</p>
<p>This acts as the inverse of <a class="reference internal" href="#sgtk.util.register_publish" title="sgtk.util.register_publish"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_publish()</span></code></a> and
resolves a local path on disk given some Shotgun publish data,
typically obtained by a Shotgun API <code class="docutils literal notranslate"><span class="pre">find()</span></code> call.</p>
<p>Complex logic is applied in order to turn a publish into a
valid local path. Several exception types are raised to indicate
the reason why a path could not be resolved, allowing for workflows
where the logic can be overridden.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is also called by <a class="reference internal" href="core.html#sgtk.Hook.get_publish_path" title="sgtk.Hook.get_publish_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk.Hook.get_publish_path()</span></code></a>
which is a common method Toolkit apps use to resolve publishes
into paths.</p>
</div>
<p><strong>Published File Path Resolution</strong></p>
<p>For more information on the published file path resolution, see our <a class="reference external" href="https://help.autodesk.com/view/SGDEV/ENU/?guid=SGD_pg_integrations_admin_guides_integrations_admin_guide_html#configuring-published-file-path-resolution">Admin Guide</a>.</p>
<p><strong>Parameters</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tk</strong> – <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sgtk</span></code></a> instance</p></li>
<li><p><strong>sg_publish_data</strong> – Dictionary containing Shotgun publish data.
Needs to at least contain a code, type, id and a path key.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A local path to file or file sequence.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sgtk.util.PublishPathNotDefinedError" title="sgtk.util.PublishPathNotDefinedError"><code class="xref py py-class docutils literal notranslate"><span class="pre">PublishPathNotDefinedError</span></code></a> if the path isn’t defined.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sgtk.util.PublishPathNotSupported" title="sgtk.util.PublishPathNotSupported"><code class="xref py py-class docutils literal notranslate"><span class="pre">PublishPathNotSupported</span></code></a> if the path cannot be resolved.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.find_publish">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">find_publish</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_of_paths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span> <span class="pre">ilters=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun/publish_util.html#find_publish"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.find_publish" title="Permalink to this definition"></a></dt>
<dd><p>Finds publishes in Shotgun given paths on disk.
This method is similar to the find method in the Shotgun API,
except that instead of an Entity type, a list of files is
passed into the function.</p>
<p>In addition to a list of files, shotgun filters can also be specified.
This may be useful if for example all publishes with a certain status
should be retrieved.</p>
<p>By default, the shotgun id is returned for each successfully identified path.
If you want to retrieve additional fields, you can specify these using
the fields parameter.</p>
<p>By default, only publishes in the current project will be found. If you
want to retreive publishes from any active project in the pipeline config,
you can specify the only_current_project param to False.</p>
<p>The method will return a dictionary, keyed by path. The value will be
a standard shotgun query result dictionary, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;/foo/bar&quot;</span> <span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">234</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;TankPublishedFile&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;some data&quot;</span> <span class="p">},</span>
    <span class="s2">&quot;/foo/baz&quot;</span> <span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>  <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;TankPublishedFile&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;some more data&quot;</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Fields that are not found, or filtered out by the filters parameter,
are not returned in the dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tk</strong> – <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sgtk</span></code></a> instance</p></li>
<li><p><strong>list_of_paths</strong> – List of full paths for which information should be retrieved</p></li>
<li><p><strong>filters</strong> – Optional list of shotgun filters to apply.</p></li>
<li><p><strong>fields</strong> – Optional list of fields from the matched entities to
return. Defaults to id and type.</p></li>
<li><p><strong>only_current_project</strong> – Optional boolean to find publishes in Shotgun only from the
current project (True) or from any active project (False).
Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>dictionary keyed by path</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.create_event_log_entry">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">create_event_log_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun/publish_util.html#create_event_log_entry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.create_event_log_entry" title="Permalink to this definition"></a></dt>
<dd><p>Creates an event log entry inside of Shotgun.
Event log entries can be handy if you want to track a process or a sequence of events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tk</strong> – <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sgtk</span></code></a> instance</p></li>
<li><p><strong>context</strong> – A <a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a> to associate with the event log entry.</p></li>
<li><p><strong>event_type</strong> – <p>String which defines the event type. The Shotgun standard suggests
that this should be of the form Company_Item_Action. Examples include:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Shotgun_Asset_New</span>
<span class="n">Shotgun_Asset_Change</span>
<span class="n">Shotgun_User_Login</span>
</pre></div>
</div>
</p></li>
<li><p><strong>description</strong> – A verbose description explaining the meaning of this event.</p></li>
<li><p><strong>metadata</strong> – A dictionary of metadata information which will be attached to the event
log record in Shotgun. This dictionary may only contain simple data types
such as ints, strings etc.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The newly created shotgun record</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.get_entity_type_display_name">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">get_entity_type_display_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_type_code</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun/publish_util.html#get_entity_type_display_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.get_entity_type_display_name" title="Permalink to this definition"></a></dt>
<dd><p>Returns the display name for an entity type given its type name.
For example, if a custom entity is named “Workspace” in the
Shotgun preferences, but is addressed as “CustomEntity03” in the
Shotgun API, this method will resolve the display name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_entity_type_display_name</span><span class="p">(</span><span class="n">tk</span><span class="p">,</span> <span class="s2">&quot;CustomEntity03&quot;</span><span class="p">)</span>
<span class="go">&#39;Workspace&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The recommended way to access this data is now via the
globals module in the shotgunutils framework. For more information,
see <a class="reference external" href="http://developer.shotgridsoftware.com/tk-framework-shotgunutils/shotgun_globals.html">http://developer.shotgridsoftware.com/tk-framework-shotgunutils/shotgun_globals.html</a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tk</strong> – <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sgtk</span></code></a> instance</p></li>
<li><p><strong>entity_type_code</strong> – API entity type name</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>display name</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.get_published_file_entity_type">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">get_published_file_entity_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tk</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun/publish_util.html#get_published_file_entity_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.get_published_file_entity_type" title="Permalink to this definition"></a></dt>
<dd><p>Return the entity type that this toolkit uses for its Publishes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is for backwards compatibility situations only.
Code targeting new installations can assume that
the published file type in Shotgun is always <code class="docutils literal notranslate"><span class="pre">PublishedFile</span></code>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tk</strong> – <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sgtk</span></code></a> instance</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>“PublishedFile” or “TankPublishedFile”</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.get_sg_entity_name_field">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">get_sg_entity_name_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun_entity.html#get_sg_entity_name_field"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.get_sg_entity_name_field" title="Permalink to this definition"></a></dt>
<dd><p>Return the Shotgun name field to use for the specified entity type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>entity_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The entity type to get the name field for.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The name field for the specified entity type.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="file-download-related">
<h2>File Download Related<a class="headerlink" href="#file-download-related" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.download_url">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">download_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun/download.html#download_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.download_url" title="Permalink to this definition"></a></dt>
<dd><p>Convenience method that downloads a file from a given url.
This method will take into account any proxy settings which have
been defined in the Shotgun connection parameters.</p>
<p>In some cases, the target content of the url is not known beforehand.
For example, the url <code class="docutils literal notranslate"><span class="pre">https://my-site.shotgunstudio.com/thumbnail/full/Asset/1227</span></code>
may redirect into <code class="docutils literal notranslate"><span class="pre">https://some-site/path/to/a/thumbnail.png</span></code>. In
such cases, you can set the optional use_url_extension parameter to True - this
will cause the method to append the file extension of the resolved url to
the filename passed in via the location parameter. So for the urls given
above, you would get the following results:</p>
<ul class="simple">
<li><p>location=”/path/to/file” and use_url_extension=False would return “/path/to/file”</p></li>
<li><p>location=”/path/to/file” and use_url_extension=True would return “/path/to/file.png”</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sg</strong> – Shotgun API instance to get proxy connection settings from</p></li>
<li><p><strong>url</strong> – url to download</p></li>
<li><p><strong>location</strong> – path on disk where the payload should be written.
this path needs to exists and the current user needs
to have write permissions</p></li>
<li><p><strong>use_url_extension</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Optionally append the file extension of the
resolved URL’s path to the input <code class="docutils literal notranslate"><span class="pre">location</span></code>
to construct the full path name to the downloaded
contents. The newly constructed full path name
will be returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Full filepath to the downloaded file. This may have been altered from
the input <code class="docutils literal notranslate"><span class="pre">location</span></code> if <code class="docutils literal notranslate"><span class="pre">use_url_extension</span></code> is True and a file extension
could be determined from the resolved url.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">TankError</span></code> on failure.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.shotgun.download_and_unpack_attachment">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.shotgun.</span></span><span class="sig-name descname"><span class="pre">download_and_unpack_attachment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attachment_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_detect_bundle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun/download.html#download_and_unpack_attachment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.shotgun.download_and_unpack_attachment" title="Permalink to this definition"></a></dt>
<dd><p>Downloads the given attachment from Shotgun, assumes it is a zip file
and attempts to unpack it into the given location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sg</strong> – Shotgun API instance</p></li>
<li><p><strong>attachment_id</strong> – Attachment to download</p></li>
<li><p><strong>target</strong> – Folder to unpack zip to. if not created, the method will
try to create it.</p></li>
<li><p><strong>retries</strong> – Number of times to retry before giving up</p></li>
<li><p><strong>auto_detect_bundle</strong> – Hints that the attachment contains a toolkit bundle
(config, app, engine, framework) and that this should be attempted to be
detected and unpacked intelligently. For example, if the zip file contains
the bundle in a subfolder, this should be correctly unfolded.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p>ShotgunAttachmentDownloadError on failure</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.shotgun.download_and_unpack_url">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.shotgun.</span></span><span class="sig-name descname"><span class="pre">download_and_unpack_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_detect_bundle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/shotgun/download.html#download_and_unpack_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.shotgun.download_and_unpack_url" title="Permalink to this definition"></a></dt>
<dd><p>Downloads the content from the provided url, assumes it is a zip file
and attempts to unpack it into the given location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sg</strong> – Shotgun API instance</p></li>
<li><p><strong>url</strong> – The url to download from</p></li>
<li><p><strong>target</strong> – Folder to unpack zip to. if not created, the method will
try to create it.</p></li>
<li><p><strong>retries</strong> – Number of times to retry before giving up</p></li>
<li><p><strong>auto_detect_bundle</strong> – Hints that the attachment contains a toolkit bundle
(config, app, engine, framework) and that this should be attempted to be
detected and unpacked intelligently. For example, if the zip file contains
the bundle in a subfolder, this should be correctly unfolded.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p>ShotgunAttachmentDownloadError on failure</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="version-comparison-related">
<h2>Version Comparison Related<a class="headerlink" href="#version-comparison-related" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.is_version_older">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">is_version_older</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/version.html#is_version_older"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.is_version_older" title="Permalink to this definition"></a></dt>
<dd><p>Is the version string <code class="docutils literal notranslate"><span class="pre">a</span></code> older than <code class="docutils literal notranslate"><span class="pre">b</span></code>?</p>
<p>If one of the version is <cite>master</cite>, <cite>head</cite>, or formatted like a git commit sha,
it is considered more recent than the other version.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="core.html#sgtk.TankError" title="sgtk.TankError"><strong>TankError</strong></a> – Raised if the two versions are different git commit shas, as
they can’t be compared.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">a</span></code> is older than <code class="docutils literal notranslate"><span class="pre">b</span></code> but not equal, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.is_version_older_or_equal">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">is_version_older_or_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/version.html#is_version_older_or_equal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.is_version_older_or_equal" title="Permalink to this definition"></a></dt>
<dd><p>Is the version string <code class="docutils literal notranslate"><span class="pre">a</span></code> older than or equal to <code class="docutils literal notranslate"><span class="pre">b</span></code>?</p>
<p>If one of the version is <cite>master</cite>, <cite>head</cite>, or formatted like a git commit sha,
it is considered more recent than the other version.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="core.html#sgtk.TankError" title="sgtk.TankError"><strong>TankError</strong></a> – Raised if the two versions are different git commit shas, as
they can’t be compared.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">a</span></code> is older than or equal to <code class="docutils literal notranslate"><span class="pre">b</span></code>, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.is_version_newer">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">is_version_newer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/version.html#is_version_newer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.is_version_newer" title="Permalink to this definition"></a></dt>
<dd><p>Is the version string <code class="docutils literal notranslate"><span class="pre">a</span></code> newer than <code class="docutils literal notranslate"><span class="pre">b</span></code>?</p>
<p>If one of the version is <cite>master</cite>, <cite>head</cite>, or formatted like a git commit sha,
it is considered more recent than the other version.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="core.html#sgtk.TankError" title="sgtk.TankError"><strong>TankError</strong></a> – Raised if the two versions are different git commit shas, as
they can’t be compared.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">a</span></code> is newer than <code class="docutils literal notranslate"><span class="pre">b</span></code> but not equal, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.is_version_newer_or_equal">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">is_version_newer_or_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/version.html#is_version_newer_or_equal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.is_version_newer_or_equal" title="Permalink to this definition"></a></dt>
<dd><p>Is the version string <code class="docutils literal notranslate"><span class="pre">a</span></code> newer than or equal to <code class="docutils literal notranslate"><span class="pre">b</span></code>?</p>
<p>If one of the version is <cite>master</cite>, <cite>head</cite>, or formatted like a git commit sha,
it is considered more recent than the other version.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="core.html#sgtk.TankError" title="sgtk.TankError"><strong>TankError</strong></a> – Raised if the two versions are different git commit shas, as
they can’t be compared.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">a</span></code> is newer than or equal to <code class="docutils literal notranslate"><span class="pre">b</span></code>, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="miscellaneous">
<h2>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.append_path_to_env_var">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">append_path_to_env_var</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env_var_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/environment.html#append_path_to_env_var"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.append_path_to_env_var" title="Permalink to this definition"></a></dt>
<dd><p>Append the path to the given environment variable.
Creates the env var if it doesn’t exist already.
will concatenate paths using : on linux and ; on windows</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.prepend_path_to_env_var">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">prepend_path_to_env_var</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">env_var_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/environment.html#prepend_path_to_env_var"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.prepend_path_to_env_var" title="Permalink to this definition"></a></dt>
<dd><p>Prepend the path to the given environment variable.
Creates the env var if it doesn’t exist already.
will concatenate paths using : on linux and ; on windows</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.util.get_current_user">
<span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">get_current_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tk</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/login.html#get_current_user"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.get_current_user" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves the current user as a dictionary of metadata values. Note: This method connects to
shotgun the first time around. The result is then cached to reduce latency.</p>
<p>If a user has been authenticated via a login prompt, this method will return the credentials
associated with that user. If Toolkit has been configured to use a script user to connect to
Shotgun, a core hook will be executed to established which user is associated with the current
session. This is usually based on the currently logged in user.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None if the user is not found in Shotgun. Otherwise, it returns a dictionary
with the following fields: id, type, email, login, name, image, firstname, lastname</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="exceptions">
<h2>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.util.EnvironmentVariableFileLookupError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">EnvironmentVariableFileLookupError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/errors.html#EnvironmentVariableFileLookupError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.EnvironmentVariableFileLookupError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#sgtk.TankError" title="tank.errors.TankError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankError</span></code></a></p>
<p>Raised when an environment variable specifying a location points to configuration
file that doesn’t exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>var_name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name of the environment variable used.</p></li>
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Path to the configuration file that doesn’t exist.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.EnvironmentVariableFileLookupError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.util.EnvironmentVariableFileLookupError.with_traceback" title="Permalink to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sgtk.util.ShotgunPublishError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">ShotgunPublishError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">error_message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/util/errors.html#ShotgunPublishError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.ShotgunPublishError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#sgtk.TankError" title="tank.errors.TankError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankError</span></code></a></p>
<p>Raised when Toolkit is not able to register a published file in Shotgun.</p>
<p>The original message for the reported error is available in the ‘error_message’ property.</p>
<p>If a published file entity was created before the error happened, it will be
available in the ‘entity’ property.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>error_message</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – An error message, typically coming from a caught exception.</p></li>
<li><p><strong>entity</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – The Shotgun entity which was created, if any.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.ShotgunPublishError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.util.ShotgunPublishError.with_traceback" title="Permalink to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sgtk.util.PublishResolveError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">PublishResolveError</span></span><a class="reference internal" href="_modules/tank/util/errors.html#PublishResolveError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.PublishResolveError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#sgtk.TankError" title="tank.errors.TankError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankError</span></code></a></p>
<p>Base class for all errors relating to resolution of paths from publishes.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.PublishResolveError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.util.PublishResolveError.with_traceback" title="Permalink to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sgtk.util.PublishPathNotDefinedError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">PublishPathNotDefinedError</span></span><a class="reference internal" href="_modules/tank/util/errors.html#PublishPathNotDefinedError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.PublishPathNotDefinedError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sgtk.util.PublishResolveError" title="tank.util.errors.PublishResolveError"><code class="xref py py-class docutils literal notranslate"><span class="pre">PublishResolveError</span></code></a></p>
<p>Exception raised when a publish does not have a path
defined for the current operating system platform. It
may or may not have publish paths defined on other
platforms.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.PublishPathNotDefinedError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.util.PublishPathNotDefinedError.with_traceback" title="Permalink to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sgtk.util.PublishPathNotSupported">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.util.</span></span><span class="sig-name descname"><span class="pre">PublishPathNotSupported</span></span><a class="reference internal" href="_modules/tank/util/errors.html#PublishPathNotSupported"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.util.PublishPathNotSupported" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sgtk.util.PublishResolveError" title="tank.util.errors.PublishResolveError"><code class="xref py py-class docutils literal notranslate"><span class="pre">PublishResolveError</span></code></a></p>
<p>Exception raised when a publish has a path defined but it is using a path
definition that cannot be resolved into a local path. This includes for
example unsupported url schemes.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.util.PublishPathNotSupported.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.util.PublishPathNotSupported.with_traceback" title="Permalink to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="platform.html" class="btn btn-neutral float-left" title="Apps, Engines and Frameworks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="descriptor.html" class="btn btn-neutral float-right" title="Descriptors" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Autodesk.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 

  <script type="text/javascript">
    window.wafCCPAForceShow = true;
    (function(a,b,c,d){
      a='https://tags.tiqcdn.com/utag/autodesk/micro-basic/prod/utag.js';
      b=document;c='script';d=b.createElement(c);d.src=a;d.type='text/java'+c;d.async=true;
      a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);
    })();
  </script>


</body>
</html>
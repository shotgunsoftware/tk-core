

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Authentication &mdash; tk-core v0.23.3 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Environment Variables" href="environment_variables.html" />
    <link rel="prev" title="Descriptors" href="descriptor.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
    <a href='https://help.autodesk.com/view/SGDEV/ENU/'>
    
        <img style='width: 191px;
                height: 60px;
                margin: 2px;
                border-radius: 0px;
                padding: 0px;'
            src='_static/logo@2x.png'/>
    
    </a>
    

          
          
          <a href="index.html" class="icon icon-home">
            tk-core
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="initializing.html">Initialization and startup</a></li>
<li class="toctree-l1"><a class="reference internal" href="core.html">Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="platform.html">Apps, Engines and Frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="descriptor.html">Descriptors</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Authentication</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api-reference">API Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#shotgunauthenticator">ShotgunAuthenticator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.authentication.ShotgunAuthenticator"><code class="docutils literal notranslate"><span class="pre">ShotgunAuthenticator</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#shotgunuser">ShotgunUser</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.authentication.ShotgunUser"><code class="docutils literal notranslate"><span class="pre">ShotgunUser</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#defaultsmanager">DefaultsManager</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.authentication.DefaultsManager"><code class="docutils literal notranslate"><span class="pre">DefaultsManager</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#utilities">Utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.authentication.deserialize_user"><code class="docutils literal notranslate"><span class="pre">deserialize_user()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.authentication.serialize_user"><code class="docutils literal notranslate"><span class="pre">serialize_user()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#exception-classes">Exception Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.authentication.ShotgunAuthenticationError"><code class="docutils literal notranslate"><span class="pre">ShotgunAuthenticationError</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.authentication.AuthenticationError"><code class="docutils literal notranslate"><span class="pre">AuthenticationError</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.authentication.IncompleteCredentials"><code class="docutils literal notranslate"><span class="pre">IncompleteCredentials</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.authentication.AuthenticationCancelled"><code class="docutils literal notranslate"><span class="pre">AuthenticationCancelled</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.authentication.ConsoleLoginNotSupportedError"><code class="docutils literal notranslate"><span class="pre">ConsoleLoginNotSupportedError</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.authentication.UnresolvableHumanUser"><code class="docutils literal notranslate"><span class="pre">UnresolvableHumanUser</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.authentication.UnresolvableScriptUser"><code class="docutils literal notranslate"><span class="pre">UnresolvableScriptUser</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="environment_variables.html">Environment Variables</a></li>
</ul>


    <a href='genindex.html'>Alphabetic Index</a>

    <div style='margin-top: 50px;
                margin-left: 10px;
                margin-right: 10px;
                padding: 10px;
                color: #b3b3b3;
                font-size: 70%;
                border-radius: 3px;
                background-color: #444;
                line-height: 18px;
                '>
    <style>
        a.custom_post_menu { display: inline;
                             padding: 0px;
                             text-decoration: underline; }
    </style>

    <b>tk-core</b> v0.23.3.<br>
    
        This documentation is part of the Flow Production Tracking.
    
    For more information, please visit
    <a class=custom_post_menu href='https://help.autodesk.com/view/SGDEV/ENU/'>The Flow Production Tracking developer portal.</a>.
    The code associated with this documentation can be found
    <a class=custom_post_menu href='https://github.com/shotgunsoftware/tk-core'>here</a>.

    </div>
    <style>
        p.privacy_links { margin: 4px 0px;}
    </style>
    <p class="privacy_links"><a data-opt-in-preferences href="javascript:;">Privacy settings</a></p>
    <p class="privacy_links"><a data-wat-linkname="manage-ccpa-settings-footer-link" href="javascript:;">Do not sell my personal information</a></p>
    <p class="privacy_links"><a href="https://www.autodesk.com/company/legal-notices-trademarks/privacy-statement">Privacy/Cookies</a></p>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">tk-core</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Authentication</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="authentication">
<span id="id1"></span><h1>Authentication<a class="headerlink" href="#authentication" title="Permalink to this heading"></a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading"></a></h2>
<p>When you run the Flow Production Tracking, it will connect to Flow Production Tracking on a regular basis in order to carry out
certain operations. For example, you publish a new render or you browse for an item that you want to load into
your scene. In order to do that, Toolkit will need to log in to Flow Production Tracking, either to read or write data, which means that it will
need to make sure the current user is authenticated so that a connection with the Flow Production Tracking server can be established.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Toolkit authentication API does not require an installed or
bootstrapped instance of the Toolkit Core platform. You can use it
simply by importing <code class="docutils literal notranslate"><span class="pre">sgtk</span></code> and calling its methods.</p>
</div>
<p>Toolkit uses session tokens for authentication. These are unique identifiers which are generated by the Flow Production Tracking server.
Whenever a Flow Production Tracking API request comes in from Toolkit, this session token is passed along so that the server can
validate it and grant access to the request. These session tokens time out after a certain period of inactivity,
usually 24 hours, and whenever this happens, the user is typically prompted to enter their password again in order
for Toolkit to retrieve a new session token.</p>
<p>This <code class="docutils literal notranslate"><span class="pre">sgtk.authentication</span></code> API handles the notion of the current user and wraps around the Flow Production Tracking API to ensure that
if a session times out, the user is prompted to re-enter their credentials. The API and process for
authentication can be summarized as follows:</p>
<ul class="simple">
<li><p>A <a class="reference internal" href="#sgtk.authentication.ShotgunAuthenticator" title="sgtk.authentication.ShotgunAuthenticator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunAuthenticator</span></code></a> class is used to handle the actual authentication process. This can be called
in various ways and also wraps around storing authenticated sessions so that the user doesn’t have to keep
typing their password in.</p></li>
<li><p>After a successful authentication operation, the <a class="reference internal" href="#sgtk.authentication.ShotgunAuthenticator" title="sgtk.authentication.ShotgunAuthenticator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunAuthenticator</span></code></a> returns a <a class="reference internal" href="#sgtk.authentication.ShotgunUser" title="sgtk.authentication.ShotgunUser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunUser</span></code></a> object.
This object represents the user and can be used to generate a Flow Production Tracking API instance which belongs to the user. The
generated API instance is subclassed from the normal Flow Production Tracking API and gracefully traps when the user credentials are
no longer valid (which usually happens after a certain period of inactivity). In this case it will automatically
present the user with a password prompt.</p></li>
<li><p><a class="reference internal" href="#sgtk.authentication.ShotgunUser" title="sgtk.authentication.ShotgunUser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunUser</span></code></a> objects can be serialized via the <a class="reference internal" href="#sgtk.authentication.serialize_user" title="sgtk.authentication.serialize_user"><code class="xref py py-meth docutils literal notranslate"><span class="pre">serialize_user()</span></code></a> and <a class="reference internal" href="#sgtk.authentication.deserialize_user" title="sgtk.authentication.deserialize_user"><code class="xref py py-meth docutils literal notranslate"><span class="pre">deserialize_user()</span></code></a> methods
and can be passed between multiple sessions, say for example when a DCC is launched or when a job
is sent to the render farm.</p></li>
<li><p>Toolkit core does not have a built-in notion of the current user so this needs to be explicitly set via the
<a class="reference internal" href="core.html#sgtk.set_authenticated_user" title="sgtk.set_authenticated_user"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk.set_authenticated_user()</span></code></a> method. If you are using the Bootstrap process to start up Toolkit, you
pass a <a class="reference internal" href="#sgtk.authentication.ShotgunUser" title="sgtk.authentication.ShotgunUser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunUser</span></code></a> directly to the <a class="reference internal" href="initializing.html#sgtk.bootstrap.ToolkitManager" title="sgtk.bootstrap.ToolkitManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">ToolkitManager</span></code></a> constructor.</p></li>
<li><p>If you want to control how the <a class="reference internal" href="#sgtk.authentication.ShotgunAuthenticator" title="sgtk.authentication.ShotgunAuthenticator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunAuthenticator</span></code></a> creates a user object and caches session data
inbetween invocations, you can subclass the <a class="reference internal" href="#sgtk.authentication.DefaultsManager" title="sgtk.authentication.DefaultsManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">DefaultsManager</span></code></a>.</p></li>
</ul>
<p>Normally, the tk session is created automatically as part of the DCC launch process, <code class="docutils literal notranslate"><span class="pre">tank</span></code> command or Flow Production Tracking
Desktop, so there is little to worry about. There are some use cases where controlling the authentication directly
may be useful:</p>
<ul>
<li><p>If you are dispatching jobs to the render farm, you can serialize and deserialize the user object from the
dispatching DCC. Use the <a class="reference internal" href="core.html#sgtk.get_authenticated_user" title="sgtk.get_authenticated_user"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk.get_authenticated_user()</span></code></a> to extract the user object from your current
session and <a class="reference internal" href="core.html#sgtk.set_authenticated_user" title="sgtk.set_authenticated_user"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk.set_authenticated_user()</span></code></a> to set it on your remote session.</p></li>
<li><p>If you want to use an explicit script user, use <a class="reference internal" href="#sgtk.authentication.ShotgunAuthenticator.create_script_user" title="sgtk.authentication.ShotgunAuthenticator.create_script_user"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ShotgunAuthenticator.create_script_user()</span></code></a> to create
a <a class="reference internal" href="#sgtk.authentication.ShotgunUser" title="sgtk.authentication.ShotgunUser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunUser</span></code></a> object representing a script. This may look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>

<span class="c1"># create an authenticator object. This is the main object which</span>
<span class="c1"># handles all authentication</span>
<span class="n">sa</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">authentication</span><span class="o">.</span><span class="n">ShotgunAuthenticator</span><span class="p">()</span>

<span class="c1"># Use the authenticator to create a user object. This object</span>
<span class="c1"># identifies a Flow Production Tracking user or script and also wraps around</span>
<span class="c1"># a Flow Production Tracking API instance which is associated with that user.</span>
<span class="n">user</span> <span class="o">=</span> <span class="n">sa</span><span class="o">.</span><span class="n">create_script_user</span><span class="p">(</span><span class="n">api_script</span><span class="o">=</span><span class="s2">&quot;myscript&quot;</span><span class="p">,</span>
                             <span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;xxxxx&quot;</span><span class="p">,</span>
                             <span class="n">host</span><span class="o">=</span><span class="s2">&quot;https://myhost.shotgrid.autodesk.com&quot;</span><span class="p">)</span>

<span class="c1"># tell the Toolkit Core API which user to use</span>
<span class="n">sgtk</span><span class="o">.</span><span class="n">set_authenticated_user</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>If you want to use a standard UI to prompt a user for a host, username and password.</p></li>
</ul>
</section>
<section id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this heading"></a></h2>
<section id="shotgunauthenticator">
<h3>ShotgunAuthenticator<a class="headerlink" href="#shotgunauthenticator" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.authentication.ShotgunAuthenticator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.authentication.</span></span><span class="sig-name descname"><span class="pre">ShotgunAuthenticator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">defaults_manager</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/shotgun_authenticator.html#ShotgunAuthenticator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.ShotgunAuthenticator" title="Permalink to this definition"></a></dt>
<dd><p>The ShotgunAuthenticator is the central object in the Shotgun authentication
module. It helps you with authentication and login and makes it easy to
create and maintain a shotgun connection so that it belongs to a given user.
It also helps store who the current user is, so that users don’t have to log
in over and over again, but only when needed.</p>
<p>A simple use case scenario would look something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># create an authenticator</span>
<span class="n">sa</span> <span class="o">=</span> <span class="n">ShotgunAuthenticator</span><span class="p">()</span>

<span class="c1"># Get a user object. If the authenticator system has already</span>
<span class="c1"># stored a default user belonging to a default shotgun site,</span>
<span class="c1"># it will simply return this. Otherwise, it will pop up a UI</span>
<span class="c1"># asking the user to log in.</span>
<span class="n">user</span> <span class="o">=</span> <span class="n">sa</span><span class="o">.</span><span class="n">get_user</span><span class="p">()</span>

<span class="c1"># now the user object can be used to generate an authenticated</span>
<span class="c1"># Shotgun connection.</span>
<span class="n">sg</span> <span class="o">=</span>  <span class="n">user</span><span class="o">.</span><span class="n">create_sg_connection</span><span class="p">()</span>

<span class="c1"># This connection will automatically monitor itself and in the</span>
<span class="c1"># case the user credentials (session token) that the user object</span>
<span class="c1"># encapsulates expires or become invalid, the shotgun connection</span>
<span class="c1"># instance will automatically pop up a UI, asking the user</span>
<span class="c1"># to type in their password. This typically happens after</span>
<span class="c1"># 24 hours of inactivity.</span>
</pre></div>
</div>
<p>In addition to the simple code sample, there are a few more concepts:</p>
<ul class="simple">
<li><p>User objects are serializable, meaning that you can pass one from
one process to another, allowing you to maintain an experience where
a user is authenticated across multiple applications. This is useful
if you for example want to launch RV from Maya or Maya from the
PTR desktop app.</p></li>
<li><p>The authenticator maintains the concept of a default user - which
can be used in order to present good defaults in UIs as well as
headless script based authentication flows.</p></li>
<li><p>The API provides methods for authentication where client code
can request that the user is prompted to log in.</p></li>
<li><p>On the backend, a defaults manager can be specified which implements
the logic for how various settings are to be stored. This makes
it possible to easily customize the behavior of the authenticator
to work in different scenarios.</p></li>
</ul>
<p>For more information, please see the individual methods below.</p>
<p>Constructor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>defaults_manager</strong> – A DefaultsManager object that defines the basic
behavior of this authenticator. If omitted,
the default, built-in DefaultsManager will be
used.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.authentication.ShotgunAuthenticator.clear_default_user">
<span class="sig-name descname"><span class="pre">clear_default_user</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/shotgun_authenticator.html#ShotgunAuthenticator.clear_default_user"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.ShotgunAuthenticator.clear_default_user" title="Permalink to this definition"></a></dt>
<dd><p>Removes the default user’s credentials from disk for the default host. The
next time the ShotgunAuthenticator.get_default_user() method is called,
None will be returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>If a user was cleared, the user object is returned, None otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.authentication.ShotgunAuthenticator.get_user_from_prompt">
<span class="sig-name descname"><span class="pre">get_user_from_prompt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">login</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">http_proxy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_host_fixed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/shotgun_authenticator.html#ShotgunAuthenticator.get_user_from_prompt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.ShotgunAuthenticator.get_user_from_prompt" title="Permalink to this definition"></a></dt>
<dd><p>Display a UI prompt (QT based UI if possible but may fall back on console)</p>
<p>The DefaultsManager is called to pre-fill the host, login name, http_proxy and is_host_fixed if not provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> – Shotgun host to log in to. If None, the default host will be used.</p></li>
<li><p><strong>login</strong> – Shotgun user login. If None, the default login will be used.</p></li>
<li><p><strong>http_proxy</strong> – Shotgun proxy to use. If None, the default http proxy will be used.</p></li>
<li><p><strong>is_host_fixed</strong> – Weither the host is fixed or not. If None, the default value will be used.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sgtk.authentication.AuthenticationCancelled" title="sgtk.authentication.AuthenticationCancelled"><strong>AuthenticationCancelled</strong></a> – If the user cancels the authentication process,
an AuthenticationCancelled is thrown.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The SessionUser based on the login information provided.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.authentication.ShotgunAuthenticator.create_session_user">
<span class="sig-name descname"><span class="pre">create_session_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">login</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session_token</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">http_proxy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session_metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/shotgun_authenticator.html#ShotgunAuthenticator.create_session_user"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.ShotgunAuthenticator.create_session_user" title="Permalink to this definition"></a></dt>
<dd><p>Create a <a class="reference internal" href="#sgtk.authentication.ShotgunUser" title="sgtk.authentication.ShotgunUser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunUser</span></code></a> given a set of human user credentials.
Either a password or session token must be supplied. If a password is supplied,
a session token will be generated for security reasons.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>login</strong> – Shotgun user login</p></li>
<li><p><strong>session_token</strong> – Shotgun session token</p></li>
<li><p><strong>password</strong> – Shotgun password</p></li>
<li><p><strong>host</strong> – Shotgun host to log in to. If None, the default host will be used.</p></li>
<li><p><strong>http_proxy</strong> – Shotgun proxy to use. If None, the default http proxy will be used.</p></li>
<li><p><strong>session_metadata</strong> – When using Web/SSO, b64encoded browser cookies.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <a class="reference internal" href="#sgtk.authentication.ShotgunUser" title="sgtk.authentication.ShotgunUser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunUser</span></code></a> instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.authentication.ShotgunAuthenticator.create_script_user">
<span class="sig-name descname"><span class="pre">create_script_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api_script</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">http_proxy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/shotgun_authenticator.html#ShotgunAuthenticator.create_script_user"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.ShotgunAuthenticator.create_script_user" title="Permalink to this definition"></a></dt>
<dd><p>Create an AuthenticatedUser given a set of script credentials.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>api_script</strong> – Shotgun script user</p></li>
<li><p><strong>api_key</strong> – Shotgun script key</p></li>
<li><p><strong>host</strong> – Shotgun host to log in to. If None, the default host will
be used.</p></li>
<li><p><strong>http_proxy</strong> – Shotgun proxy to use. If None, the default http proxy
will be used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <a class="reference internal" href="#sgtk.authentication.ShotgunUser" title="sgtk.authentication.ShotgunUser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunUser</span></code></a> derived instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.authentication.ShotgunAuthenticator.get_default_host">
<span class="sig-name descname"><span class="pre">get_default_host</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/shotgun_authenticator.html#ShotgunAuthenticator.get_default_host"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.ShotgunAuthenticator.get_default_host" title="Permalink to this definition"></a></dt>
<dd><p>Returns the host from the defaults manager.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The default host string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.authentication.ShotgunAuthenticator.get_default_http_proxy">
<span class="sig-name descname"><span class="pre">get_default_http_proxy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/shotgun_authenticator.html#ShotgunAuthenticator.get_default_http_proxy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.ShotgunAuthenticator.get_default_http_proxy" title="Permalink to this definition"></a></dt>
<dd><p>Returns the HTTP proxy from the defaults manager.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The default http proxy string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.authentication.ShotgunAuthenticator.get_default_user">
<span class="sig-name descname"><span class="pre">get_default_user</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/shotgun_authenticator.html#ShotgunAuthenticator.get_default_user"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.ShotgunAuthenticator.get_default_user" title="Permalink to this definition"></a></dt>
<dd><p>Returns the default user from the defaults manager.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="#sgtk.authentication.ShotgunUser" title="sgtk.authentication.ShotgunUser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunUser</span></code></a> derived instance if available, None otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.authentication.ShotgunAuthenticator.get_user">
<span class="sig-name descname"><span class="pre">get_user</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/shotgun_authenticator.html#ShotgunAuthenticator.get_user"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.ShotgunAuthenticator.get_user" title="Permalink to this definition"></a></dt>
<dd><p>This method will always return a valid user. It will first ask for the
default user to the defaults manager. If none is found, the user will
be prompted on the command line or from a dialog for their credentials.
Once the user has entered valid credentials, the default user will be
updated with these.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="#sgtk.authentication.ShotgunUser" title="sgtk.authentication.ShotgunUser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunUser</span></code></a> derived instance matching the credentials
provided.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sgtk.authentication.AuthenticationCancelled" title="sgtk.authentication.AuthenticationCancelled"><code class="xref py py-class docutils literal notranslate"><span class="pre">AuthenticationCancelled</span></code></a> is raised
if the user cancelled the authentication.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="shotgunuser">
<h3>ShotgunUser<a class="headerlink" href="#shotgunuser" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.authentication.ShotgunUser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.authentication.</span></span><span class="sig-name descname"><span class="pre">ShotgunUser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">impl</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/user.html#ShotgunUser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.ShotgunUser" title="Permalink to this definition"></a></dt>
<dd><p>Represents a Shotgun user, either a script or a person and provides an entry point
into the authentication system.</p>
<p>User objects are created via the <a class="reference internal" href="#sgtk.authentication.ShotgunAuthenticator" title="sgtk.authentication.ShotgunAuthenticator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunAuthenticator</span></code></a> object, which will handle
caching user objects on disk, prompting the user for their credentials etc.</p>
<p>Once you have retrieved one of the user objects below, this can be used to access
Shotgun in a seamless way. The <a class="reference internal" href="#sgtk.authentication.ShotgunUser.create_sg_connection" title="sgtk.authentication.ShotgunUser.create_sg_connection"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_sg_connection()</span></code></a> will return a Shotgun API handle
which is associated with the current user. This API handle is also monitored for
authentication timeouts, so if the user’s session times out (typically due to periods
of inactivity), the user may be prompted (via a QT UI or stdin/stdout if only
console is accessible) to refresh their Shotgun session by typing in their password.</p>
<p>If you need to persist the user object, this is possible via the serialization
methods. This is particularly useful if you need to pass a user object from one
process to another, for example when launching a DCC such as Maya or Nuke.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>impl</strong> – Internal user implementation class this class proxies.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="sgtk.authentication.ShotgunUser.host">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">host</span></span><a class="headerlink" href="#sgtk.authentication.ShotgunUser.host" title="Permalink to this definition"></a></dt>
<dd><p>Returns the host for this user.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The host string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.authentication.ShotgunUser.http_proxy">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">http_proxy</span></span><a class="headerlink" href="#sgtk.authentication.ShotgunUser.http_proxy" title="Permalink to this definition"></a></dt>
<dd><p>Returns the HTTP proxy for this user.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The HTTP proxy string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.authentication.ShotgunUser.login">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">login</span></span><a class="headerlink" href="#sgtk.authentication.ShotgunUser.login" title="Permalink to this definition"></a></dt>
<dd><p>The login for this current user. For Shotgun user types that don’t have a concept
of a login (like API scripts), None is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The login string or None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.authentication.ShotgunUser.resolve_entity">
<span class="sig-name descname"><span class="pre">resolve_entity</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/user.html#ShotgunUser.resolve_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.ShotgunUser.resolve_entity" title="Permalink to this definition"></a></dt>
<dd><p>Resolves the Shotgun entity associated with this user.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary with <code class="docutils literal notranslate"><span class="pre">type</span></code> and <code class="docutils literal notranslate"><span class="pre">id</span></code> values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.authentication.ShotgunUser.create_sg_connection">
<span class="sig-name descname"><span class="pre">create_sg_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/user.html#ShotgunUser.create_sg_connection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.ShotgunUser.create_sg_connection" title="Permalink to this definition"></a></dt>
<dd><p>Creates a Shotgun connection using the credentials for this user.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Shotgun connection.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.authentication.ShotgunUser.are_credentials_expired">
<span class="sig-name descname"><span class="pre">are_credentials_expired</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/user.html#ShotgunUser.are_credentials_expired"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.ShotgunUser.are_credentials_expired" title="Permalink to this definition"></a></dt>
<dd><p>Checks if the credentials for the user are expired.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if the credentials are expired, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.authentication.ShotgunUser.refresh_credentials">
<span class="sig-name descname"><span class="pre">refresh_credentials</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/user.html#ShotgunUser.refresh_credentials"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.ShotgunUser.refresh_credentials" title="Permalink to this definition"></a></dt>
<dd><p>Refreshes the credentials of this user so that they don’t expire.
If they are expired, you will be prompted for the user’s password.</p>
</dd></dl>

</dd></dl>

</section>
<section id="defaultsmanager">
<h3>DefaultsManager<a class="headerlink" href="#defaultsmanager" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.authentication.DefaultsManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.authentication.</span></span><span class="sig-name descname"><span class="pre">DefaultsManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fixed_host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/defaults_manager.html#DefaultsManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.DefaultsManager" title="Permalink to this definition"></a></dt>
<dd><p>The defaults manager allows a client of the Shotgun Authenticator class
to customize various behaviors around data storage and settings.</p>
<p>By default, when you construct a <a class="reference internal" href="#sgtk.authentication.ShotgunAuthenticator" title="sgtk.authentication.ShotgunAuthenticator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunAuthenticator</span></code></a> object, it will be
instantiated with a standard defaults manager implementation. This will
work for most cases - user session credentials will be stored in a file
on disk and the system maintains a concept of a current user and a current
host.</p>
<p>If a setting isn’t found, the DefaultsManager will fall back to the value stored inside
<code class="docutils literal notranslate"><span class="pre">toolkit.ini</span></code> See <a class="reference internal" href="utils.html#centralizing-settings"><span class="std std-ref">Centralizing your settings</span></a> for more information.</p>
<p>If, however, you want to implement a custom behavior around how defaults
are managed, simply derive from this class and pass your custom instance
to the <a class="reference internal" href="#sgtk.authentication.ShotgunAuthenticator" title="sgtk.authentication.ShotgunAuthenticator"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunAuthenticator</span></code></a> object when you construct it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fixed_host</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Allows to specify the host that will be used for authentication.
Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.authentication.DefaultsManager.is_host_fixed">
<span class="sig-name descname"><span class="pre">is_host_fixed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/defaults_manager.html#DefaultsManager.is_host_fixed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.DefaultsManager.is_host_fixed" title="Permalink to this definition"></a></dt>
<dd><p>When doing an interactive login, this indicates if the user can decide
the host to connect to. In its default implementation, the <a class="reference internal" href="#sgtk.authentication.DefaultsManager" title="sgtk.authentication.DefaultsManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">DefaultsManager</span></code></a>
will indicate that the host is not fixed, meaning that the user will be
presented with an option to pick a site at login time, unless a default
host was provided during initialization. If that is the case, then this
method will return <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>With something like Toolkit, where each project already have a specific
site association, you typically want to override this to return True,
indicating to the authenticator not to ask the user which site they want
to log in to.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>False if the user should be given an option to decide which host
to log in to, True if the host is already predetermined and cannot
be changed by the user.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.authentication.DefaultsManager.get_host">
<span class="sig-name descname"><span class="pre">get_host</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/defaults_manager.html#DefaultsManager.get_host"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.DefaultsManager.get_host" title="Permalink to this definition"></a></dt>
<dd><p>The default host is used as a useful starting point when doing
interactive authentication. When the host is not fixed (see the
<a class="reference internal" href="#sgtk.authentication.DefaultsManager.is_host_fixed" title="sgtk.authentication.DefaultsManager.is_host_fixed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_host_fixed()</span></code></a> method), the return value of get_host is what is
used to implement single sign-on between all Toolkit desktop
applications (at the moment, tank and Flow Production Tracking).</p>
<p>The default implementation will return the fixed host if one was provided
during the initialization. If fixed host was provided, the default
implementation maintains a concept of a “current host” which will be
presented as a default to users when they are logging in.</p>
<p>When the host is fixed, this must return a value and this value will
be used as an absolute rather than a default suggested to the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A string containing the default host name.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.authentication.DefaultsManager.set_host">
<span class="sig-name descname"><span class="pre">set_host</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/defaults_manager.html#DefaultsManager.set_host"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.DefaultsManager.set_host" title="Permalink to this definition"></a></dt>
<dd><p>Called by the authentication system when a new host has been defined.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>host</strong> – The new default host.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.authentication.DefaultsManager.get_http_proxy">
<span class="sig-name descname"><span class="pre">get_http_proxy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/defaults_manager.html#DefaultsManager.get_http_proxy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.DefaultsManager.get_http_proxy" title="Permalink to this definition"></a></dt>
<dd><p>Called by the authentication system when it needs to retrieve the
proxy settings to use for a Shotgun connection.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the centralized settings do not specify an HTTP proxy, Toolkit will rely on
Python’s <a class="reference external" href="https://docs.python.org/2/library/urllib.html#urllib.getproxies">urllib.getproxies</a>
to find an HTTP proxy.</p>
<p>There is a restriction when looking for proxy information from Mac OS X System Configuration or
Windows Systems Registry: in these cases, Toolkit does not support the use of proxies
which require authentication (username and password).</p>
</div>
<p>The returned format will be the same as is being used in the Shotgun API.
For more information, see the <a class="reference external" href="http://developer.shotgridsoftware.com/python-api/reference.html#shotgun">Shotgun API documentation</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>String containing the default http proxy, None by default.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.authentication.DefaultsManager.get_login">
<span class="sig-name descname"><span class="pre">get_login</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/defaults_manager.html#DefaultsManager.get_login"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.DefaultsManager.get_login" title="Permalink to this definition"></a></dt>
<dd><p>Called by the authentication system when it needs to get a
value for the login. Typically this is used to populate UI
fields with defaults.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Default implementation returns the login for the
currently stored user.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.authentication.DefaultsManager.get_user_credentials">
<span class="sig-name descname"><span class="pre">get_user_credentials</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/defaults_manager.html#DefaultsManager.get_user_credentials"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.DefaultsManager.get_user_credentials" title="Permalink to this definition"></a></dt>
<dd><p>Called by the authentication system when it requests a default or current user.</p>
<p>A dictionary with a login and a session token should be returned, which will
allow the authentication system to authenticate the user.</p>
<p>The default implementation maintains a concept where it stores the currently
authenticated user and its session token and tries to return this if possible,
effectively meaning that the user will be automatically logged in without having
to be prompted.</p>
<p>This is typically subclassed if you want to track the notion of a current
user in an alternative way or maintain a separate notion of the “current” user,
separate from the default user maintained by the default implementation.</p>
<p>Toolkit uses the default implementation and will therefore remember the user’s
credentials across all DCCs and tools.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary either with keys login and session_token in the case
of a normal Shotgun User, keys api_script and api_key in the case of a Script
User or None in case no credentials could be established.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.authentication.DefaultsManager.set_login">
<span class="sig-name descname"><span class="pre">set_login</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">login</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/defaults_manager.html#DefaultsManager.set_login"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.DefaultsManager.set_login" title="Permalink to this definition"></a></dt>
<dd><p>Called by the authentication system when a new user is being logged in.</p>
<p>The default implementation maintains a concept of a default user
(returned via the get_user_credentials) and whenever the login is set
via this method, the default user will change to be this login instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>login</strong> – login as string</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="utilities">
<h3>Utilities<a class="headerlink" href="#utilities" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="sgtk.authentication.deserialize_user">
<span class="sig-prename descclassname"><span class="pre">sgtk.authentication.</span></span><span class="sig-name descname"><span class="pre">deserialize_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">payload</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/user.html#deserialize_user"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.deserialize_user" title="Permalink to this definition"></a></dt>
<dd><p>Converts a payload produced by serialize into any of the ShotgunUser
derived instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>payload</strong> – Pickled dictionary of values</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A ShotgunUser derived instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.authentication.serialize_user">
<span class="sig-prename descclassname"><span class="pre">sgtk.authentication.</span></span><span class="sig-name descname"><span class="pre">serialize_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_json</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/user.html#serialize_user"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.serialize_user" title="Permalink to this definition"></a></dt>
<dd><p>Serializes a user. Meant to be consumed by deserialize.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user</strong> – User object that needs to be serialized.</p></li>
<li><p><strong>use_json</strong> – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, a <code class="docutils literal notranslate"><span class="pre">json</span></code> representation will be generated.
A pickled representation will be generated otherwise.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The payload representing the user.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="exception-classes">
<h3>Exception Classes<a class="headerlink" href="#exception-classes" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.authentication.ShotgunAuthenticationError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.authentication.</span></span><span class="sig-name descname"><span class="pre">ShotgunAuthenticationError</span></span><a class="reference internal" href="_modules/tank/authentication/errors.html#ShotgunAuthenticationError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.ShotgunAuthenticationError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#Exception" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Base class for all exceptions coming out from this module.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sgtk.authentication.AuthenticationError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.authentication.</span></span><span class="sig-name descname"><span class="pre">AuthenticationError</span></span><a class="reference internal" href="_modules/tank/authentication/errors.html#AuthenticationError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.AuthenticationError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sgtk.authentication.ShotgunAuthenticationError" title="tank.authentication.errors.ShotgunAuthenticationError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunAuthenticationError</span></code></a></p>
<p>Thrown when credentials are rejected by the server.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sgtk.authentication.IncompleteCredentials">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.authentication.</span></span><span class="sig-name descname"><span class="pre">IncompleteCredentials</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/errors.html#IncompleteCredentials"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.IncompleteCredentials" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sgtk.authentication.ShotgunAuthenticationError" title="tank.authentication.errors.ShotgunAuthenticationError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunAuthenticationError</span></code></a></p>
<p>Thrown when credentials are provided but are incomplete.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>msg</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Reason why the credentials are incomplete.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sgtk.authentication.AuthenticationCancelled">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.authentication.</span></span><span class="sig-name descname"><span class="pre">AuthenticationCancelled</span></span><a class="reference internal" href="_modules/tank/authentication/errors.html#AuthenticationCancelled"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.AuthenticationCancelled" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sgtk.authentication.ShotgunAuthenticationError" title="tank.authentication.errors.ShotgunAuthenticationError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunAuthenticationError</span></code></a></p>
<p>Thrown when the user cancels authentication or session renewal.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sgtk.authentication.ConsoleLoginNotSupportedError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.authentication.</span></span><span class="sig-name descname"><span class="pre">ConsoleLoginNotSupportedError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site_auth_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Single</span> <span class="pre">Sign-On'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/errors.html#ConsoleLoginNotSupportedError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.ConsoleLoginNotSupportedError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sgtk.authentication.ShotgunAuthenticationError" title="tank.authentication.errors.ShotgunAuthenticationError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunAuthenticationError</span></code></a></p>
<p>Thrown when attempting to use Username/Password pair to login onto
an SSO-enabled site.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Url of the site where login was attempted.</p></li>
<li><p><strong>site_auth_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – type of authentication, e.g. SSO, Identity.
The default value is for backward compatibility.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sgtk.authentication.UnresolvableHumanUser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.authentication.</span></span><span class="sig-name descname"><span class="pre">UnresolvableHumanUser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">login</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/errors.html#UnresolvableHumanUser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.UnresolvableHumanUser" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">UnresolvableUser</span></code></p>
<p>Thrown when Toolkit is not able to resolve a human user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>login</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – <code class="docutils literal notranslate"><span class="pre">login</span></code> field value of the <code class="docutils literal notranslate"><span class="pre">HumanUser</span></code> that could not be resolved.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sgtk.authentication.UnresolvableScriptUser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.authentication.</span></span><span class="sig-name descname"><span class="pre">UnresolvableScriptUser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">script_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/authentication/errors.html#UnresolvableScriptUser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.authentication.UnresolvableScriptUser" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">UnresolvableUser</span></code></p>
<p>Thrown when Toolkit is not able to resolve a human user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>script_name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – <code class="docutils literal notranslate"><span class="pre">firstname</span></code> field value of the <code class="docutils literal notranslate"><span class="pre">ApiUser</span></code> that could not be resolved.</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="descriptor.html" class="btn btn-neutral float-left" title="Descriptors" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="environment_variables.html" class="btn btn-neutral float-right" title="Environment Variables" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Autodesk.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 

  <script type="text/javascript">
    window.wafCCPAForceShow = true;
    (function(a,b,c,d){
      a='https://tags.tiqcdn.com/utag/autodesk/micro-basic/prod/utag.js';
      b=document;c='script';d=b.createElement(c);d.src=a;d.type='text/java'+c;d.async=true;
      a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);
    })();
  </script>


</body>
</html>


<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Core &mdash; tk-core v0.22.5 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Apps, Engines and Frameworks" href="platform.html" />
    <link rel="prev" title="Initialization and startup" href="initializing.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
    <a href='https://help.autodesk.com/view/SGDEV/ENU/'>
    
        <img style='width: 191px;
                height: 60px;
                margin: 2px;
                border-radius: 0px;
                padding: 0px;'
            src='_static/logo@2x.png'/>
    
    </a>
    

          
          
          <a href="index.html" class="icon icon-home">
            tk-core
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="initializing.html">Initialization and startup</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Core</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#sgtk">Sgtk</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.Sgtk"><code class="docutils literal notranslate"><span class="pre">Sgtk</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.configuration_descriptor"><code class="docutils literal notranslate"><span class="pre">Sgtk.configuration_descriptor</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.bundle_cache_fallback_paths"><code class="docutils literal notranslate"><span class="pre">Sgtk.bundle_cache_fallback_paths</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.project_path"><code class="docutils literal notranslate"><span class="pre">Sgtk.project_path</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.roots"><code class="docutils literal notranslate"><span class="pre">Sgtk.roots</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.shotgun_url"><code class="docutils literal notranslate"><span class="pre">Sgtk.shotgun_url</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.shotgun"><code class="docutils literal notranslate"><span class="pre">Sgtk.shotgun</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.version"><code class="docutils literal notranslate"><span class="pre">Sgtk.version</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.documentation_url"><code class="docutils literal notranslate"><span class="pre">Sgtk.documentation_url</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.configuration_mode"><code class="docutils literal notranslate"><span class="pre">Sgtk.configuration_mode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.configuration_name"><code class="docutils literal notranslate"><span class="pre">Sgtk.configuration_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.configuration_id"><code class="docutils literal notranslate"><span class="pre">Sgtk.configuration_id</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.templates"><code class="docutils literal notranslate"><span class="pre">Sgtk.templates</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.reload_templates"><code class="docutils literal notranslate"><span class="pre">Sgtk.reload_templates()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.list_commands"><code class="docutils literal notranslate"><span class="pre">Sgtk.list_commands()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.get_command"><code class="docutils literal notranslate"><span class="pre">Sgtk.get_command()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.templates_from_path"><code class="docutils literal notranslate"><span class="pre">Sgtk.templates_from_path()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.template_from_path"><code class="docutils literal notranslate"><span class="pre">Sgtk.template_from_path()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.paths_from_template"><code class="docutils literal notranslate"><span class="pre">Sgtk.paths_from_template()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.abstract_paths_from_template"><code class="docutils literal notranslate"><span class="pre">Sgtk.abstract_paths_from_template()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.paths_from_entity"><code class="docutils literal notranslate"><span class="pre">Sgtk.paths_from_entity()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.entity_from_path"><code class="docutils literal notranslate"><span class="pre">Sgtk.entity_from_path()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.context_empty"><code class="docutils literal notranslate"><span class="pre">Sgtk.context_empty()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.context_from_path"><code class="docutils literal notranslate"><span class="pre">Sgtk.context_from_path()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.context_from_entity"><code class="docutils literal notranslate"><span class="pre">Sgtk.context_from_entity()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.context_from_entity_dictionary"><code class="docutils literal notranslate"><span class="pre">Sgtk.context_from_entity_dictionary()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.synchronize_filesystem_structure"><code class="docutils literal notranslate"><span class="pre">Sgtk.synchronize_filesystem_structure()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.create_filesystem_structure"><code class="docutils literal notranslate"><span class="pre">Sgtk.create_filesystem_structure()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Sgtk.preview_filesystem_structure"><code class="docutils literal notranslate"><span class="pre">Sgtk.preview_filesystem_structure()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#authentication">Authentication</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.set_authenticated_user"><code class="docutils literal notranslate"><span class="pre">set_authenticated_user()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.get_authenticated_user"><code class="docutils literal notranslate"><span class="pre">get_authenticated_user()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#pipeline-configuration-utilities">Pipeline Configuration Utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.get_core_python_path_for_config"><code class="docutils literal notranslate"><span class="pre">get_core_python_path_for_config()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.get_sgtk_module_path"><code class="docutils literal notranslate"><span class="pre">get_sgtk_module_path()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.get_python_interpreter_for_config"><code class="docutils literal notranslate"><span class="pre">get_python_interpreter_for_config()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#context">Context</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.Context"><code class="docutils literal notranslate"><span class="pre">Context</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Context.project"><code class="docutils literal notranslate"><span class="pre">Context.project</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Context.entity"><code class="docutils literal notranslate"><span class="pre">Context.entity</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Context.source_entity"><code class="docutils literal notranslate"><span class="pre">Context.source_entity</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Context.step"><code class="docutils literal notranslate"><span class="pre">Context.step</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Context.task"><code class="docutils literal notranslate"><span class="pre">Context.task</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Context.user"><code class="docutils literal notranslate"><span class="pre">Context.user</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Context.additional_entities"><code class="docutils literal notranslate"><span class="pre">Context.additional_entities</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Context.entity_locations"><code class="docutils literal notranslate"><span class="pre">Context.entity_locations</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Context.shotgun_url"><code class="docutils literal notranslate"><span class="pre">Context.shotgun_url</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Context.filesystem_locations"><code class="docutils literal notranslate"><span class="pre">Context.filesystem_locations</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Context.sgtk"><code class="docutils literal notranslate"><span class="pre">Context.sgtk</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Context.as_template_fields"><code class="docutils literal notranslate"><span class="pre">Context.as_template_fields()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Context.create_copy_for_user"><code class="docutils literal notranslate"><span class="pre">Context.create_copy_for_user()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Context.serialize"><code class="docutils literal notranslate"><span class="pre">Context.serialize()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Context.deserialize"><code class="docutils literal notranslate"><span class="pre">Context.deserialize()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Context.to_dict"><code class="docutils literal notranslate"><span class="pre">Context.to_dict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Context.from_dict"><code class="docutils literal notranslate"><span class="pre">Context.from_dict()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#commands">Commands</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#api-access-methods">API access methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.list_commands"><code class="docutils literal notranslate"><span class="pre">list_commands()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.get_command"><code class="docutils literal notranslate"><span class="pre">get_command()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sgtksystemcommand">SgtkSystemCommand</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.SgtkSystemCommand"><code class="docutils literal notranslate"><span class="pre">SgtkSystemCommand</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#commandinteraction">CommandInteraction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.CommandInteraction"><code class="docutils literal notranslate"><span class="pre">CommandInteraction</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#hooks">Hooks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#hook">Hook</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Hook"><code class="docutils literal notranslate"><span class="pre">Hook</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#get-hook-baseclass">get_hook_baseclass</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.get_hook_baseclass"><code class="docutils literal notranslate"><span class="pre">get_hook_baseclass()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#core-hooks">Core Hooks</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-before_register_publish">before_register_publish.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-bootstrap">bootstrap.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-bundle_init">bundle_init.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cache_location">cache_location.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-context_change">context_change.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-default_storage_root">default_storage_root.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-engine_init">engine_init.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-ensure_folder_exists">ensure_folder_exists.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-get_current_login">get_current_login.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-log_metrics">log_metrics.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pick_environment">pick_environment.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-pipeline_configuration_init">pipeline_configuration_init.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-process_folder_creation">process_folder_creation.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-process_folder_name">process_folder_name.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-resolve_publish">resolve_publish.py</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-tank_init">tank_init.py</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-example_template_hook">Template Hooks</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#example_template_hook.ExampleTemplateHook"><code class="docutils literal notranslate"><span class="pre">ExampleTemplateHook</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#templates">Templates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#template">Template</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.Template"><code class="docutils literal notranslate"><span class="pre">Template</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#templatepath">TemplatePath</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.TemplatePath"><code class="docutils literal notranslate"><span class="pre">TemplatePath</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#templatestring">TemplateString</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.TemplateString"><code class="docutils literal notranslate"><span class="pre">TemplateString</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#templatekey">TemplateKey</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.TemplateKey"><code class="docutils literal notranslate"><span class="pre">TemplateKey</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#stringkey">StringKey</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.StringKey"><code class="docutils literal notranslate"><span class="pre">StringKey</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sequencekey">SequenceKey</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.SequenceKey"><code class="docutils literal notranslate"><span class="pre">SequenceKey</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#integerkey">IntegerKey</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.IntegerKey"><code class="docutils literal notranslate"><span class="pre">IntegerKey</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#timestampkey">TimestampKey</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.TimestampKey"><code class="docutils literal notranslate"><span class="pre">TimestampKey</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#exceptions">Exceptions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.TankError"><code class="docutils literal notranslate"><span class="pre">TankError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.TankError.with_traceback"><code class="docutils literal notranslate"><span class="pre">TankError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.TankErrorProjectIsSetup"><code class="docutils literal notranslate"><span class="pre">TankErrorProjectIsSetup</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.TankErrorProjectIsSetup.with_traceback"><code class="docutils literal notranslate"><span class="pre">TankErrorProjectIsSetup.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.TankFileDoesNotExistError"><code class="docutils literal notranslate"><span class="pre">TankFileDoesNotExistError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.TankFileDoesNotExistError.with_traceback"><code class="docutils literal notranslate"><span class="pre">TankFileDoesNotExistError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.TankHookMethodDoesNotExistError"><code class="docutils literal notranslate"><span class="pre">TankHookMethodDoesNotExistError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.TankHookMethodDoesNotExistError.with_traceback"><code class="docutils literal notranslate"><span class="pre">TankHookMethodDoesNotExistError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.TankUnreadableFileError"><code class="docutils literal notranslate"><span class="pre">TankUnreadableFileError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.TankUnreadableFileError.with_traceback"><code class="docutils literal notranslate"><span class="pre">TankUnreadableFileError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.TankInvalidCoreLocationError"><code class="docutils literal notranslate"><span class="pre">TankInvalidCoreLocationError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.TankInvalidCoreLocationError.with_traceback"><code class="docutils literal notranslate"><span class="pre">TankInvalidCoreLocationError.with_traceback()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sgtk.TankNotPipelineConfigurationError"><code class="docutils literal notranslate"><span class="pre">TankNotPipelineConfigurationError</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sgtk.TankNotPipelineConfigurationError.with_traceback"><code class="docutils literal notranslate"><span class="pre">TankNotPipelineConfigurationError.with_traceback()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="platform.html">Apps, Engines and Frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="descriptor.html">Descriptors</a></li>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment_variables.html">Environment Variables</a></li>
</ul>


    <a href='genindex.html'>Alphabetic Index</a>

    <div style='margin-top: 50px;
                margin-left: 10px;
                margin-right: 10px;
                padding: 10px;
                color: #b3b3b3;
                font-size: 70%;
                border-radius: 3px;
                background-color: #444;
                line-height: 18px;
                '>
    <style>
        a.custom_post_menu { display: inline;
                             padding: 0px;
                             text-decoration: underline; }
    </style>

    <b>tk-core</b> v0.22.5.<br>
    
        This documentation is part of the Flow Production Tracking.
    
    For more information, please visit
    <a class=custom_post_menu href='https://help.autodesk.com/view/SGDEV/ENU/'>The Flow Production Tracking developer portal.</a>.
    The code associated with this documentation can be found
    <a class=custom_post_menu href='https://github.com/shotgunsoftware/tk-core'>here</a>.

    </div>
    <style>
        p.privacy_links { margin: 4px 0px;}
    </style>
    <p class="privacy_links"><a data-opt-in-preferences href="javascript:;">Privacy settings</a></p>
    <p class="privacy_links"><a data-wat-linkname="manage-ccpa-settings-footer-link" href="javascript:;">Do not sell my personal information</a></p>
    <p class="privacy_links"><a href="https://www.autodesk.com/company/legal-notices-trademarks/privacy-statement">Privacy/Cookies</a></p>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">tk-core</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Core</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="core">
<span id="core-api"></span><h1>Core<a class="headerlink" href="#core" title="Permalink to this heading"></a></h1>
<p>The Toolkit Foundation is the part of the Toolkit Core API
that contains lower level components and APIs. These include</p>
<ul class="simple">
<li><p>Automatic folder creation</p></li>
<li><p><a class="reference internal" href="#sgtk.Template" title="sgtk.Template"><code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code></a> system and path resolution APIs</p></li>
<li><p>Execution of Tank Admin commands</p></li>
<li><p>The Toolkit <a class="reference internal" href="#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a></p></li>
<li><p>The <a class="reference internal" href="#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sgtk</span></code></a> Main API class</p></li>
</ul>
<p>For apps and engines, see the <a class="reference internal" href="platform.html#sgtk-platform-docs"><span class="std std-ref">Apps, Engines and Frameworks</span></a> documentation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Toolkit Foundation APIs require that you run them from within
an initialized toolkit environment. For more information on how to
set this up, see <a class="reference internal" href="initializing.html#init-and-startup"><span class="std std-ref">Initialization and startup</span></a>.</p>
</div>
<section id="sgtk">
<h2>Sgtk<a class="headerlink" href="#sgtk" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.Sgtk">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">Sgtk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#Sgtk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Sgtk" title="Permalink to this definition"></a></dt>
<dd><p>The Toolkit Core API. Instances of this class are associated with a particular
configuration and contain access methods for a number of low level
Toolkit services such as filesystem creation, hooks, context
manipulation and the Toolkit template system.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Do not create this instance directly - Instead, instances of
this class should be created using the methods <a class="reference internal" href="initializing.html#sgtk.sgtk_from_path" title="sgtk.sgtk_from_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk_from_path()</span></code></a>,
<a class="reference internal" href="initializing.html#sgtk.sgtk_from_entity" title="sgtk.sgtk_from_entity"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk_from_entity()</span></code></a> or via the <a class="reference internal" href="initializing.html#sgtk.bootstrap.ToolkitManager" title="sgtk.bootstrap.ToolkitManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">sgtk.bootstrap.ToolkitManager</span></code></a>.
For more information, see <a class="reference internal" href="initializing.html#init-and-startup"><span class="std std-ref">Initialization and startup</span></a>.</p>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Sgtk.configuration_descriptor">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">configuration_descriptor</span></span><a class="headerlink" href="#sgtk.Sgtk.configuration_descriptor" title="Permalink to this definition"></a></dt>
<dd><p>The <a class="reference internal" href="descriptor.html#sgtk.descriptor.ConfigDescriptor" title="sgtk.descriptor.ConfigDescriptor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigDescriptor</span></code></a> which represents the
source of the environments associated with this pipeline configuration.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Sgtk.bundle_cache_fallback_paths">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bundle_cache_fallback_paths</span></span><a class="headerlink" href="#sgtk.Sgtk.bundle_cache_fallback_paths" title="Permalink to this definition"></a></dt>
<dd><p>List of paths to the fallback bundle caches for the pipeline configuration.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Sgtk.project_path">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">project_path</span></span><a class="headerlink" href="#sgtk.Sgtk.project_path" title="Permalink to this definition"></a></dt>
<dd><p>Path to the default data directory for a project.</p>
<p>Toolkit Projects that utilize the template system to read and write data
to disk will use a number of Shotgun local storages as part of their
setup to define where data should be stored on disk. One of these
storages is identified as the default storage.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sgtk.TankError" title="sgtk.TankError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankError</span></code></a> if the configuration doesn’t use storages.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Sgtk.roots">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">roots</span></span><a class="headerlink" href="#sgtk.Sgtk.roots" title="Permalink to this definition"></a></dt>
<dd><p>Returns a dictionary of storage root names to storage root paths.</p>
<p>Toolkit Projects that utilize the template system to read and write data
to disk will use one or more Shotgun local storages as part of their
setup to define where data should be stored on disk. This method returns
a dictionary keyed by storage root name with the value being the path
on the current operating system platform:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;work&quot;</span><span class="p">:</span> <span class="s2">&quot;/studio/work/my_project&quot;</span><span class="p">,</span>
    <span class="s2">&quot;textures&quot;</span><span class="p">:</span> <span class="s2">&quot;/studio/textures/my_project&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>These items reflect the Local Storages that you have set up in Shotgun.</p>
<p>Each project using the template system is connected to a number of these
storages - these storages define the root points for all the different
data locations for your project. So for example, if you have a mount
point for textures, one for renders and one for production data such
as scene files, you can set up a multi root configuration which uses
three Local Storages in Shotgun. This method returns the project
storage locations for the current project. The key is the name of the
local storage as defined in your configuration. The value is the path
which is defined in the associated Shotgun Local storage definition for
the current operating system, concatenated with the project folder name.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Sgtk.shotgun_url">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shotgun_url</span></span><a class="headerlink" href="#sgtk.Sgtk.shotgun_url" title="Permalink to this definition"></a></dt>
<dd><p>The associated shotgun url, e.g. <code class="docutils literal notranslate"><span class="pre">https://mysite.shotgunstudio.com</span></code></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Sgtk.shotgun">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shotgun</span></span><a class="headerlink" href="#sgtk.Sgtk.shotgun" title="Permalink to this definition"></a></dt>
<dd><p>Just-in-time access to a per-thread Shotgun API instance.</p>
<p>This Shotgun API is threadlocal, meaning that each thread will get
a separate instance of the Shotgun API. This is in order to prevent
concurrency issues and add a layer of basic protection around the
Shotgun API, which isn’t threadsafe.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Sgtk.version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version</span></span><a class="headerlink" href="#sgtk.Sgtk.version" title="Permalink to this definition"></a></dt>
<dd><p>The version of the tank Core API (e.g. v0.2.3)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Sgtk.documentation_url">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">documentation_url</span></span><a class="headerlink" href="#sgtk.Sgtk.documentation_url" title="Permalink to this definition"></a></dt>
<dd><p>A url pointing at relevant documentation for this version of the Toolkit Core
or None if no documentation is associated.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Sgtk.configuration_mode">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">configuration_mode</span></span><a class="headerlink" href="#sgtk.Sgtk.configuration_mode" title="Permalink to this definition"></a></dt>
<dd><p>The mode of the currently running configuration:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sgtk.CENTRALIZED</span></code> if the configuration is part of a
<a class="reference internal" href="initializing.html#centralized-configurations"><span class="std std-ref">centralized</span></a> setup.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sgtk.DISTRIBUTED</span></code> if the configuration is part of a
<a class="reference internal" href="initializing.html#distributed-configurations"><span class="std std-ref">distributed</span></a> setup.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sgtk.DEFAULT</span></code> if the configuration does not have an associated pipeline
pipeline configuration but is falling back to its default builtins.</p></li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Sgtk.configuration_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">configuration_name</span></span><a class="headerlink" href="#sgtk.Sgtk.configuration_name" title="Permalink to this definition"></a></dt>
<dd><p>The name of the currently running Shotgun Pipeline
Configuration, e.g. <code class="docutils literal notranslate"><span class="pre">Primary</span></code>.
If the current session does not have an associated
pipeline configuration in Shotgun (for example
because you are running the built-in integrations),
<code class="docutils literal notranslate"><span class="pre">None</span></code> will be returned.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Sgtk.configuration_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">configuration_id</span></span><a class="headerlink" href="#sgtk.Sgtk.configuration_id" title="Permalink to this definition"></a></dt>
<dd><p>The associated Shotgun pipeline configuration id.
If the current session does not have an associated
pipeline configuration in Shotgun (for example
because you are running the built-in integrations),
<code class="docutils literal notranslate"><span class="pre">None</span></code> will be returned.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Sgtk.templates">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">templates</span></span><a class="headerlink" href="#sgtk.Sgtk.templates" title="Permalink to this definition"></a></dt>
<dd><p>A dictionary, where the keys are the template names, and the values
are <a class="reference internal" href="#sgtk.Template" title="sgtk.Template"><code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code></a> instances representing the tokenized paths, as defined in
the configuration’s <code class="docutils literal notranslate"><span class="pre">templates.yml</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Sgtk.reload_templates">
<span class="sig-name descname"><span class="pre">reload_templates</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#Sgtk.reload_templates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Sgtk.reload_templates" title="Permalink to this definition"></a></dt>
<dd><p>Reloads the template definitions from disk. If the reload fails a
<a class="reference internal" href="#sgtk.TankError" title="sgtk.TankError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankError</span></code></a> will be raised and the previous template definitions
will be preserved.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method can be helpful if you are tweaking
templates inside of for example Maya and want to reload them. You can
then access this method from the python console via the current engine
handle:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">current_engine</span><span class="p">()</span><span class="o">.</span><span class="n">sgtk</span><span class="o">.</span><span class="n">reload_templates</span><span class="p">()</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sgtk.TankError" title="sgtk.TankError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankError</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Sgtk.list_commands">
<span class="sig-name descname"><span class="pre">list_commands</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#Sgtk.list_commands"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Sgtk.list_commands" title="Permalink to this definition"></a></dt>
<dd><p>Lists the system commands registered with the system.</p>
<p>This method will return all system commands which
are available in the context of a project configuration will be returned.
This includes for example commands for configuration management,
anything app or engine related and validation and overview functionality.
In addition to these commands, the global commands such as project setup
and core API check commands will also be returned.</p>
<p>For more information, see <a class="reference internal" href="#sgtk.list_commands" title="sgtk.list_commands"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk.list_commands()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of command names</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Sgtk.get_command">
<span class="sig-name descname"><span class="pre">get_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#Sgtk.get_command"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Sgtk.get_command" title="Permalink to this definition"></a></dt>
<dd><p>Returns an instance of a command object that can be used to execute a command.</p>
<p>Once you have retrieved the command instance, you can perform introspection to
check for example the required parameters for the command, name, description etc.
Lastly, you can execute the command by running the execute() method.</p>
<p>In order to get a list of the available commands, use the list_commands() method.</p>
<p>For more information, see <a class="reference internal" href="#sgtk.get_command" title="sgtk.get_command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk.get_command()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>command_name</strong> – Name of command to execute. Get a list of all available commands
using the <a class="reference internal" href="#sgtk.list_commands" title="sgtk.list_commands"><code class="xref py py-meth docutils literal notranslate"><span class="pre">list_commands()</span></code></a> method.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sgtk.SgtkSystemCommand" title="sgtk.SgtkSystemCommand"><code class="xref py py-class docutils literal notranslate"><span class="pre">SgtkSystemCommand</span></code></a> object instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Sgtk.templates_from_path">
<span class="sig-name descname"><span class="pre">templates_from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#Sgtk.templates_from_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Sgtk.templates_from_path" title="Permalink to this definition"></a></dt>
<dd><p>Finds templates that matches the given path:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio/project_root&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span><span class="o">.</span><span class="n">templates_from_path</span><span class="p">(</span><span class="s2">&quot;/studio/my_proj/assets/Car/Anim/work&quot;</span><span class="p">)</span>
<span class="go">&lt;Sgtk Template maya_asset_project: assets/%(Asset)s/%(Step)s/work&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – Path to match against a template</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of <a class="reference internal" href="#sgtk.TemplatePath" title="sgtk.TemplatePath"><code class="xref py py-class docutils literal notranslate"><span class="pre">TemplatePath</span></code></a> or [] if no match could be found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Sgtk.template_from_path">
<span class="sig-name descname"><span class="pre">template_from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#Sgtk.template_from_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Sgtk.template_from_path" title="Permalink to this definition"></a></dt>
<dd><p>Finds a template that matches the given path:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio/project_root&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span><span class="o">.</span><span class="n">template_from_path</span><span class="p">(</span><span class="s2">&quot;/studio/my_proj/assets/Car/Anim/work&quot;</span><span class="p">)</span>
<span class="go">&lt;Sgtk Template maya_asset_project: assets/%(Asset)s/%(Step)s/work&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – Path to match against a template</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sgtk.TemplatePath" title="sgtk.TemplatePath"><code class="xref py py-class docutils literal notranslate"><span class="pre">TemplatePath</span></code></a> or None if no match could be found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Sgtk.paths_from_template">
<span class="sig-name descname"><span class="pre">paths_from_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_missing_optional_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#Sgtk.paths_from_template"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Sgtk.paths_from_template" title="Permalink to this definition"></a></dt>
<dd><p>Finds paths that match a template using field values passed.</p>
<p>This is useful if you want to get a list of files matching a particular
template and set of fields. One common pattern is when you are dealing
with versions, and you want to retrieve all the different versions for a
file. In that case just resolve all the fields for the file you want to operate
on, then pass those in to the paths_from_template() method. By passing version to
the <code class="docutils literal notranslate"><span class="pre">skip_keys</span></code> parameter, the method will return all the versions associated
with your original file.</p>
<p>Any keys that are required by the template but aren’t included in the fields
dictionary are always skipped. Any optional keys that aren’t included are only
skipped if the <code class="docutils literal notranslate"><span class="pre">skip_missing_optional_keys</span></code> parameter is set to True.</p>
<p>If an optional key is to be skipped, all matching paths that contain a value for
that key as well as those that don’t will be included in the result.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The result is not ordered in any particular way.</p>
</div>
<p>Imagine you have a template <code class="docutils literal notranslate"><span class="pre">maya_work:</span> <span class="pre">sequences/{Sequence}/{Shot}/work/{name}.v{version}.ma</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio/my_proj&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">maya_work</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">templates</span><span class="p">[</span><span class="s2">&quot;maya_work&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>All fields that you don’t specify will be searched for. So if we want to search for all
names and versions for a particular sequence and shot, we can do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span><span class="o">.</span><span class="n">paths_from_template</span><span class="p">(</span><span class="n">maya_work</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;Sequence&quot;</span><span class="p">:</span> <span class="s2">&quot;AAA&quot;</span><span class="p">,</span> <span class="s2">&quot;Shot&quot;</span><span class="p">:</span> <span class="s2">&quot;001&quot;</span><span class="p">})</span>
<span class="go">/studio/my_proj/sequences/AAA/001/work/background.v001.ma</span>
<span class="go">/studio/my_proj/sequences/AAA/001/work/background.v002.ma</span>
<span class="go">/studio/my_proj/sequences/AAA/001/work/background.v003.ma</span>
<span class="go">/studio/my_proj/sequences/AAA/001/work/mainscene.v001.ma</span>
<span class="go">/studio/my_proj/sequences/AAA/001/work/mainscene.v002.ma</span>
<span class="go">/studio/my_proj/sequences/AAA/001/work/mainscene.v003.ma</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>template</strong> (<a class="reference internal" href="#sgtk.TemplatePath" title="sgtk.TemplatePath"><code class="xref py py-class docutils literal notranslate"><span class="pre">TemplatePath</span></code></a>) – Template against whom to match.</p></li>
<li><p><strong>fields</strong> (<em>Dictionary</em>) – Fields and values to use.</p></li>
<li><p><strong>skip_keys</strong> (<em>List</em><em> of </em><em>key names</em>) – Keys whose values should be ignored from the fields parameter.</p></li>
<li><p><strong>skip_missing_optional_keys</strong> – Specify if optional keys should be skipped if they
aren’t found in the fields collection</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Matching file paths</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of strings.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Sgtk.abstract_paths_from_template">
<span class="sig-name descname"><span class="pre">abstract_paths_from_template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#Sgtk.abstract_paths_from_template"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Sgtk.abstract_paths_from_template" title="Permalink to this definition"></a></dt>
<dd><p>Returns an abstract path based on a template.</p>
<p>Similar to <a class="reference internal" href="#sgtk.Sgtk.paths_from_template" title="sgtk.Sgtk.paths_from_template"><code class="xref py py-meth docutils literal notranslate"><span class="pre">paths_from_template()</span></code></a>, but optimized for abstract fields
such as image sequences and stereo patterns.</p>
<p>An <em>abstract field</em> is for example an image sequence pattern
token, such as <code class="docutils literal notranslate"><span class="pre">%04d</span></code>, <code class="docutils literal notranslate"><span class="pre">%V</span></code> or <code class="docutils literal notranslate"><span class="pre">&#64;&#64;&#64;&#64;&#64;</span></code>. This token represents
a large collection of files. This method will return abstract fields whenever
it can, and it will attempt to optimize the calls based on abstract
pattern matching, trying to avoid doing a thousand file lookups for a
thousand frames in a sequence.</p>
<p>It works exactly like <a class="reference internal" href="#sgtk.Sgtk.paths_from_template" title="sgtk.Sgtk.paths_from_template"><code class="xref py py-meth docutils literal notranslate"><span class="pre">paths_from_template()</span></code></a> with the difference
that any field marked as abstract in the configuration will use its
default value rather than any matched file values. Sequence
fields are abstract by default.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The result is not ordered in any particular way.</p>
</div>
<p>Imagine you have a template <code class="docutils literal notranslate"><span class="pre">render:</span> <span class="pre">sequences/{Sequence}/{Shot}/images/{eye}/{name}.{SEQ}.exr</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio/my_proj&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">render</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">templates</span><span class="p">[</span><span class="s2">&quot;render&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>All fields that you don’t specify will be searched for. So if we want to search for all
names and versions for a particular sequence and shot, we can do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span><span class="o">.</span><span class="n">abstract_paths_from_template</span><span class="p">(</span><span class="n">maya_work</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;Sequence&quot;</span><span class="p">:</span> <span class="s2">&quot;AAA&quot;</span><span class="p">,</span> <span class="s2">&quot;Shot&quot;</span><span class="p">:</span> <span class="s2">&quot;001&quot;</span><span class="p">})</span>
<span class="go">/studio/my_proj/sequences/AAA/001/images/%V/render_1.%04d.exr</span>
<span class="go">/studio/my_proj/sequences/AAA/001/images/%V/render_2.%04d.exr</span>
<span class="go">/studio/my_proj/sequences/AAA/001/images/%V/render_3.%04d.exr</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are situations where the resulting abstract paths may not match any files on disk</p>
</div>
<p>Take the following template:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">render</span><span class="p">:</span> <span class="n">sequences</span><span class="o">/</span><span class="p">{</span><span class="n">Sequence</span><span class="p">}</span><span class="o">/</span><span class="p">{</span><span class="n">Shot</span><span class="p">}</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="p">{</span><span class="n">Shot</span><span class="p">}</span><span class="o">.</span><span class="p">{</span><span class="n">SEQ</span><span class="p">}</span><span class="o">.</span><span class="n">jpg</span>
</pre></div>
</div>
<p>Assuming <code class="docutils literal notranslate"><span class="pre">Shot</span></code> is provided via the <code class="docutils literal notranslate"><span class="pre">fields</span></code> argument, the method will avoid
listing all files in the leaf directory since <code class="docutils literal notranslate"><span class="pre">{SEQ}</span></code> is abstract and <code class="docutils literal notranslate"><span class="pre">{Shot}</span></code>
is known. The following abstract path will be returned even if only the
parent <code class="docutils literal notranslate"><span class="pre">images</span></code> directory exists:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">studio</span><span class="o">/</span><span class="n">my_proj</span><span class="o">/</span><span class="n">sequences</span><span class="o">/</span><span class="n">AAA</span><span class="o">/</span><span class="mi">001</span><span class="o">/</span><span class="n">images</span><span class="o">/</span><span class="mf">001.</span><span class="o">%</span><span class="mi">04</span><span class="n">d</span><span class="o">.</span><span class="n">exr</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>template</strong> (<a class="reference internal" href="#sgtk.TemplatePath" title="sgtk.TemplatePath"><code class="xref py py-class docutils literal notranslate"><span class="pre">TemplatePath</span></code></a>) – Template with which to search</p></li>
<li><p><strong>fields</strong> (<em>dictionary</em>) – Mapping of keys to values with which to assemble the abstract path.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of paths whose abstract keys use their abstract(default) value unless
a value is specified for them in the fields parameter.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Sgtk.paths_from_entity">
<span class="sig-name descname"><span class="pre">paths_from_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#Sgtk.paths_from_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Sgtk.paths_from_entity" title="Permalink to this definition"></a></dt>
<dd><p>Finds paths associated with a Shotgun entity.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only paths that have been generated by <a class="reference internal" href="#sgtk.Sgtk.create_filesystem_structure" title="sgtk.Sgtk.create_filesystem_structure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_filesystem_structure()</span></code></a> will
be returned. Such paths are stored in Shotgun as <code class="docutils literal notranslate"><span class="pre">FilesystemLocation</span></code> entities.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity_type</strong> – a Shotgun entity type</p></li>
<li><p><strong>entity_id</strong> – a Shotgun entity id</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Matching file paths</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of strings.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Sgtk.entity_from_path">
<span class="sig-name descname"><span class="pre">entity_from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#Sgtk.entity_from_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Sgtk.entity_from_path" title="Permalink to this definition"></a></dt>
<dd><p>Returns the shotgun entity associated with a path.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only paths that have been generated by <a class="reference internal" href="#sgtk.Sgtk.create_filesystem_structure" title="sgtk.Sgtk.create_filesystem_structure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_filesystem_structure()</span></code></a> will
be returned. Such paths are stored in Shotgun as <code class="docutils literal notranslate"><span class="pre">FilesystemLocation</span></code> entities.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> – A path to a folder or file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Shotgun dictionary containing name, type and id or None
if no path was associated.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Sgtk.context_empty">
<span class="sig-name descname"><span class="pre">context_empty</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#Sgtk.context_empty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Sgtk.context_empty" title="Permalink to this definition"></a></dt>
<dd><p>Factory method that constructs an empty Context object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Sgtk.context_from_path">
<span class="sig-name descname"><span class="pre">context_from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">previous_context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#Sgtk.context_from_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Sgtk.context_from_path" title="Permalink to this definition"></a></dt>
<dd><p>Factory method that constructs a context object from a path on disk.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you’re running this method on a render farm or on a machine where the
path cache may not have already been generated then you will need to run
<a class="reference internal" href="#sgtk.Sgtk.synchronize_filesystem_structure" title="sgtk.Sgtk.synchronize_filesystem_structure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">synchronize_filesystem_structure()</span></code></a> beforehand, otherwise you will
get back a context only containing the shotgun site URL.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – a file system path</p></li>
<li><p><strong>previous_context</strong> (<a class="reference internal" href="#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – A context object to use to try to automatically extend the generated
context if it is incomplete when extracted from the path. For example,
the Task may be carried across from the previous context if it is
suitable and if the task wasn’t already expressed in the file system
path passed in via the path argument.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Sgtk.context_from_entity">
<span class="sig-name descname"><span class="pre">context_from_entity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#Sgtk.context_from_entity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Sgtk.context_from_entity" title="Permalink to this definition"></a></dt>
<dd><p>Factory method that constructs a context object from a Shotgun entity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity_type</strong> – The name of the entity type.</p></li>
<li><p><strong>entity_id</strong> – Shotgun id of the entity upon which to base the context.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Sgtk.context_from_entity_dictionary">
<span class="sig-name descname"><span class="pre">context_from_entity_dictionary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_dictionary</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#Sgtk.context_from_entity_dictionary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Sgtk.context_from_entity_dictionary" title="Permalink to this definition"></a></dt>
<dd><p>Derives a context from a shotgun entity dictionary. This will try to use any
linked information available in the dictionary where possible but if it can’t
determine a valid context then it will fall back to <a class="reference internal" href="#sgtk.Sgtk.context_from_entity" title="sgtk.Sgtk.context_from_entity"><code class="xref py py-meth docutils literal notranslate"><span class="pre">context_from_entity()</span></code></a> which
may result in a Shotgun path cache query and be considerably slower.</p>
<p>The following values for <code class="docutils literal notranslate"><span class="pre">entity_dictionary</span></code> will result in a context being
created without falling back to a potential Shotgun query - each entity in the
dictionary (including linked entities) must have the fields: ‘type’, ‘id’ and
‘name’ (or the name equivalent for specific entity types, e.g. ‘content’ for
Step entities, ‘code’ for Shot entities, etc.):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Project&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;My Project&quot;</span><span class="p">}</span>

<span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Shot&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">456</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;Shot 001&quot;</span><span class="p">,</span>
 <span class="s2">&quot;project&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Project&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;My Project&quot;</span><span class="p">}</span>
<span class="p">}</span>

<span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Task&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">789</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Animation&quot;</span><span class="p">,</span>
 <span class="s2">&quot;project&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Project&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;My Project&quot;</span><span class="p">}</span>
 <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Shot&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">456</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Shot 001&quot;</span><span class="p">}</span>
 <span class="s2">&quot;step&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Step&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">101112</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Anm&quot;</span><span class="p">}</span>
<span class="p">}</span>

<span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;PublishedFile&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;asset.ma&quot;</span><span class="p">,</span>
 <span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nb">type</span><span class="s2">&quot;: &quot;</span><span class="n">Task</span><span class="s2">&quot;, &quot;</span><span class="nb">id</span><span class="s2">&quot;: 789, &quot;</span><span class="n">content</span><span class="s2">&quot;: &quot;</span><span class="n">Animation</span><span class="s2">&quot;}</span>
 <span class="s2">&quot;project&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Project&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;My Project&quot;</span><span class="p">}</span>
 <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Shot&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">456</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Shot 001&quot;</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The following values for <code class="docutils literal notranslate"><span class="pre">entity_dictionary</span></code> don’t contain enough information to
fully form a context so the code will fall back to <a class="reference internal" href="#sgtk.Sgtk.context_from_entity" title="sgtk.Sgtk.context_from_entity"><code class="xref py py-meth docutils literal notranslate"><span class="pre">context_from_entity()</span></code></a> which
may then result in a Shotgun query to retrieve the missing information:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># missing project name</span>
<span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Project&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">}</span>

<span class="c1"># missing linked project</span>
<span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Shot&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">456</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;Shot 001&quot;</span><span class="p">}</span>

<span class="c1"># missing linked project name and linked step</span>
<span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Task&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">789</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Animation&quot;</span><span class="p">,</span>
 <span class="s2">&quot;project&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Project&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">}}</span>
 <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Shot&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">456</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Shot 001&quot;</span><span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Missing publish name.</span>
<span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;PublishedFile&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
 <span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nb">type</span><span class="s2">&quot;: &quot;</span><span class="n">Task</span><span class="s2">&quot;, &quot;</span><span class="nb">id</span><span class="s2">&quot;: 789, &quot;</span><span class="n">content</span><span class="s2">&quot;: &quot;</span><span class="n">Animation</span><span class="s2">&quot;}</span>
 <span class="s2">&quot;project&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Project&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;My Project&quot;</span><span class="p">}</span>
 <span class="s2">&quot;entity&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Shot&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">456</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Shot 001&quot;</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>entity_dictionary</strong> – A Shotgun entity dictionary containing at least ‘type’
and ‘id’. See examples above.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Sgtk.synchronize_filesystem_structure">
<span class="sig-name descname"><span class="pre">synchronize_filesystem_structure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">full_sync</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#Sgtk.synchronize_filesystem_structure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Sgtk.synchronize_filesystem_structure" title="Permalink to this definition"></a></dt>
<dd><p>Ensures that the filesystem structure on this machine is in sync
with Shotgun. This synchronization is implicitly carried out as part of the
normal folder creation process, however sometimes it is useful to
be able to call it on its own.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>That this method is equivalent to the <strong>synchronize_folders</strong> tank command.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>full_sync</strong> – If set to true, a complete sync will be carried out.
By default, the sync is incremental.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of folders that were synchronized.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Sgtk.create_filesystem_structure">
<span class="sig-name descname"><span class="pre">create_filesystem_structure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#Sgtk.create_filesystem_structure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Sgtk.create_filesystem_structure" title="Permalink to this definition"></a></dt>
<dd><p>Create folders and associated data on disk to reflect branches in the project
tree related to a specific entity.</p>
<p>It is possible to set up folder creation so that it happens in two passes -
a primary pass and a deferred pass. Typically, the primary pass is used to
create the high level folder structure and the deferred is executed just before
launching an application environment. It can be used to create application specific
folders or to create a user workspace based on the user launching the application. By
setting the optional engine parameter to a string value (typically the engine name, for
example <code class="docutils literal notranslate"><span class="pre">tk-maya</span></code>) you can indicate to the system that it should trigger the deferred
pass and recurse down in the part of the configuration that has been marked as being
deferred in the configuration.</p>
<p>Note that this is just a string following a convention - typically, we recommend
that an engine name (e.g. ‘tk-nuke’) is passed in, however all this method is doing
is to relay this string on to the folder creation (schema) setup so that it is
compared with any deferred entries there. In case of a match, the folder creation
will recurse down into the subtree marked as deferred.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity_type</strong> – Shotgun entity type</p></li>
<li><p><strong>entity_id</strong> – Shotgun id</p></li>
<li><p><strong>engine</strong> – Optional engine name to indicate that a second, engine specific
folder creation pass should be executed for a particular engine.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of folders processed</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Sgtk.preview_filesystem_structure">
<span class="sig-name descname"><span class="pre">preview_filesystem_structure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">engine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#Sgtk.preview_filesystem_structure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Sgtk.preview_filesystem_structure" title="Permalink to this definition"></a></dt>
<dd><p>Previews folders that would be created by <a class="reference internal" href="#sgtk.Sgtk.create_filesystem_structure" title="sgtk.Sgtk.create_filesystem_structure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_filesystem_structure()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity_type</strong> – Shotgun entity type</p></li>
<li><p><strong>entity_id</strong> – Shotgun id</p></li>
<li><p><strong>engine</strong> (<em>String.</em>) – Optional engine name to indicate that a second, engine specific
folder creation pass should be executed for a particular engine.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of paths that would be created</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<section id="authentication">
<h3>Authentication<a class="headerlink" href="#authentication" title="Permalink to this heading"></a></h3>
<p>Certain API operations require Flow Production Tracking data and hence require a way for the API
to establish a connection to Flow Production Tracking. The easiest way to handle this is by
making sure that each API instance has an associated authenticated user:</p>
<dl class="py function">
<dt class="sig sig-object py" id="sgtk.set_authenticated_user">
<span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">set_authenticated_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#set_authenticated_user"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.set_authenticated_user" title="Permalink to this definition"></a></dt>
<dd><p>Sets the currently authenticated Shotgun user for the current toolkit session.</p>
<p>You instruct the Toolkit API which user the current session is associated with by executing
this command. Conversely, you can use <a class="reference internal" href="#sgtk.get_authenticated_user" title="sgtk.get_authenticated_user"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_authenticated_user()</span></code></a> to retrieve the current user.
The user object above is created by the <code class="docutils literal notranslate"><span class="pre">sgtk.authentication</span></code> part of the API and wraps around the Shotgun
API to provide a continuous and configurable experience around user based Shotgun connections.</p>
<p>Normally, Toolkit handles this transparently as part of setting up the <cite>sgtk</cite> instance and there is no need
to call this method. However, if you are running a custom tool which has particular requirements
around authentication, you can provide your own logic if desirable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user</strong> – A <a class="reference internal" href="authentication.html#sgtk.authentication.ShotgunUser" title="sgtk.authentication.ShotgunUser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunUser</span></code></a> derived object. Can
be None to clear the authenticated user.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.get_authenticated_user">
<span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">get_authenticated_user</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#get_authenticated_user"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.get_authenticated_user" title="Permalink to this definition"></a></dt>
<dd><p>Returns the Shotgun user associated with Toolkit.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="authentication.html#sgtk.authentication.ShotgunUser" title="sgtk.authentication.ShotgunUser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ShotgunUser</span></code></a> derived object if set,
None otherwise.</p>
</dd>
</dl>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a class="reference internal" href="#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a> serializes the authentication state, so if you are passing a context
from one process or application to the next, you don’t need to utilize the methods above.</p>
</div>
</section>
<section id="pipeline-configuration-utilities">
<h3>Pipeline Configuration Utilities<a class="headerlink" href="#pipeline-configuration-utilities" title="Permalink to this heading"></a></h3>
<p>It is possible to enquiry about the location of various components of the pipeline configuration and
the currently running version of the Toolkit Core.</p>
<dl class="py function">
<dt class="sig sig-object py" id="sgtk.get_core_python_path_for_config">
<span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">get_core_python_path_for_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pipeline_config_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/pipelineconfig_utils.html#get_core_python_path_for_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.get_core_python_path_for_config" title="Permalink to this definition"></a></dt>
<dd><p>Returns the location of the Toolkit library associated with the given pipeline configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pipeline_config_path</strong> – path to a pipeline configuration</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Path to location where the Toolkit Python library associated with the config resides.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.get_sgtk_module_path">
<span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">get_sgtk_module_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/pipelineconfig_utils.html#get_sgtk_module_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.get_sgtk_module_path" title="Permalink to this definition"></a></dt>
<dd><p>Returns the path to <code class="docutils literal notranslate"><span class="pre">sgtk</span></code> module. This path can be used by another process to update its
<code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> and use the same <code class="docutils literal notranslate"><span class="pre">sgtk</span></code> module as the process invoking this method.</p>
<p>For example, if the Toolkit core was installed at
<code class="docutils literal notranslate"><span class="pre">/home/user/.shotgun/bundle_cache/app_store/tk-core/v0.18.94</span></code>, the method would return
<code class="docutils literal notranslate"><span class="pre">/home/user/.shotgun/bundle_cache/app_store/tk-core/v0.18.94/python</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method can be invoked for cores that are part of a pipeline configuration, that
lives inside the bundle cache or a development copy of the core.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Path to the <code class="docutils literal notranslate"><span class="pre">sgtk</span></code> module on disk.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.get_python_interpreter_for_config">
<span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">get_python_interpreter_for_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pipeline_config_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/pipelineconfig_utils.html#get_python_interpreter_for_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.get_python_interpreter_for_config" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves the path to the Python interpreter for a given pipeline configuration
path.</p>
<p>Each pipeline configuration has three (one for Windows, one for macOS and one for Linux) interpreter
files that provide a path to the Python interpreter used to launch the <code class="docutils literal notranslate"><span class="pre">tank</span></code>
command.</p>
<p>If you require a <cite>python</cite> executable to launch a script that will use a pipeline configuration, it is
recommended its associated Python interpreter.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version v0.18.94: </span>You can now access the content of the <code class="docutils literal notranslate"><span class="pre">interpreter_*.yml</span></code>
through the <code class="xref py py-meth docutils literal notranslate"><span class="pre">ConfigDescriptor.python_interpreter()</span></code> property.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">engine</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">current_engine</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">descriptor</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">sgtk</span><span class="o">.</span><span class="n">configuration_descriptor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">descriptor</span><span class="o">.</span><span class="n">python_interpreter</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pipeline_config_path</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Path to the pipeline configuration root.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Path to the Python interpreter for that configuration.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="descriptor.html#sgtk.descriptor.TankInvalidInterpreterLocationError" title="sgtk.descriptor.TankInvalidInterpreterLocationError"><strong>TankInvalidInterpreterLocationError</strong></a> – Raised if the interpreter in the interpreter file doesn’t
exist.</p></li>
<li><p><a class="reference internal" href="#sgtk.TankFileDoesNotExistError" title="sgtk.TankFileDoesNotExistError"><strong>TankFileDoesNotExistError</strong></a> – Raised if the interpreter file can’t be found.</p></li>
<li><p><a class="reference internal" href="#sgtk.TankNotPipelineConfigurationError" title="sgtk.TankNotPipelineConfigurationError"><strong>TankNotPipelineConfigurationError</strong></a> – Raised if the pipeline configuration path is not
a pipeline configuration.</p></li>
<li><p><a class="reference internal" href="#sgtk.TankInvalidCoreLocationError" title="sgtk.TankInvalidCoreLocationError"><strong>TankInvalidCoreLocationError</strong></a> – Raised if the core location specified in core_xxxx.cfg
does not exist.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="context">
<h2>Context<a class="headerlink" href="#context" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.Context">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">Context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_entities</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_entity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/context.html#Context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Context" title="Permalink to this definition"></a></dt>
<dd><p>A context instance is used to collect a set of key fields describing the
current Context. We sometimes refer to the context as the current work area.
Typically this would be the current shot or asset that someone is working on.</p>
<p>The context captures the current point in both shotgun and the file system and context
objects are launch a toolkit engine via the <a class="reference internal" href="platform.html#sgtk.platform.start_engine" title="sgtk.platform.start_engine"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk.platform.start_engine()</span></code></a>
method. The context points the engine to a particular
point in shotgun and on disk - it could be something as detailed as a task inside a Shot,
and something as vague as an empty context.</p>
<p>The context is split up into several levels of granularity, reflecting the
fundamental hierarchy of Shotgun itself.</p>
<ul class="simple">
<li><p>The project level defines which shotgun project the context reflects.</p></li>
<li><p>The entity level defines which entity the context reflects. For example,
this may be a Shot or an Asset. Note that in the case of a Shot, the context
does not contain any direct information of which sequence the shot is linked to,
however the context can still resolve such relationships implicitly if needed -
typically via the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Context.as_context_fields()</span></code> method.</p></li>
<li><p>The step level defines the current pipeline step. This is often a reflection of a
department or a general step in a workflow or pipeline (e.g. Modeling, Rigging).</p></li>
<li><p>The task level defines a current Shotgun task.</p></li>
<li><p>The user level defines the current user.</p></li>
</ul>
<p>The data forms a hierarchy, so implicitly, the task belongs to the entity which in turn
belongs to the project. The exception to this is the user, which simply reflects the
currently operating user.</p>
<p>Context objects are not constructed by hand but are fabricated by the
methods <a class="reference internal" href="#sgtk.Sgtk.context_from_entity" title="sgtk.Sgtk.context_from_entity"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sgtk.context_from_entity()</span></code></a>, <a class="reference internal" href="#sgtk.Sgtk.context_from_entity_dictionary" title="sgtk.Sgtk.context_from_entity_dictionary"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sgtk.context_from_entity_dictionary()</span></code></a>
and <a class="reference internal" href="#sgtk.Sgtk.context_from_path" title="sgtk.Sgtk.context_from_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sgtk.context_from_path()</span></code></a>.</p>
<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Context.project">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">project</span></span><a class="headerlink" href="#sgtk.Context.project" title="Permalink to this definition"></a></dt>
<dd><p>The shotgun project associated with this context.</p>
<p>If the context is incomplete, it is possible that the property is None. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">context_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project/sequences/AAA/ABC/Light/work&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span><span class="o">.</span><span class="n">project</span>
<span class="go">{&#39;type&#39;: &#39;Project&#39;, &#39;id&#39;: 4, &#39;name&#39;: &#39;demo_project&#39;}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A std shotgun link dictionary with keys id, type and name, or None if not defined</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Context.entity">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">entity</span></span><a class="headerlink" href="#sgtk.Context.entity" title="Permalink to this definition"></a></dt>
<dd><p>The shotgun entity associated with this context.</p>
<p>If the context is incomplete, it is possible that the property is None. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">context_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project/sequences/AAA/ABC/Light/work&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span><span class="o">.</span><span class="n">entity</span>
<span class="go">{&#39;type&#39;: &#39;Shot&#39;, &#39;id&#39;: 412, &#39;name&#39;: &#39;ABC&#39;}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A std shotgun link dictionary with keys id, type and name, or None if not defined</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Context.source_entity">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">source_entity</span></span><a class="headerlink" href="#sgtk.Context.source_entity" title="Permalink to this definition"></a></dt>
<dd><p>The Shotgun entity that was used to construct this Context.</p>
<p>This is not necessarily the same as the context’s “entity”, as there
are situations where a context is interpreted from an input entity,
such as when a PublishedFile entity is used to determine a context. In
that case, the original PublishedFile becomes the source_entity, and
project, entity, task, and step are determined by what the
PublishedFile entity is linked to. A specific example of where this is
useful is in a pick_environment core hook. In that hook, an environment
is determined based on a provided Context object. In the case where we want
to provide a specific environment for a Context built from a PublishedFile
entity, the context’s source_entity can be used to know for certain that it
was constructured from a PublishedFile.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Shotgun entity dictionary.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Context.step">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">step</span></span><a class="headerlink" href="#sgtk.Context.step" title="Permalink to this definition"></a></dt>
<dd><p>The shotgun step associated with this context.</p>
<p>If the context is incomplete, it is possible that the property is None. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">context_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project/sequences/AAA/ABC/Light/work&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span><span class="o">.</span><span class="n">step</span>
<span class="go">{&#39;type&#39;: &#39;Step&#39;, &#39;id&#39;: 12, &#39;name&#39;: &#39;Light&#39;}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A std shotgun link dictionary with keys id, type and name, or None if not defined</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Context.task">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">task</span></span><a class="headerlink" href="#sgtk.Context.task" title="Permalink to this definition"></a></dt>
<dd><p>The shotgun task associated with this context.</p>
<p>If the context is incomplete, it is possible that the property is None. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">context_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project/sequences/AAA/ABC/Lighting/first_pass_lgt/work&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span><span class="o">.</span><span class="n">task</span>
<span class="go">{&#39;type&#39;: &#39;Task&#39;, &#39;id&#39;: 212, &#39;name&#39;: &#39;first_pass_lgt&#39;}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A std shotgun link dictionary with keys id, type and name, or None if not defined</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Context.user">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">user</span></span><a class="headerlink" href="#sgtk.Context.user" title="Permalink to this definition"></a></dt>
<dd><p>A property which holds the user associated with this context.
If the context is incomplete, it is possible that the property is None.</p>
<p>The user property is special - either it represents a user value that was baked
into a template path upon folder creation, or it represents the current user:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">context_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project/sequences/AAA/ABC/Lighting/dirk.gently/work&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span><span class="o">.</span><span class="n">user</span>
<span class="go">{&#39;type&#39;: &#39;HumanUser&#39;, &#39;id&#39;: 23, &#39;name&#39;: &#39;Dirk Gently&#39;}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A std shotgun link dictionary with keys id, type and name, or None if not defined</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Context.additional_entities">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">additional_entities</span></span><a class="headerlink" href="#sgtk.Context.additional_entities" title="Permalink to this definition"></a></dt>
<dd><p>List of entities that are required to provide a full context in non-standard configurations.
The “context_additional_entities” core hook gives the context construction code hints about how
this data should be populated.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is an old and advanced option and may be deprecated in the future. We strongly
recommend not using it.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of std shotgun link dictionaries.
Will be an empty list in most cases.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Context.entity_locations">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">entity_locations</span></span><a class="headerlink" href="#sgtk.Context.entity_locations" title="Permalink to this definition"></a></dt>
<dd><p>A list of paths on disk which correspond to the <strong>entity</strong> which this context represents.
If no folders have been created for this context yet, the value of this property will be an empty list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">context_from_entity</span><span class="p">(</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span><span class="o">.</span><span class="n">entity_locations</span>
<span class="go">[&#39;/studio.08/demo_project/sequences/AAA/ABC&#39;]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of paths</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Context.shotgun_url">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shotgun_url</span></span><a class="headerlink" href="#sgtk.Context.shotgun_url" title="Permalink to this definition"></a></dt>
<dd><p>Returns the shotgun detail page url that best represents this context. Depending on
the context, this may be a task, a shot, an asset or a project. If the context is
completely empty, the root url of the associated shotgun installation is returned.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">context_from_entity</span><span class="p">(</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span><span class="o">.</span><span class="n">shotgun_url</span>
<span class="go">&#39;https://mystudio.shotgunstudio.com/detail/Task/8&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Context.filesystem_locations">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">filesystem_locations</span></span><a class="headerlink" href="#sgtk.Context.filesystem_locations" title="Permalink to this definition"></a></dt>
<dd><p>A property which holds a list of paths on disk which correspond to this context.
If no folders have been created for this context yet, the value of this property will be an empty list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">context_from_entity</span><span class="p">(</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span><span class="o">.</span><span class="n">filesystem_locations</span>
<span class="go">[&#39;/studio.08/demo_project/sequences/AAA/ABC/light/initial_pass&#39;]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of paths</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Context.sgtk">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sgtk</span></span><a class="headerlink" href="#sgtk.Context.sgtk" title="Permalink to this definition"></a></dt>
<dd><p>The Toolkit API instance associated with this context</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sgtk</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Context.as_template_fields">
<span class="sig-name descname"><span class="pre">as_template_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/context.html#Context.as_template_fields"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Context.as_template_fields" title="Permalink to this definition"></a></dt>
<dd><p>Returns the context object as a dictionary of template fields.</p>
<p>This is useful if you want to use a Context object as part of a call to
the Sgtk API. In order for the system to pass suitable values, you need to
pass the template you intend to use the data with as a parameter to this method.
The values are derived from existing paths on disk, or in the case of keys with
shotgun_entity_type and shotgun_entity_field settings, direct queries to the Shotgun
server. The validate parameter can be used to ensure that the method returns all
context fields required by the template and if it can’t then a <a class="reference internal" href="#sgtk.TankError" title="sgtk.TankError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankError</span></code></a> will be raised.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project&quot;</span><span class="p">)</span>

<span class="go"># Create a template based on a path on disk. Because this path has been</span>
<span class="go"># generated through Toolkit&#39;s folder processing and there are corresponding</span>
<span class="go"># FilesystemLocation entities stored in Shotgun, the context can resolve</span>
<span class="go"># the path into a set of Shotgun entities.</span>
<span class="go">#</span>
<span class="go"># Note how the context object, once resolved, does not contain</span>
<span class="go"># any information about the sequence associated with the Shot.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">context_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project/sequences/AAA/ABC/Lighting/work&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span><span class="o">.</span><span class="n">project</span>
<span class="go">{&#39;type&#39;: &#39;Project&#39;, &#39;id&#39;: 4, &#39;name&#39;: &#39;demo_project&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span><span class="o">.</span><span class="n">entity</span>
<span class="go">{&#39;type&#39;: &#39;Shot&#39;, &#39;id&#39;: 2, &#39;name&#39;: &#39;ABC&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span><span class="o">.</span><span class="n">step</span>
<span class="go">{&#39;type&#39;: &#39;Step&#39;, &#39;id&#39;: 1, &#39;name&#39;: &#39;Light&#39;}</span>

<span class="go"># now if we have a template object that we want to turn into a path,</span>
<span class="go"># we can request that the context object attempts to resolve as many</span>
<span class="go"># fields as it can. These fields can then be plugged into the template</span>
<span class="go"># object to generate a path on disk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">templ</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">templates</span><span class="p">[</span><span class="s2">&quot;maya_shot_publish&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">templ</span>
<span class="go">&lt;Sgtk TemplatePath maya_shot_publish: sequences/{Sequence}/{Shot}/{Step}/publish/{name}.v{version}.ma&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">fields</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">as_template_fields</span><span class="p">(</span><span class="n">templ</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fields</span>
<span class="go">{&#39;Step&#39;: &#39;Lighting&#39;, &#39;Shot&#39;: &#39;ABC&#39;, &#39;Sequence&#39;: &#39;AAA&#39;}</span>

<span class="go"># the fields dictionary above contains all the &#39;high level&#39; data that is necessary to realise</span>
<span class="go"># the template path. An app or integration can now go ahead and populate the fields specific</span>
<span class="go"># for the app&#39;s business logic - in this case name and version - and resolve the fields dictionary</span>
<span class="go"># data into a path.</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>template</strong> – <a class="reference internal" href="#sgtk.Template" title="sgtk.Template"><code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code></a> for which the fields will be used.</p></li>
<li><p><strong>validate</strong> – If True then the fields found will be checked to ensure that all expected fields for
the context were found.  If a field is missing then a <a class="reference internal" href="#sgtk.TankError" title="sgtk.TankError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankError</span></code></a> will be raised</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary of template files representing the context. Handy to pass to for example
<a class="reference internal" href="#sgtk.Template.apply_fields" title="sgtk.Template.apply_fields"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Template.apply_fields()</span></code></a>.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sgtk.TankError" title="sgtk.TankError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankError</span></code></a> if the fields can’t be resolved for some reason or if ‘validate’ is True
and any of the context fields for the template weren’t found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Context.create_copy_for_user">
<span class="sig-name descname"><span class="pre">create_copy_for_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/context.html#Context.create_copy_for_user"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Context.create_copy_for_user" title="Permalink to this definition"></a></dt>
<dd><p>Provides the ability to create a copy of an existing Context for a specific user.</p>
<p>This is useful if you need to determine a user specific version of a path, e.g.
when copying files between different user sandboxes. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">context_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project/sequences/AAA/ABC/Lighting/dirk.gently/work&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span><span class="o">.</span><span class="n">user</span>
<span class="go">{&#39;type&#39;: &#39;HumanUser&#39;, &#39;id&#39;: 23, &#39;name&#39;: &#39;Dirk Gently&#39;}</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">copied_ctx</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">create_copy_for_user</span><span class="p">({</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;HumanUser&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;John Snow&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">copied_ctx</span><span class="o">.</span><span class="n">user</span>
<span class="go">{&#39;type&#39;: &#39;HumanUser&#39;, &#39;id&#39;: 23, &#39;name&#39;: &#39;John Snow&#39;}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user</strong> – The Shotgun user entity dictionary that should be set on the copied context</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Context.serialize">
<span class="sig-name descname"><span class="pre">serialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_user_credentials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_json</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/context.html#Context.serialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Context.serialize" title="Permalink to this definition"></a></dt>
<dd><p>Serializes the context into a string.</p>
<p>Any Context object can be serialized to/deserialized from a string.
This can be useful if you need to pass a Context between different processes.
As an example, the <code class="docutils literal notranslate"><span class="pre">tk-multi-launchapp</span></code> uses this mechanism to pass the Context
from the launch process (e.g. for example PTR desktop app) to the
Application (e.g. Maya) being launched. Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ctx</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">context_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project/sequences/AAA/ABC/Lighting/dirk.gently/work&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">context_str</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">serialize</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_ctx</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">Context</span><span class="o">.</span><span class="n">deserialize</span><span class="p">(</span><span class="n">context_str</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>with_user_credentials</strong> – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the currently authenticated user’s credentials, as
returned by <a class="reference internal" href="#sgtk.get_authenticated_user" title="sgtk.get_authenticated_user"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk.get_authenticated_user()</span></code></a>, will also be serialized with the context.</p></li>
<li><p><strong>use_json</strong> – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the context will be stored in the JSON representation
instead of using the pickled representation.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For example, credentials should be omitted (<code class="docutils literal notranslate"><span class="pre">with_user_credentials=False</span></code>) when
serializing the context from a user’s current session to send it to a render farm. By doing
so, invoking <a class="reference internal" href="#sgtk.Context.deserialize" title="sgtk.Context.deserialize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk.Context.deserialize()</span></code></a> on the render farm will only restore the
context and not the authenticated user.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>String representation</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Context.deserialize">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">deserialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/context.html#Context.deserialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Context.deserialize" title="Permalink to this definition"></a></dt>
<dd><p>The inverse of <a class="reference internal" href="#sgtk.Context.serialize" title="sgtk.Context.serialize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Context.serialize()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>context_str</strong> – String representation of context, created with <a class="reference internal" href="#sgtk.Context.serialize" title="sgtk.Context.serialize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Context.serialize()</span></code></a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the context was serialized with the user credentials, the currently authenticated
user will be updated with these credentials.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Context.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/context.html#Context.to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Context.to_dict" title="Permalink to this definition"></a></dt>
<dd><p>Converts the context into a dictionary with keys <code class="docutils literal notranslate"><span class="pre">project</span></code>,
<code class="docutils literal notranslate"><span class="pre">entity</span></code>, <code class="docutils literal notranslate"><span class="pre">user</span></code>, <code class="docutils literal notranslate"><span class="pre">step</span></code>, <code class="docutils literal notranslate"><span class="pre">task</span></code>, <code class="docutils literal notranslate"><span class="pre">additional_entities</span></code> and
<code class="docutils literal notranslate"><span class="pre">source_entity</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Contrary to <a class="reference internal" href="#sgtk.Context.serialize" title="sgtk.Context.serialize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Context.serialize()</span></code></a>, this method discards information
about the Toolkit instance associated with the context or the currently
authenticated user.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary representing the context.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Context.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/context.html#Context.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Context.from_dict" title="Permalink to this definition"></a></dt>
<dd><p>Converts a dictionary into a <a class="reference internal" href="#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a> object.</p>
<p>You should only pass in a dictionary that was created with the <a class="reference internal" href="#sgtk.Context.to_dict" title="sgtk.Context.to_dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Context.to_dict()</span></code></a>
method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – A dictionary generated from <a class="reference internal" href="#sgtk.Context.to_dict" title="sgtk.Context.to_dict"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Context.to_dict()</span></code></a>.</p></li>
<li><p><strong>tk</strong> (<a class="reference internal" href="#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sgtk</span></code></a>) – Toolkit instance to associate with the context.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A newly created <a class="reference internal" href="#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="commands">
<h2>Commands<a class="headerlink" href="#commands" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">tank</span></code> command offers a variety of system utility commands to handle for example upgrades,
administration and maintenance. These commands are also available to use via the API in order to
make it easy to integrate Toolkit maintenance workflows with other scriped workflows you may have
in your studio. The following commands can be used to manage and execute these functions:</p>
<section id="api-access-methods">
<h3>API access methods<a class="headerlink" href="#api-access-methods" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="sgtk.list_commands">
<span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">list_commands</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/commands/tank_command.html#list_commands"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.list_commands" title="Permalink to this definition"></a></dt>
<dd><p>Lists the system commands registered with the system.</p>
<p>If you leave the optional tk parameter as None, a list of
global commands will be returned. These commands can be executed
at any point and do not require a project or a configuration to
be present. Examples of such commands are the core upgrade
check and the setup_project commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sgtk</span><span class="o">.</span><span class="n">list_commands</span><span class="p">()</span>
<span class="go">[&#39;setup_project&#39;, &#39;core&#39;]</span>
</pre></div>
</div>
<p>If you do pass in a tk API handle (or alternatively use the
convenience method <a class="reference internal" href="#sgtk.Sgtk.list_commands" title="sgtk.Sgtk.list_commands"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sgtk.list_commands()</span></code></a>), all commands which
are available in the context of a project configuration will be returned.
This includes for example commands for configuration management,
anything app or engine related and validation and overview functionality.
In addition to these commands, the global commands will also be returned:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio/project_root&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span><span class="o">.</span><span class="n">list_commands</span><span class="p">()</span>
<span class="go">[&#39;setup_project&#39;, &#39;core&#39;, &#39;localize&#39;, &#39;validate&#39;, &#39;cache_apps&#39;, &#39;clear_cache&#39;,</span>
<span class="go"> &#39;app_info&#39;, &#39;install_app&#39;, &#39;install_engine&#39;, &#39;updates&#39;, &#39;configurations&#39;, &#39;clone_configuration&#39;]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tk</strong> (<a class="reference internal" href="#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sgtk</span></code></a>) – Optional Toolkit API instance</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>list of command names</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sgtk.get_command">
<span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">get_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/commands/tank_command.html#get_command"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.get_command" title="Permalink to this definition"></a></dt>
<dd><p>Returns an instance of a command object that can be used to execute a command.</p>
<p>Once you have retrieved the command instance, you can perform introspection to
check for example the required parameters for the command, name, description etc.
Lastly, you can execute the command by running the execute() method.</p>
<p>In order to get a list of the available commands, use the <a class="reference internal" href="#sgtk.list_commands" title="sgtk.list_commands"><code class="xref py py-meth docutils literal notranslate"><span class="pre">list_commands()</span></code></a> method.</p>
<p>Certain commands require a project configuration context in order to operate. This
needs to be passed on in the form of a toolkit API instance via the tk parameter.
See the list_command() documentation for more details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>command_name</strong> – Name of command to execute. Get a list of all available commands
using the <a class="reference internal" href="#sgtk.list_commands" title="sgtk.list_commands"><code class="xref py py-meth docutils literal notranslate"><span class="pre">list_commands()</span></code></a> method.</p></li>
<li><p><strong>tk</strong> (<a class="reference internal" href="#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sgtk</span></code></a>) – Optional Toolkit API instance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#sgtk.SgtkSystemCommand" title="sgtk.SgtkSystemCommand"><code class="xref py py-class docutils literal notranslate"><span class="pre">SgtkSystemCommand</span></code></a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="sgtksystemcommand">
<h3>SgtkSystemCommand<a class="headerlink" href="#sgtksystemcommand" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.SgtkSystemCommand">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">SgtkSystemCommand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">internal_action_object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tk</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/commands/tank_command.html#SgtkSystemCommand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.SgtkSystemCommand" title="Permalink to this definition"></a></dt>
<dd><p>Represents a toolkit system command.</p>
<p>You can use this object to introspect command properties such as
name, description, parameters etc. Execution is carried out by calling the <a class="reference internal" href="#sgtk.SgtkSystemCommand.execute" title="sgtk.SgtkSystemCommand.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute()</span></code></a> method.</p>
<p>For a global command which doesn’t require an active configuration,
execution typically looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">sgtk</span><span class="o">.</span><span class="n">list_commands</span><span class="p">()</span>
<span class="go">[&#39;setup_project&#39;, &#39;core&#39;]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">cmd</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">get_command</span><span class="p">(</span><span class="s2">&quot;core&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cmd</span>
<span class="go">&lt;tank.deploy.tank_command.SgtkSystemCommand object at 0x106d9f090&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">cmd</span><span class="o">.</span><span class="n">execute</span><span class="p">({})</span>
</pre></div>
</div>
<p>Instances should be constructed using the <a class="reference internal" href="#sgtk.get_command" title="sgtk.get_command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_command()</span></code></a> factory method.</p>
<dl class="py property">
<dt class="sig sig-object py" id="sgtk.SgtkSystemCommand.parameters">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parameters</span></span><a class="headerlink" href="#sgtk.SgtkSystemCommand.parameters" title="Permalink to this definition"></a></dt>
<dd><p>The different parameters that needs to be specified and if a
parameter has any default values. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span> <span class="s2">&quot;parameter_name&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Parameter info&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;str&quot;</span> <span class="p">},</span>

 <span class="o">...</span>

 <span class="s2">&quot;return_value&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Return value (optional)&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;str&quot;</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.SgtkSystemCommand.description">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">description</span></span><a class="headerlink" href="#sgtk.SgtkSystemCommand.description" title="Permalink to this definition"></a></dt>
<dd><p>A brief description of this command.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.SgtkSystemCommand.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#sgtk.SgtkSystemCommand.name" title="Permalink to this definition"></a></dt>
<dd><p>The name of this command.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.SgtkSystemCommand.category">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">category</span></span><a class="headerlink" href="#sgtk.SgtkSystemCommand.category" title="Permalink to this definition"></a></dt>
<dd><p>The category for this command. This is typically a short string like “Admin”.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.SgtkSystemCommand.logger">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">logger</span></span><a class="headerlink" href="#sgtk.SgtkSystemCommand.logger" title="Permalink to this definition"></a></dt>
<dd><p>The python <a class="reference external" href="https://docs.python.org/3.9/library/logging.html#logging.Logger" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Logger</span></code></a> associated with this tank command</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.SgtkSystemCommand.set_logger">
<span class="sig-name descname"><span class="pre">set_logger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/commands/tank_command.html#SgtkSystemCommand.set_logger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.SgtkSystemCommand.set_logger" title="Permalink to this definition"></a></dt>
<dd><p>Specify a standard python log instance to send logging output to.
If this is not specify, the standard output mechanism will be used.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>We strongly recommend using the <a class="reference internal" href="#sgtk.SgtkSystemCommand.logger" title="sgtk.SgtkSystemCommand.logger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">logger()</span></code></a> property
to retrieve the default logger for the tank command
and attaching a handler to this rather than passing in
an explicit log object via this method. This method
may be deprecated at some point in the future.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>log</strong> – Standard python logging instance</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.SgtkSystemCommand.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interaction_interface</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/commands/tank_command.html#SgtkSystemCommand.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.SgtkSystemCommand.execute" title="Permalink to this definition"></a></dt>
<dd><p>Execute this command.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> – dictionary of parameters to pass to this command.
the dictionary key is the name of the parameter and the value
is the value you want to pass. You can query which parameters
can be passed in via the parameters property.</p></li>
<li><p><strong>interaction_interface</strong> – Optional interaction interface. This will be used
whenever the command needs to interact with the user. Should be an
instance deriving from <a class="reference internal" href="#sgtk.CommandInteraction" title="sgtk.CommandInteraction"><code class="xref py py-class docutils literal notranslate"><span class="pre">CommandInteraction</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Whatever the command returns. Data type and description for the return
value can be introspected via the <a class="reference internal" href="#sgtk.SgtkSystemCommand.parameters" title="sgtk.SgtkSystemCommand.parameters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parameters()</span></code></a> property.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.SgtkSystemCommand.terminate">
<span class="sig-name descname"><span class="pre">terminate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/commands/tank_command.html#SgtkSystemCommand.terminate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.SgtkSystemCommand.terminate" title="Permalink to this definition"></a></dt>
<dd><p>Instructs the command to attempt to terminate its execution.
Not all commands are able to terminate and execution normally
does not terminate straight away.</p>
</dd></dl>

</dd></dl>

</section>
<section id="commandinteraction">
<h3>CommandInteraction<a class="headerlink" href="#commandinteraction" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.CommandInteraction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">CommandInteraction</span></span><a class="reference internal" href="_modules/tank/commands/interaction.html#CommandInteraction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.CommandInteraction" title="Permalink to this definition"></a></dt>
<dd><p>Base class interface for tank command interaction.
This can be subclassed in order to provide a custom
interaction environment when running commands in
API mode.</p>
<p>In order to override the built-in interaction behavior,
pass an instance of a command interaction class to
the <a class="reference internal" href="#sgtk.SgtkSystemCommand.execute" title="sgtk.SgtkSystemCommand.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk.SgtkSystemCommand.execute()</span></code></a> method.</p>
<dl class="py property">
<dt class="sig sig-object py" id="sgtk.CommandInteraction.supports_interaction">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">supports_interaction</span></span><a class="headerlink" href="#sgtk.CommandInteraction.supports_interaction" title="Permalink to this definition"></a></dt>
<dd><p>True if interaction is supported, false if not.
Implementations returning <code class="docutils literal notranslate"><span class="pre">False</span></code> here typically
implement other methods by returning default values
without prompting the user for feedback.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.CommandInteraction.request_input">
<span class="sig-name descname"><span class="pre">request_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/commands/interaction.html#CommandInteraction.request_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.CommandInteraction.request_input" title="Permalink to this definition"></a></dt>
<dd><p>Request general input from the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Message to display</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Information entered by user.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.CommandInteraction.ask_yn_question">
<span class="sig-name descname"><span class="pre">ask_yn_question</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/commands/interaction.html#CommandInteraction.ask_yn_question"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.CommandInteraction.ask_yn_question" title="Permalink to this definition"></a></dt>
<dd><p>Prompts the user with a yes/no question.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Message to display</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if user selects yes, false if no.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.CommandInteraction.ask_yna_question">
<span class="sig-name descname"><span class="pre">ask_yna_question</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_prompt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/commands/interaction.html#CommandInteraction.ask_yna_question"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.CommandInteraction.ask_yna_question" title="Permalink to this definition"></a></dt>
<dd><p>Prompts the user with a yes/no/always question.</p>
<p>Always means that further calls to this method will return True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Message to display</p></li>
<li><p><strong>force_prompt</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Force a prompt, even if always
has been selected in the past.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if user selects yes, false if no.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="hooks">
<span id="sgtk-hook-docs"></span><h2>Hooks<a class="headerlink" href="#hooks" title="Permalink to this heading"></a></h2>
<p>Hooks are snippets of code that can be customized as part of the configuration of a Toolkit app,
engine or core itself. You can use hooks with the Core API (we call those core hooks) and with
apps and engines. Hooks are a central concept in the configuration of Toolkit. We use hooks whenever
there is a need to expose code and allow it to be customized. Examples
of when this is useful is Disk I/O, launching of applications, DCC-specific logic and permissions control.</p>
<section id="hook">
<h3>Hook<a class="headerlink" href="#hook" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.Hook">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">Hook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/hook.html#Hook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Hook" title="Permalink to this definition"></a></dt>
<dd><p>Hooks are implemented in a python file and they all derive from a <a class="reference internal" href="#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a> base class.</p>
<p>If you are writing an app that loads files into Maya, Nuke or other DCCs, a hook is a good
way to expose the actual loading logic, so that not only can be customized by a user, but
so that you could even add support for a new DCC to your load app without having to update it.</p>
<p>First, you would create a <code class="docutils literal notranslate"><span class="pre">hooks/actions.py</span></code> file in your app. This would contain a hook class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="n">HookBaseClass</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">get_hook_baseclass</span><span class="p">()</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Actions</span><span class="p">(</span><span class="n">HookBaseClass</span><span class="p">):</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sg_publish_data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Given some Shotgun publish data, return a list of</span>
<span class="sd">        actions that can be performed</span>

<span class="sd">        :param sg_publish_data: Dictionary of publish data from Shotgun</span>
<span class="sd">        :returns: List of action strings</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># The base implementation implements an action to show</span>
        <span class="c1"># the item in Shotgun</span>
        <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;show_in_sg&quot;</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">sg_publish_data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Execute the given action</span>

<span class="sd">        :param action: name of action. One of the items returned by list_actions.</span>
<span class="sd">        :param sg_publish_data: Dictionary of publish data from Shotgun</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">action</span> <span class="o">==</span> <span class="s2">&quot;show_in_sg&quot;</span><span class="p">:</span>

            <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">/detail/</span><span class="si">%s</span><span class="s2">/</span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">shotgun</span><span class="o">.</span><span class="n">base_url</span><span class="p">,</span>
                <span class="n">sg_publish_data</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">],</span>
                <span class="n">sg_publish_data</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span>
                <span class="p">)</span>
            <span class="n">QtGui</span><span class="o">.</span><span class="n">QDesktopServices</span><span class="o">.</span><span class="n">openUrl</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QUrl</span><span class="p">(</span><span class="n">url</span><span class="p">))</span>
</pre></div>
</div>
<p>The above code forms a generic base for your hook with a basic implementation that works
everywhere.</p>
<p>In the app manifest (<code class="docutils literal notranslate"><span class="pre">info.yml</span></code>), where we define all the basic configuration properties for the app,
we define an actions hook:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">configuration</span><span class="p">:</span>

    <span class="n">actions_hook</span><span class="p">:</span>
        <span class="nb">type</span><span class="p">:</span> <span class="n">hook</span>
        <span class="n">default_value</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{self}</span><span class="s2">/actions.py&quot;</span>
        <span class="n">description</span><span class="p">:</span> <span class="n">Hook</span> <span class="n">which</span> <span class="n">contains</span> <span class="nb">all</span> <span class="n">methods</span> <span class="k">for</span> <span class="n">action</span> <span class="n">management</span><span class="o">.</span>
</pre></div>
</div>
<p>From the app code itself, you can now use <a class="reference internal" href="platform.html#sgtk.platform.Application.execute_hook_method" title="sgtk.platform.Application.execute_hook_method"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute_hook_method()</span></code></a>
to call out to the hook:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># when creating a list of items in the UI for your app -</span>
<span class="c1"># given a shotgun publish, build a menu of avaialable actions:</span>
<span class="n">actions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute_hook_method</span><span class="p">(</span><span class="s2">&quot;actions_hook&quot;</span><span class="p">,</span> <span class="s2">&quot;list_actions&quot;</span><span class="p">,</span> <span class="n">sg_data</span><span class="p">)</span>

<span class="c1"># in a callback method once a user has selected an action -</span>
<span class="c1"># call out to the hook to execute the action</span>
<span class="bp">self</span><span class="o">.</span><span class="n">execute_hook_method</span><span class="p">(</span><span class="s2">&quot;actions_hook&quot;</span><span class="p">,</span> <span class="s2">&quot;run_action&quot;</span><span class="p">,</span> <span class="n">action_name</span><span class="p">,</span> <span class="n">sg_data</span><span class="p">)</span>
</pre></div>
</div>
<p>In the configuration for your app, you can now ‘glue together’ different functionality
for different scenarios. For example, when you install the app to run inside the Maya
engine, you want to be able to import maya files into maya. We implement this by adding a
custom publish hook for maya. This can either be placed with the app itself, in the <code class="docutils literal notranslate"><span class="pre">hooks</span></code>
folder in the configuration, or in the maya engine. In this case, we’ll add a <code class="docutils literal notranslate"><span class="pre">hooks/actions.py</span></code>
to the maya engine. This file looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="n">HookBaseClass</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">get_hook_baseclass</span><span class="p">()</span>

<span class="k">class</span><span class="w"> </span><span class="nc">MayaActions</span><span class="p">(</span><span class="n">HookBaseClass</span><span class="p">):</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">list_actions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sg_publish_data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Given some Shotgun publish data, return a list of</span>
<span class="sd">        actions that can be performed</span>

<span class="sd">        :param sg_publish_data: Dictionary of publish data from Shotgun</span>
<span class="sd">        :returns: List of action strings</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># first get base class actions</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="n">HookBaseClass</span><span class="o">.</span><span class="n">list_actions</span><span class="p">(</span><span class="n">sg_publish_data</span><span class="p">)</span>

        <span class="c1"># Add maya actions</span>
        <span class="k">if</span> <span class="n">sg_publish_data</span><span class="p">[</span><span class="s2">&quot;published_file_type&quot;</span><span class="p">][</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Maya Scene&quot;</span><span class="p">:</span>
            <span class="n">actions</span> <span class="o">+=</span> <span class="p">[</span><span class="s2">&quot;reference&quot;</span><span class="p">,</span> <span class="s2">&quot;import&quot;</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">run_action</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">sg_publish_data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Execute the given action</span>

<span class="sd">        :param action: name of action. One of the items returned by list_actions.</span>
<span class="sd">        :param sg_publish_data: Dictionary of publish data from Shotgun</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">action</span> <span class="o">==</span> <span class="s2">&quot;reference&quot;</span><span class="p">:</span>
            <span class="c1"># do maya reference operation</span>

        <span class="k">elif</span> <span class="n">action</span> <span class="o">==</span> <span class="s2">&quot;import&quot;</span><span class="p">:</span>
            <span class="c1"># do maya import operation</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># pass on to base class</span>
            <span class="k">return</span> <span class="n">HookBaseClass</span><span class="o">.</span><span class="n">run_action</span><span class="p">(</span><span class="n">action</span><span class="p">,</span> <span class="n">sg_publish_data</span><span class="p">)</span>
</pre></div>
</div>
<p>The above hook implements a couple of actions that are designed to work in Maya.
Lastly, we need to tell the app to pick up this file. In the environment configuration for the app
running inside of maya, we point it at our engine specific hook:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tk</span><span class="o">-</span><span class="n">maya</span><span class="p">:</span>
    <span class="n">tk</span><span class="o">-</span><span class="n">multi</span><span class="o">-</span><span class="n">myapp</span><span class="p">:</span>
        <span class="n">actions_hook</span><span class="p">:</span> <span class="s1">&#39;</span><span class="si">{engine}</span><span class="s1">/actions.py&#39;</span>
</pre></div>
</div>
<p>When we are running the app configuration in maya, the actions hook will automatically
resolve the hook code distributed with the maya engine. The base class will be automatically
determined to be the default value set in the manifest, allowing for the app to carry a default
base implementation that is always taken into account.</p>
<p id="hook-formats"><strong>Resolving paths to hooks</strong></p>
<p>Several different path formats exist, making this a very powerful configuration mechanism:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">{self}/path/to/foo.py</span></code> – looks in the <code class="docutils literal notranslate"><span class="pre">hooks</span></code> folder in the local app, engine of framework.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{self}/{engine_name}_publish.py</span></code> – If running in maya, looks for a <code class="docutils literal notranslate"><span class="pre">tk-maya_publish.py</span></code> in
the <code class="docutils literal notranslate"><span class="pre">hooks</span></code> folder in the local app, engine of framework. If running in Nuke, it would instead
look for <code class="docutils literal notranslate"><span class="pre">BUNDLE_ROOT/hooks/tk-nuke_publish.py</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{config}/path/to/foo.py</span></code> – Looks in the <code class="docutils literal notranslate"><span class="pre">hooks</span></code> folder in the configuration.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{$HOOK_PATH}/path/to/foo.py</span></code>  – expression based around an environment variable.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{engine}/path/to/foo.py</span></code> – looks in the <code class="docutils literal notranslate"><span class="pre">hooks</span></code> folder of the current engine.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{tk-framework-perforce_v1.x.x}/path/to/foo.py</span></code> – looks in the <code class="docutils literal notranslate"><span class="pre">hooks</span></code> folder of a
framework instance that exists in the current environment. Basically, each entry inside the
frameworks section in the current environment can be specified here - all these entries are
on the form frameworkname_versionpattern, for example <code class="docutils literal notranslate"><span class="pre">tk-framework-widget_v0.1.2</span></code> or
<code class="docutils literal notranslate"><span class="pre">tk-framework-shotgunutils_v1.3.x</span></code>.</p></li>
</ul>
<p>Supported legacy formats:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">foo</span></code> – Equivalent to <code class="docutils literal notranslate"><span class="pre">{config}/foo.py</span></code></p></li>
</ul>
<p>You can also provide your own inheritance chains. For example, if you wanted to add your own,
project specific maya hooks to this app, you could do this by creating a hook file, placing
it in your configuration’s <code class="docutils literal notranslate"><span class="pre">hooks</span></code> folder and then configure it like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tk</span><span class="o">-</span><span class="n">maya</span><span class="p">:</span>
    <span class="n">tk</span><span class="o">-</span><span class="n">multi</span><span class="o">-</span><span class="n">myapp</span><span class="p">:</span>
        <span class="n">actions_hook</span><span class="p">:</span> <span class="s1">&#39;</span><span class="si">{engine}</span><span class="s1">/actions.py:</span><span class="si">{config}</span><span class="s1">/maya_actions.py&#39;</span>
</pre></div>
</div>
<p>This would execute your <code class="docutils literal notranslate"><span class="pre">maya_actions.py</span></code> hook and make sure that that hook inherits from the
engine specific hook, making sure that you get both your custom actions, the engine default actions
and the app’s built-in actions.</p>
<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Hook.sgtk">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sgtk</span></span><a class="headerlink" href="#sgtk.Hook.sgtk" title="Permalink to this definition"></a></dt>
<dd><p>The sgtk core API instance associated with the Hook parent.</p>
<p>This is a convenience method for easy core API instance access.
In the case of app, engine and framework hooks, this is equivalent
to <code class="docutils literal notranslate"><span class="pre">parent.sgtk</span></code> and in the case of core hooks it simply returns
<code class="docutils literal notranslate"><span class="pre">parent</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some low level hooks do not have a parent defined. In
such cases, <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Hook.tank">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tank</span></span><a class="headerlink" href="#sgtk.Hook.tank" title="Permalink to this definition"></a></dt>
<dd><p>The sgtk core API instance associated with the Hook parent.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version v0.18.70: </span>Use <a class="reference internal" href="#sgtk.Hook.sgtk" title="sgtk.Hook.sgtk"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk()</span></code></a> instead.</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Hook.parent">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parent</span></span><a class="headerlink" href="#sgtk.Hook.parent" title="Permalink to this definition"></a></dt>
<dd><p>The parent object to the executing hook. This varies with the type of
hook that is being executed. For a hook that runs inside an app or an engine,
the parent object will be the <a class="reference internal" href="platform.html#sgtk.platform.Application" title="sgtk.platform.Application"><code class="xref py py-class docutils literal notranslate"><span class="pre">Application</span></code></a> or
<a class="reference internal" href="platform.html#sgtk.platform.Engine" title="sgtk.platform.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a> instance. For core hooks, the
parent object will be <a class="reference internal" href="#sgtk.Hook.sgtk" title="sgtk.Hook.sgtk"><code class="xref py py-class docutils literal notranslate"><span class="pre">sgtk</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you need to access Shotgun inside your hook, you can do this by
calling <code class="docutils literal notranslate"><span class="pre">self.parent.shotgun</span></code> since both Apps, Engines and the Core API
has a <code class="docutils literal notranslate"><span class="pre">shotgun</span></code> property.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Hook.get_publish_path">
<span class="sig-name descname"><span class="pre">get_publish_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sg_publish_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/hook.html#Hook.get_publish_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Hook.get_publish_path" title="Permalink to this definition"></a></dt>
<dd><p>Returns the path on disk for a publish entity in Shotgun.</p>
<p>Convenience method that calls <a class="reference internal" href="utils.html#sgtk.util.resolve_publish_path" title="sgtk.util.resolve_publish_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk.util.resolve_publish_path()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sg_publish_data</strong> – Dictionaries containing Shotgun publish data.
Each dictionary needs to at least contain a code, type, id and a path key.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A path on disk to existing file or file sequence.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="utils.html#sgtk.util.PublishPathNotDefinedError" title="sgtk.util.PublishPathNotDefinedError"><code class="xref py py-class docutils literal notranslate"><span class="pre">PublishPathNotDefinedError</span></code></a> if the path isn’t defined.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="utils.html#sgtk.util.PublishPathNotSupported" title="sgtk.util.PublishPathNotSupported"><code class="xref py py-class docutils literal notranslate"><span class="pre">PublishPathNotSupported</span></code></a> if the path cannot be resolved.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Hook.disk_location">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">disk_location</span></span><a class="headerlink" href="#sgtk.Hook.disk_location" title="Permalink to this definition"></a></dt>
<dd><p>The folder on disk where this item is located.
This can be useful if you want to write hook code
to retrieve a local resource:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hook_icon</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">disk_location</span><span class="p">,</span> <span class="s2">&quot;icon.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Hook.logger">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">logger</span></span><a class="headerlink" href="#sgtk.Hook.logger" title="Permalink to this definition"></a></dt>
<dd><p>Standard python <a class="reference external" href="https://docs.python.org/3.9/library/logging.html#logging.Logger" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Logger</span></code></a> handle for this hook.</p>
<p>The logger can be used to report
progress back to the app in a standardized fashion
and will be parented under the app/engine/framework logger:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># pattern</span>
<span class="n">sgtk</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">environment_name</span><span class="o">.</span><span class="n">engine_name</span><span class="o">.</span><span class="n">app_name</span><span class="o">.</span><span class="n">hook</span><span class="o">.</span><span class="n">hook_file_name</span>

<span class="c1"># for example</span>
<span class="n">sgtk</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">asset</span><span class="o">.</span><span class="n">tk</span><span class="o">-</span><span class="n">maya</span><span class="o">.</span><span class="n">tk</span><span class="o">-</span><span class="n">multi</span><span class="o">-</span><span class="n">loader2</span><span class="o">.</span><span class="n">hook</span><span class="o">.</span><span class="n">filter_publishes</span>
</pre></div>
</div>
<p>In the case of core hooks, the logger will be parented
under <code class="docutils literal notranslate"><span class="pre">sgtk.core.hook</span></code>. For more information, see <a class="reference internal" href="utils.html#logging"><span class="std std-ref">Logging</span></a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Hook.load_framework">
<span class="sig-name descname"><span class="pre">load_framework</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">framework_instance_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/hook.html#Hook.load_framework"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Hook.load_framework" title="Permalink to this definition"></a></dt>
<dd><p>Loads and returns a framework given an environment instance name.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method only works for hooks that are executed from apps and frameworks.</p>
</div>
<p>If you have complex logic and functionality and want to manage (and version it) as part
of a framework rather than in a hook, you can do this by calling a configured framework
from inside a hook:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="n">HookBaseClass</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">get_hook_baseclass</span><span class="p">()</span>

<span class="k">class</span><span class="w"> </span><span class="nc">SomeHook</span><span class="p">(</span><span class="n">HookBaseClass</span><span class="p">):</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">some_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="c1"># first get a framework handle. This object is similar to an app or engine object</span>
        <span class="n">fw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_framework</span><span class="p">(</span><span class="s2">&quot;tk-framework-library_v1.x.x&quot;</span><span class="p">)</span>

        <span class="c1"># now just like with an app or an engine, if you want to access code in the python</span>
        <span class="c1"># folder, you can do import_plugin</span>
        <span class="n">module</span> <span class="o">=</span> <span class="n">fw</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="s2">&quot;some_module&quot;</span><span class="p">)</span>

        <span class="n">module</span><span class="o">.</span><span class="n">do_stuff</span><span class="p">()</span>
</pre></div>
</div>
<p>Note how we are accessing the framework instance <code class="docutils literal notranslate"><span class="pre">tk-framework-library_v1.x.x</span></code> above.
This needs to be defined in the currently running environment, as part of the <code class="docutils literal notranslate"><span class="pre">frameworks</span></code> section:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">engines</span><span class="p">:</span>
  <span class="c1"># all engine and app defs here...</span>

<span class="n">frameworks</span><span class="p">:</span>
 <span class="c1"># define the framework that we are using in the hook</span>
 <span class="n">tk</span><span class="o">-</span><span class="n">framework</span><span class="o">-</span><span class="n">library_v1</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">x</span><span class="p">:</span>
    <span class="n">location</span><span class="p">:</span> <span class="p">{</span><span class="nb">type</span><span class="p">:</span> <span class="n">git</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="s1">&#39;https://github.com/foo/tk-framework-library.git&#39;</span><span class="p">,</span> <span class="n">version</span><span class="p">:</span> <span class="n">v1</span><span class="mf">.2.6</span><span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>framework_instance_name</strong> – Name of the framework instance to load from the environment.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="get-hook-baseclass">
<h3>get_hook_baseclass<a class="headerlink" href="#get-hook-baseclass" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="sgtk.get_hook_baseclass">
<span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">get_hook_baseclass</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.get_hook_baseclass" title="Permalink to this definition"></a></dt>
<dd><p>Returns the base class to use for the hook currently
being loaded. For more details and examples, see the <a class="reference internal" href="#sgtk.Hook" title="sgtk.Hook"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hook</span></code></a> documentation.</p>
</dd></dl>

</section>
<section id="core-hooks">
<h3>Core Hooks<a class="headerlink" href="#core-hooks" title="Permalink to this heading"></a></h3>
<p>The Toolkit core comes with a set of hooks that can help you tweak how the core behaves. If you
want to take over a certain behavior, copy the hook found inside the core’s <a class="reference external" href="https://github.com/shotgunsoftware/tk-core/tree/master/hooks">hooks</a> folder
and copy it to your configuration’s <code class="docutils literal notranslate"><span class="pre">core/hooks</span></code> folder.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A core hook cannot be executed before Toolkit (the <a class="reference internal" href="#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sgtk</span></code></a> instance) has
been initialized. This happens when <code class="xref py py-meth docutils literal notranslate"><span class="pre">ToolkitManager.bootstrap_engine()</span></code> is
called during Flow Production Tracking bootstrap. Any customization of the core behavior
must be added afterwards.</p>
</div>
<p>Here is the list of hooks that be taken over in the Toolkit core.</p>
<section id="module-before_register_publish">
<span id="before-register-publish-py"></span><h4>before_register_publish.py<a class="headerlink" href="#module-before_register_publish" title="Permalink to this heading"></a></h4>
<p>Hook that gets executed before a publish record is created in Shotgun.
This hook makes it possible to add custom fields to a publish before it gets created
as well as modifying the content that is being pushed to Shotgun.</p>
<dl class="py class">
<dt class="sig sig-object py" id="before_register_publish.BeforeRegisterPublish">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">before_register_publish.</span></span><span class="sig-name descname"><span class="pre">BeforeRegisterPublish</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/before_register_publish.html#BeforeRegisterPublish"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#before_register_publish.BeforeRegisterPublish" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="before_register_publish.BeforeRegisterPublish.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shotgun_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/before_register_publish.html#BeforeRegisterPublish.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#before_register_publish.BeforeRegisterPublish.execute" title="Permalink to this definition"></a></dt>
<dd><p>Executed just before a new publish entity is created in Shotgun.</p>
<p>The default implementation returns <code class="docutils literal notranslate"><span class="pre">shotgun_data</span></code> untouched.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shotgun_data</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – All the data which will be passed to the Shotgun create call</p></li>
<li><p><strong>context</strong> (<a class="reference internal" href="#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The context of the publish</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>return (potentially) modified data dictionary</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-bootstrap">
<span id="bootstrap-py"></span><h4>bootstrap.py<a class="headerlink" href="#module-bootstrap" title="Permalink to this heading"></a></h4>
<p>This hook is used override some of the functionality of the <a class="reference internal" href="initializing.html#sgtk.bootstrap.ToolkitManager" title="sgtk.bootstrap.ToolkitManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">ToolkitManager</span></code></a>.</p>
<p>It will be instantiated only after a configuration has been selected by the <a class="reference internal" href="initializing.html#sgtk.bootstrap.ToolkitManager" title="sgtk.bootstrap.ToolkitManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">ToolkitManager</span></code></a>.
Therefore, this hook will not be invoked to download a configuration. However, the Toolkit Core,
applications, frameworks and engines can be downloaded through the hook.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In order to be able to bootstrap Toolkit regardless of the installation method used, the bootstrap hook needs
to be stored within the package itself. That’s why this core hook is located in <code class="docutils literal notranslate"><span class="pre">core/python/tank/bootstrap/hook</span></code>
instead of the usual core hooks location.</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="bootstrap.Bootstrap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bootstrap.</span></span><span class="sig-name descname"><span class="pre">Bootstrap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bootstrap.html#Bootstrap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bootstrap.Bootstrap" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="bootstrap.Bootstrap.init">
<span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shotgun</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pipeline_configuration_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">configuration_descriptor</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bootstrap.html#Bootstrap.init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bootstrap.Bootstrap.init" title="Permalink to this definition"></a></dt>
<dd><p>Initializes the hook.</p>
<p>This method is called right after the bootstrap manager reads this hook and passes in
information about the pipeline configuration that will be used.</p>
<p>The default implementation copies the arguments into the attributes named <code class="docutils literal notranslate"><span class="pre">shotgun</span></code>,
<code class="docutils literal notranslate"><span class="pre">pipeline_configuration_id</span></code> and <code class="docutils literal notranslate"><span class="pre">configuration_descriptor</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shotgun</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Shotgun</span></code>) – Connection to the Shotgun site.</p></li>
<li><p><strong>pipeline_configuration_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – Id of the pipeline configuration we’re bootstrapping into.
If None, the ToolkitManager is bootstrapping into the base configuration.</p></li>
<li><p><strong>configuration_descriptor</strong> (<a class="reference internal" href="descriptor.html#sgtk.descriptor.ConfigDescriptor" title="sgtk.descriptor.ConfigDescriptor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigDescriptor</span></code></a>) – Configuration the manager is bootstrapping into.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bootstrap.Bootstrap.can_cache_bundle">
<span class="sig-name descname"><span class="pre">can_cache_bundle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">descriptor</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bootstrap.html#Bootstrap.can_cache_bundle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bootstrap.Bootstrap.can_cache_bundle" title="Permalink to this definition"></a></dt>
<dd><p>Indicates if a bundle can be cached by the <a class="reference internal" href="#bootstrap.Bootstrap.populate_bundle_cache_entry" title="bootstrap.Bootstrap.populate_bundle_cache_entry"><code class="xref py py-meth docutils literal notranslate"><span class="pre">populate_bundle_cache_entry()</span></code></a> method.</p>
<p>This method is invoked when the bootstrap manager wants to a bundle used by a configuration.</p>
<p>The default implementation returns <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>descriptor</strong> – Descriptor of the bundle that needs to be cached.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the bundle cache be cached with this hook, <code class="docutils literal notranslate"><span class="pre">False</span></code>
if not.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bootstrap.Bootstrap.populate_bundle_cache_entry">
<span class="sig-name descname"><span class="pre">populate_bundle_cache_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">descriptor</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bootstrap.html#Bootstrap.populate_bundle_cache_entry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bootstrap.Bootstrap.populate_bundle_cache_entry" title="Permalink to this definition"></a></dt>
<dd><p>Populates an entry from the bundle cache.</p>
<p>This method will be invoked for every bundle for which <a class="reference internal" href="#bootstrap.Bootstrap.can_cache_bundle" title="bootstrap.Bootstrap.can_cache_bundle"><code class="xref py py-meth docutils literal notranslate"><span class="pre">can_cache_bundle()</span></code></a>
returned <code class="docutils literal notranslate"><span class="pre">True</span></code>. The hook is responsible for writing the bundle inside
the destination folder. If an exception is raised by this method, the files
will be deleted from disk and the bundle cache will be left intact.</p>
<p>Be careful to properly copy all the files or the cache for this bundle
will be left in an inconsistent state.</p>
<p>The default implementation does nothing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>destination</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Folder where the bundle needs to be written. Note
that this is not the final destination folder inside the bundle cache.</p></li>
<li><p><strong>descriptor</strong> – Descriptor of the bundle that needs to be cached.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-bundle_init">
<span id="bundle-init-py"></span><h4>bundle_init.py<a class="headerlink" href="#module-bundle_init" title="Permalink to this heading"></a></h4>
<p>Hook that gets executed every time a bundle is fully initialized.</p>
<dl class="py class">
<dt class="sig sig-object py" id="bundle_init.BundleInit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bundle_init.</span></span><span class="sig-name descname"><span class="pre">BundleInit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bundle_init.html#BundleInit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bundle_init.BundleInit" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="bundle_init.BundleInit.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bundle</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bundle_init.html#BundleInit.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bundle_init.BundleInit.execute" title="Permalink to this definition"></a></dt>
<dd><p>Executed when the Toolkit bundle is fully initialized.</p>
<p>The default implementation does nothing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bundle</strong> (<a class="reference internal" href="platform.html#sgtk.platform.Engine" title="sgtk.platform.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a>, <a class="reference internal" href="platform.html#sgtk.platform.Framework" title="sgtk.platform.Framework"><code class="xref py py-class docutils literal notranslate"><span class="pre">Framework</span></code></a>
or <a class="reference internal" href="platform.html#sgtk.platform.Application" title="sgtk.platform.Application"><code class="xref py py-class docutils literal notranslate"><span class="pre">Application</span></code></a>) – The Toolkit bundle that has been initialized.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-cache_location">
<span id="cache-location-py"></span><h4>cache_location.py<a class="headerlink" href="#module-cache_location" title="Permalink to this heading"></a></h4>
<p>Hook to control path cache and bundle cache folder creation.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cache_location.CacheLocation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cache_location.</span></span><span class="sig-name descname"><span class="pre">CacheLocation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cache_location.html#CacheLocation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cache_location.CacheLocation" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="cache_location.CacheLocation.get_path_cache_path">
<span class="sig-name descname"><span class="pre">get_path_cache_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plugin_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pipeline_configuration_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cache_location.html#CacheLocation.get_path_cache_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cache_location.CacheLocation.get_path_cache_path" title="Permalink to this definition"></a></dt>
<dd><p>Establish a location for the path cache database file.</p>
<p>This hook method was introduced in Toolkit v0.18 and replaces the previous
<code class="docutils literal notranslate"><span class="pre">path_cache</span></code> method. If you already have implemented <code class="docutils literal notranslate"><span class="pre">path_cache</span></code>,
this will be detected and called instead, however we strongly recommend
that you tweak your hook.</p>
<p>Overriding this method in a hook allows a user to change the location on disk where
the path cache file is located. The path cache file holds a temporary cache representation
of the <code class="docutils literal notranslate"><span class="pre">FilesystemLocation</span></code> entities stored in Shotgun for a project.</p>
<p>The default implementation will create a folder inside the user’s home folder or
under <code class="docutils literal notranslate"><span class="pre">SHOTGUN_HOME</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The Shotgun id of the project to store caches for. None if
the configuration is a site configuration.</p></li>
<li><p><strong>plugin_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Unique string to identify the scope for a particular plugin
or integration. For more information,
see <a class="reference internal" href="initializing.html#sgtk.bootstrap.ToolkitManager.plugin_id" title="sgtk.bootstrap.ToolkitManager.plugin_id"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plugin_id()</span></code></a>. For
non-plugin based toolkit projects, this value is None.</p></li>
<li><p><strong>pipeline_configuration_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The Shotgun pipeline configuration id to store caches
for. If the pipeline configuration is unmanaged, it
will be <code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The path to a path cache file. This file should exist when this method returns.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cache_location.CacheLocation.get_bundle_data_cache_path">
<span class="sig-name descname"><span class="pre">get_bundle_data_cache_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plugin_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pipeline_configuration_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bundle</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cache_location.html#CacheLocation.get_bundle_data_cache_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cache_location.CacheLocation.get_bundle_data_cache_path" title="Permalink to this definition"></a></dt>
<dd><p>Establish a cache folder for an app, engine or framework.</p>
<p>This hook method was introduced in Toolkit v0.18 and replaces the previous <code class="docutils literal notranslate"><span class="pre">bundle_cache</span></code>
method. If you already have implemented <code class="docutils literal notranslate"><span class="pre">bundle_cache</span></code>, this will be detected and called
instead, however we strongly recommend that you tweak your hook.</p>
<p>Apps, Engines or Frameworks commonly cache data on disk. This can be
small files, Shotgun queries, thumbnails, etc. This method implements the
logic which defines this location on disk. The cache should be organized in
a way so that all instances of the app can re-use the same data. Bundles
which need to cache things per-instance can implement this using a sub
folder inside the bundle cache location.</p>
<p>It is possible to omit some components of the path by explicitly passing
a <code class="docutils literal notranslate"><span class="pre">None</span></code> value for them. Only the bundle name is required. For example,
with <code class="docutils literal notranslate"><span class="pre">project_id=None</span></code>, a site level cache path will be returned.
Omitting the <code class="docutils literal notranslate"><span class="pre">project_id</span></code> can be used to cache data for the site
configuration, or to share data accross all projects belonging to a
common site.</p>
<p>The default implementation will create a folder inside the user’s home folder or
under <code class="docutils literal notranslate"><span class="pre">SHOTGUN_HOME</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The Shotgun id of the project to store caches for, or None.</p></li>
<li><p><strong>plugin_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Unique string to identify the scope for a particular plugin
or integration, or None. For more information,
see <a class="reference internal" href="initializing.html#sgtk.bootstrap.ToolkitManager.plugin_id" title="sgtk.bootstrap.ToolkitManager.plugin_id"><code class="xref py py-meth docutils literal notranslate"><span class="pre">plugin_id()</span></code></a>. For
non-plugin based toolkit projects, this value is None.</p></li>
<li><p><strong>pipeline_configuration_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The Shotgun pipeline config id to store caches for
or <code class="docutils literal notranslate"><span class="pre">None</span></code> if the pipeline configuration is unmanaged.</p></li>
<li><p><strong>bundle</strong> (<a class="reference internal" href="platform.html#sgtk.platform.Engine" title="sgtk.platform.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a>, <a class="reference internal" href="platform.html#sgtk.platform.Framework" title="sgtk.platform.Framework"><code class="xref py py-class docutils literal notranslate"><span class="pre">Framework</span></code></a> or
<a class="reference internal" href="platform.html#sgtk.platform.Application" title="sgtk.platform.Application"><code class="xref py py-class docutils literal notranslate"><span class="pre">Application</span></code></a>) – The app, engine or framework object which is requesting the cache folder.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The path to a folder which should exist on disk.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-context_change">
<span id="context-change-py"></span><h4>context_change.py<a class="headerlink" href="#module-context_change" title="Permalink to this heading"></a></h4>
<p>This hook gets executed before and after the context changes in Toolkit.</p>
<dl class="py class">
<dt class="sig sig-object py" id="context_change.ContextChange">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">context_change.</span></span><span class="sig-name descname"><span class="pre">ContextChange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/context_change.html#ContextChange"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#context_change.ContextChange" title="Permalink to this definition"></a></dt>
<dd><ul class="simple">
<li><p>If an engine <strong>starts up</strong>, the <code class="docutils literal notranslate"><span class="pre">current_context</span></code> passed to the hook
methods will be <code class="docutils literal notranslate"><span class="pre">None</span></code> and the <code class="docutils literal notranslate"><span class="pre">next_context</span></code> parameter will be set
to the context that the engine is starting in.</p></li>
<li><p>If an engine is being <strong>reloaded</strong>, in the context of an engine restart
for example, the <code class="docutils literal notranslate"><span class="pre">current_context</span></code> and <code class="docutils literal notranslate"><span class="pre">next_context</span></code> will usually be
the same.</p></li>
<li><p>If a <strong>context switch</strong> is requested, for example when a user switches
from project to shot mode in Nuke Studio, <code class="docutils literal notranslate"><span class="pre">current_context</span></code> and <code class="docutils literal notranslate"><span class="pre">next_context</span></code>
will contain two different context.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These hooks are called whenever the context is being set in Toolkit. It is
possible that the new context will be the same as the old context. If
you want to trigger some behavior only when the new one is different
from the old one, you’ll need to compare the two arguments using the
<code class="docutils literal notranslate"><span class="pre">!=</span></code> operator.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="context_change.ContextChange.pre_context_change">
<span class="sig-name descname"><span class="pre">pre_context_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current_context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">next_context</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/context_change.html#ContextChange.pre_context_change"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#context_change.ContextChange.pre_context_change" title="Permalink to this definition"></a></dt>
<dd><p>Executed before the context has changed.</p>
<p>The default implementation does nothing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>current_context</strong> (<a class="reference internal" href="#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The context of the engine.</p></li>
<li><p><strong>next_context</strong> (<a class="reference internal" href="#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The context the engine is switching to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="context_change.ContextChange.post_context_change">
<span class="sig-name descname"><span class="pre">post_context_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">previous_context</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_context</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/context_change.html#ContextChange.post_context_change"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#context_change.ContextChange.post_context_change" title="Permalink to this definition"></a></dt>
<dd><p>Executed after the context has changed.</p>
<p>The default implementation does nothing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>previous_context</strong> (<a class="reference internal" href="#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The previous context of the engine.</p></li>
<li><p><strong>current_context</strong> (<a class="reference internal" href="#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>) – The current context of the engine.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-default_storage_root">
<span id="default-storage-root-py"></span><h4>default_storage_root.py<a class="headerlink" href="#module-default_storage_root" title="Permalink to this heading"></a></h4>
<p>Hook that gets executed during Toolkit initialization.
This hook makes it possible to modify the default storage root.</p>
<dl class="py class">
<dt class="sig sig-object py" id="default_storage_root.DefaultStorageRoot">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">default_storage_root.</span></span><span class="sig-name descname"><span class="pre">DefaultStorageRoot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/default_storage_root.html#DefaultStorageRoot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#default_storage_root.DefaultStorageRoot" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="default_storage_root.DefaultStorageRoot.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">storage_roots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/default_storage_root.html#DefaultStorageRoot.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#default_storage_root.DefaultStorageRoot.execute" title="Permalink to this definition"></a></dt>
<dd><p>Executes right after constructing a pipeline configuration during
Toolkit initialization.</p>
<p>You can find example implementations in the
<a class="reference external" href="https://github.com/shotgunsoftware/tk-core/tree/master/tests/core_tests/test_default_storage_root_hook">tests/core_tests/test_default_storage_root_hook</a>
folder which allow you to switch between storages if you have a
different storage root per project.</p>
<p>The default implementation does nothing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>storage_roots</strong> (<em>StorageRoots</em>) – The storage roots for the project.</p></li>
<li><p><strong>project_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – id of the project toolkit is being initialized in</p></li>
<li><p><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – Contents of the Project configuration file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-engine_init">
<span id="engine-init-py"></span><h4>engine_init.py<a class="headerlink" href="#module-engine_init" title="Permalink to this heading"></a></h4>
<p>Hook that gets executed every time an engine has been fully initialized.</p>
<dl class="py class">
<dt class="sig sig-object py" id="engine_init.EngineInit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">engine_init.</span></span><span class="sig-name descname"><span class="pre">EngineInit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine_init.html#EngineInit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#engine_init.EngineInit" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="engine_init.EngineInit.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">engine</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/engine_init.html#EngineInit.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#engine_init.EngineInit.execute" title="Permalink to this definition"></a></dt>
<dd><p>Executed when a Toolkit engine has been fully initialized.</p>
<p>At this point, all apps and frameworks have been loaded,
and the engine is fully operational.</p>
<p>The default implementation does nothing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>engine</strong> (<a class="reference internal" href="platform.html#sgtk.platform.Engine" title="sgtk.platform.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a>) – Engine that has been initialized.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-ensure_folder_exists">
<span id="ensure-folder-exists-py"></span><h4>ensure_folder_exists.py<a class="headerlink" href="#module-ensure_folder_exists" title="Permalink to this heading"></a></h4>
<p>This hook is called when an engine, app or framework’s
<a class="reference internal" href="platform.html#sgtk.platform.Application.ensure_folder_exists" title="sgtk.platform.Application.ensure_folder_exists"><code class="xref py py-class docutils literal notranslate"><span class="pre">ensure_folder_exists</span></code></a> method is called.</p>
<dl class="py class">
<dt class="sig sig-object py" id="ensure_folder_exists.EnsureFolderExists">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">ensure_folder_exists.</span></span><span class="sig-name descname"><span class="pre">EnsureFolderExists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ensure_folder_exists.html#EnsureFolderExists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ensure_folder_exists.EnsureFolderExists" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="ensure_folder_exists.EnsureFolderExists.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bundle_obj</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ensure_folder_exists.html#EnsureFolderExists.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ensure_folder_exists.EnsureFolderExists.execute" title="Permalink to this definition"></a></dt>
<dd><p>Creates folders on disk.</p>
<p>Toolkit bundles call this method when they want to ensure that
a leaf-level folder structure exists on disk. In the case where customization
is required, the hook is passed the bundle that issued the original request.
This should allow for some sophisticated introspection inside the hook.</p>
<p>The default implementation creates these folders with read/write
permissions for everyone.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – path to create</p></li>
<li><p><strong>bundle_object</strong> (<a class="reference internal" href="platform.html#sgtk.platform.Engine" title="sgtk.platform.Engine"><code class="xref py py-class docutils literal notranslate"><span class="pre">Engine</span></code></a>, <a class="reference internal" href="platform.html#sgtk.platform.Framework" title="sgtk.platform.Framework"><code class="xref py py-class docutils literal notranslate"><span class="pre">Framework</span></code></a>
or <a class="reference internal" href="platform.html#sgtk.platform.Application" title="sgtk.platform.Application"><code class="xref py py-class docutils literal notranslate"><span class="pre">Application</span></code></a>) – Object requesting the creation. This is a legacy
parameter and we recommend using self.parent instead.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-get_current_login">
<span id="get-current-login-py"></span><h4>get_current_login.py<a class="headerlink" href="#module-get_current_login" title="Permalink to this heading"></a></h4>
<p>Hook that gets executed when the current user is being retrieved.</p>
<p>Please note that this hook will only be called whenever Toolkit doesn’t
have an authenticated user present. In releases prior to v0.16, this was the case
for all users and projects. However, as of Core v0.16 and above, projects are set
up to require users to log in by default, meaning that there already is a well
established notion of who the current user is.</p>
<p>Even with such projects, there are environments, e.g. render farms, where a user
cannot easily log in, and a Shotgun script user typically is being used for
“headless” operation of Toolkit. In these cases, Toolkit doesn’t know which
Shotgun user is associated with the operation and this hook will be called.</p>
<p>The return value from this hook will then be compared with the available logins
for all users in Shotgun and if a match is found, this is deemed to be the
current user.</p>
<dl class="py class">
<dt class="sig sig-object py" id="get_current_login.GetCurrentLogin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">get_current_login.</span></span><span class="sig-name descname"><span class="pre">GetCurrentLogin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/get_current_login.html#GetCurrentLogin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#get_current_login.GetCurrentLogin" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="get_current_login.GetCurrentLogin.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/get_current_login.html#GetCurrentLogin.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#get_current_login.GetCurrentLogin.execute" title="Permalink to this definition"></a></dt>
<dd><p>Retrieves the login name for the Shotgun user.</p>
<p>This is used by Toolkit to resolve against the <code class="docutils literal notranslate"><span class="pre">login</span></code> field in the
Shotgun users table in order to extract further metadata.</p>
<p>The default implementation will return the OS user’s login name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A name that matches the user’s <code class="docutils literal notranslate"><span class="pre">login</span></code> field in Shotgun.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-log_metrics">
<span id="log-metrics-py"></span><h4>log_metrics.py<a class="headerlink" href="#module-log_metrics" title="Permalink to this heading"></a></h4>
<p>Hook that gets executed every time Toolkit logs user metrics.</p>
<dl class="py class">
<dt class="sig sig-object py" id="log_metrics.LogMetrics">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">log_metrics.</span></span><span class="sig-name descname"><span class="pre">LogMetrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/log_metrics.html#LogMetrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#log_metrics.LogMetrics" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="log_metrics.LogMetrics.log_metrics">
<span class="sig-name descname"><span class="pre">log_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metrics</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/log_metrics.html#LogMetrics.log_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#log_metrics.LogMetrics.log_metrics" title="Permalink to this definition"></a></dt>
<dd><p>Called when Toolkit logs a list of metrics.</p>
<p>A metric is a dictionary with three items:</p>
<ul class="simple">
<li><p><strong>event_group</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) - Name of the event group.</p></li>
<li><p><strong>event_name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) - Name of the event.</p></li>
<li><p><strong>event_properties</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>) - List of properties for the event.</p></li>
</ul>
<p>The default implementation does nothing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>metrics</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a><em>)</em>) – List of metrics.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This hook will be executed within one or more dedicated metrics logging
worker threads and not in the main thread. Overriding this hook may
require additional care to avoid issues related to accessing shared
resources across multiple threads.</p>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="module-pick_environment">
<span id="pick-environment-py"></span><h4>pick_environment.py<a class="headerlink" href="#module-pick_environment" title="Permalink to this heading"></a></h4>
<p>Hook which chooses an environment file to use based on the current context.
This file is almost always overridden by a configuration.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pick_environment.PickEnvironment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pick_environment.</span></span><span class="sig-name descname"><span class="pre">PickEnvironment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pick_environment.html#PickEnvironment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pick_environment.PickEnvironment" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="pick_environment.PickEnvironment.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">context</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pick_environment.html#PickEnvironment.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pick_environment.PickEnvironment.execute" title="Permalink to this definition"></a></dt>
<dd><p>Executed when Toolkit needs to pick an environment file.</p>
<p>The default implementation will return <code class="docutils literal notranslate"><span class="pre">shot</span></code> or <code class="docutils literal notranslate"><span class="pre">asset</span></code> based
on the type of the entity in <a class="reference internal" href="#sgtk.Context.entity" title="sgtk.Context.entity"><code class="xref py py-attr docutils literal notranslate"><span class="pre">sgtk.Context.entity</span></code></a>. If the type
does not match <code class="docutils literal notranslate"><span class="pre">Shot</span></code> or <code class="docutils literal notranslate"><span class="pre">Asset</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code> will be returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Params context<span class="colon">:</span></dt>
<dd class="field-odd"><p>The context for which an environment will be picked.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Name of the environment to use or <code class="docutils literal notranslate"><span class="pre">None</span></code> is there was no match.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-pipeline_configuration_init">
<span id="pipeline-configuration-init-py"></span><h4>pipeline_configuration_init.py<a class="headerlink" href="#module-pipeline_configuration_init" title="Permalink to this heading"></a></h4>
<p>Hook that gets executed every time a new PipelineConfiguration instance is created.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pipeline_configuration_init.PipelineConfigurationInit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pipeline_configuration_init.</span></span><span class="sig-name descname"><span class="pre">PipelineConfigurationInit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pipeline_configuration_init.html#PipelineConfigurationInit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pipeline_configuration_init.PipelineConfigurationInit" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="pipeline_configuration_init.PipelineConfigurationInit.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pipeline_configuration_init.html#PipelineConfigurationInit.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pipeline_configuration_init.PipelineConfigurationInit.execute" title="Permalink to this definition"></a></dt>
<dd><p>Executed when a new PipelineConfiguration instance is initialized.</p>
<p>The default implementation does nothing.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-process_folder_creation">
<span id="process-folder-creation-py"></span><h4>process_folder_creation.py<a class="headerlink" href="#module-process_folder_creation" title="Permalink to this heading"></a></h4>
<p>This hook is invoked during folder creation when <a class="reference internal" href="#sgtk.Sgtk.create_filesystem_structure" title="sgtk.Sgtk.create_filesystem_structure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk.Sgtk.create_filesystem_structure()</span></code></a> is
called.</p>
<dl class="py class">
<dt class="sig sig-object py" id="process_folder_creation.ProcessFolderCreation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">process_folder_creation.</span></span><span class="sig-name descname"><span class="pre">ProcessFolderCreation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/process_folder_creation.html#ProcessFolderCreation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#process_folder_creation.ProcessFolderCreation" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="process_folder_creation.ProcessFolderCreation.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preview_mode</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/process_folder_creation.html#ProcessFolderCreation.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#process_folder_creation.ProcessFolderCreation.execute" title="Permalink to this definition"></a></dt>
<dd><p>Creates a list of files and folders.</p>
<p>The default implementation creates files and folders recursively using
open permissions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>list</strong><strong>(</strong><strong>dict</strong><strong>)</strong> – List of actions that needs to take place.</p>
</dd>
</dl>
<p>Six different types of actions are supported.</p>
<p><strong>Standard Folder</strong></p>
<p>This represents a standard folder in the file system which is not associated
with anything in Shotgun. It contains the following keys:</p>
<ul class="simple">
<li><p><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) - <code class="docutils literal notranslate"><span class="pre">folder</span></code></p></li>
<li><p><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>) - The configuration yaml data for this item</p></li>
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) - path on disk to the item</p></li>
</ul>
<p><strong>Entity Folder</strong></p>
<p>This represents a folder in the file system which is associated with a
Shotgun entity. It contains the following keys:</p>
<ul class="simple">
<li><p><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) - <code class="docutils literal notranslate"><span class="pre">entity_folder</span></code></p></li>
<li><p><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>) - The configuration yaml data for this item</p></li>
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) - path on disk to the item</p></li>
<li><p><strong>entity</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>) - Shotgun entity link with keys <code class="docutils literal notranslate"><span class="pre">type</span></code>, <code class="docutils literal notranslate"><span class="pre">id</span></code> and <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p></li>
</ul>
<p><strong>Remote Entity Folder</strong></p>
<p>This is the same as an entity folder, except that it was originally
created in another location. A remote folder request means that your
local toolkit instance has detected that folders have been created by
a different file system setup. It contains the following keys:</p>
<ul class="simple">
<li><p><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) - <code class="docutils literal notranslate"><span class="pre">remote_entity_folder</span></code></p></li>
<li><p><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>) - The configuration yaml data for this item</p></li>
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) - path on disk to the item</p></li>
<li><p><strong>entity</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>) - Shotgun entity link with keys <code class="docutils literal notranslate"><span class="pre">type</span></code>, <code class="docutils literal notranslate"><span class="pre">id</span></code> and <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p></li>
</ul>
<p><strong>File Copy</strong></p>
<p>This represents a file copy operation which should be carried out.
It contains the following keys:</p>
<ul class="simple">
<li><p><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) - <code class="docutils literal notranslate"><span class="pre">copy</span></code></p></li>
<li><p><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>) - The configuration yaml data associated with the directory level
on which this object exists.</p></li>
<li><p><strong>source_path</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) - location of the file that should be copied</p></li>
<li><p><strong>target_path</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) - target location to where the file should be copied.</p></li>
</ul>
<p><strong>File Creation</strong></p>
<p>This is similar to the file copy, but instead of a source path, a chunk
of data is specified. It contains the following keys:</p>
<ul class="simple">
<li><p><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) - <code class="docutils literal notranslate"><span class="pre">create_file</span></code></p></li>
<li><p><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>) - The configuration yaml data associated with the directory level
on which this object exists.</p></li>
<li><p><strong>content</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – file content</p></li>
<li><p><strong>target_path</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – target location to where the file should be copied.</p></li>
</ul>
<p><strong>Symbolic Links</strong></p>
<p>This represents a request that a symbolic link is created. Note that symbolic links are not
supported in the same way on all operating systems. The default hook therefore does not
implement symbolic link support on Windows systems. If you want to add symbolic link support
on windows, simply copy this hook to your project configuration and make the necessary
modifications.</p>
<ul class="simple">
<li><p><strong>action</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) - <code class="docutils literal notranslate"><span class="pre">symlink</span></code></p></li>
<li><p><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a>) - The raw configuration yaml data associated with symlink yml config file.</p></li>
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) - the path to the symbolic link</p></li>
<li><p><strong>target</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) - the target to which the symbolic link should point</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of files and folders that have been created.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)">list</a>(<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a>)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-process_folder_name">
<span id="process-folder-name-py"></span><h4>process_folder_name.py<a class="headerlink" href="#module-process_folder_name" title="Permalink to this heading"></a></h4>
<p>Core hook which handles conversion of Shotgun field data into strings.</p>
<p>This hook can be used to control how folders are named on disk given
a field in Shotgun. Should for example spaces be replaced by underscores
or periods when folders are created?</p>
<p>This hook can also be used to raise an exception if an invalid naming convention
is being used, for example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">entity_type</span> <span class="o">==</span> <span class="s2">&quot;Shot&quot;</span> <span class="ow">and</span> <span class="n">str_value</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;AA&quot;</span><span class="p">):</span>
   <span class="k">raise</span> <span class="n">TankError</span><span class="p">(</span><span class="s2">&quot;Shot names cannot start with AA!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="process_folder_name.ProcessFolderName">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">process_folder_name.</span></span><span class="sig-name descname"><span class="pre">ProcessFolderName</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/process_folder_name.html#ProcessFolderName"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#process_folder_name.ProcessFolderName" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="process_folder_name.ProcessFolderName.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/process_folder_name.html#ProcessFolderName.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#process_folder_name.ProcessFolderName.execute" title="Permalink to this definition"></a></dt>
<dd><p>Executed when an entity needs to be turned into a string token during folder
creation.</p>
<p>The default implementation will turn non-ascii characters into hyphens and
replace spaces with underscores.</p>
<p>For example, <code class="docutils literal notranslate"><span class="pre">{&quot;type&quot;:&quot;Shot&quot;,</span> <span class="pre">&quot;id&quot;:123,</span> <span class="pre">&quot;name&quot;:&quot;Pont</span> <span class="pre">de</span> <span class="pre">LÃ©vis&quot;}</span></code> would
be converted to <code class="docutils literal notranslate"><span class="pre">Pont_de_L-vis</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The Shotgun entity type for which the value is taken.</p></li>
<li><p><strong>entity_id</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – The entity id representing the data.</p></li>
<li><p><strong>field_name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – The Shotgun field associated with the value.</p></li>
<li><p><strong>value</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#object" title="(in Python v3.9)"><em>object</em></a>) – The actual value in some form, as returned by the Shotgun API.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A string representing the entity.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-resolve_publish">
<span id="resolve-publish-py"></span><h4>resolve_publish.py<a class="headerlink" href="#module-resolve_publish" title="Permalink to this heading"></a></h4>
<p>Hook used to resolve publish records in Shotgun into local form on a machine during
a call to <a class="reference internal" href="utils.html#sgtk.util.resolve_publish_path" title="sgtk.util.resolve_publish_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sgtk.util.resolve_publish_path()</span></code></a>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="resolve_publish.ResolvePublish">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">resolve_publish.</span></span><span class="sig-name descname"><span class="pre">ResolvePublish</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/resolve_publish.html#ResolvePublish"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#resolve_publish.ResolvePublish" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="resolve_publish.ResolvePublish.resolve_path">
<span class="sig-name descname"><span class="pre">resolve_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sg_publish_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/resolve_publish.html#ResolvePublish.resolve_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#resolve_publish.ResolvePublish.resolve_path" title="Permalink to this definition"></a></dt>
<dd><p>Resolves a Shotgun publish record into a local file on disk.</p>
<p>If this method returns <code class="docutils literal notranslate"><span class="pre">None</span></code>, it indicates to Toolkit that the default
publish resolution logic should be used.</p>
<p>The default implementation of this hook returns <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sg_publish_data</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) – Dictionary containing Shotgun publish data.
Contains at minimum a code, type, id and a path key.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Path to the local file or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd>
<dt class="field-odd">Rtype str<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-tank_init">
<span id="tank-init-py"></span><h4>tank_init.py<a class="headerlink" href="#module-tank_init" title="Permalink to this heading"></a></h4>
<p>Hook that gets executed every time a new Toolkit API instance is created.</p>
<dl class="py class">
<dt class="sig sig-object py" id="tank_init.TankInit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tank_init.</span></span><span class="sig-name descname"><span class="pre">TankInit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank_init.html#TankInit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tank_init.TankInit" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="tank_init.TankInit.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank_init.html#TankInit.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tank_init.TankInit.execute" title="Permalink to this definition"></a></dt>
<dd><p>Executed when a new Toolkit API instance is initialized.</p>
<p>You can access the Toolkit API instance through <code class="docutils literal notranslate"><span class="pre">self.parent</span></code>.</p>
<p>The default implementation does nothing.</p>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="module-example_template_hook">
<span id="template-hooks"></span><h3>Template Hooks<a class="headerlink" href="#module-example_template_hook" title="Permalink to this heading"></a></h3>
<p>This hook is a simple example to illustrate how template settings in an app
can be evaluated at runtime based on complex conditions.</p>
<p>If you have an app which has a template parameter, you would typically use a setting
which points to one of your templates. So in the environment config, you would have:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">template_snapshot</span><span class="p">:</span> <span class="n">maya_shot_publish</span>
</pre></div>
</div>
<p>However if you want more complex behavior, it is possible to specify that a hook
should be used to evaluate the setting at runtime rather than just set it.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">template_snapshot</span><span class="p">:</span> <span class="s2">&quot;hook:example_template_hook:maya_shot_publish&quot;</span>
</pre></div>
</div>
<p>This setting would look for a core hook named <code class="docutils literal notranslate"><span class="pre">example_template_hook</span></code> and execute it.
See below for an example implementation and parameter descriptions.</p>
<dl class="py class">
<dt class="sig sig-object py" id="example_template_hook.ExampleTemplateHook">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">example_template_hook.</span></span><span class="sig-name descname"><span class="pre">ExampleTemplateHook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/example_template_hook.html#ExampleTemplateHook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#example_template_hook.ExampleTemplateHook" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="example_template_hook.ExampleTemplateHook.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">setting</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bundle_obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_params</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/example_template_hook.html#ExampleTemplateHook.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#example_template_hook.ExampleTemplateHook.execute" title="Permalink to this definition"></a></dt>
<dd><p>Example pass-through implementation. One option is expected in <code class="docutils literal notranslate"><span class="pre">extra_params</span></code>
and it will be returned.</p>
<p>So the following two things will evaluate to the same thing:</p>
<p>&gt; template_snapshot: maya_shot_publish
&gt; template_snapshot: hook:example_template_hook:maya_shot_publish</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>setting</strong> – The name of the setting for which we are evaluating
In our example above, it would be template_snapshot.</p></li>
<li><p><strong>bundle_obj</strong> – The app, engine or framework object that the setting
is associated with.</p></li>
<li><p><strong>extra_params</strong> – List of options passed from the setting. If the settings
string is “hook:hook_name:foo:bar”, extra_params would
be [‘foo’, ‘bar’]</p></li>
</ul>
</dd>
</dl>
<p>returns: needs to return the name of a template, as a string.</p>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="templates">
<h2>Templates<a class="headerlink" href="#templates" title="Permalink to this heading"></a></h2>
<p>The Toolkit template system is used to handle path and string token manipulations.</p>
<p>Since the Flow Production Tracking is file system based, Apps will need to resolve file paths whenever
they need to read or write data from disk. Apps are file system structure agnostic - meaning
that they don’t know how the file system is organized. The template system handles all this for them.</p>
<p>At the heart of the template system, there is a Templates Configuration File. This file contains
all the important file system locations for a project. A Template looks something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">maya_shot_publish</span><span class="p">:</span> <span class="s1">&#39;shots/</span><span class="si">{Shot}</span><span class="s1">/</span><span class="si">{Step}</span><span class="s1">/pub/</span><span class="si">{name}</span><span class="s1">.v</span><span class="si">{version}</span><span class="s1">.ma&#39;</span>
</pre></div>
</div>
<p>It basically defines a path which contains certain dynamic fields. Each field can be
configured with validation and typing, so you can, for example, define that the <code class="docutils literal notranslate"><span class="pre">{version}</span></code> field
in the template above is an integer padded with three zeros (e.g. <code class="docutils literal notranslate"><span class="pre">001</span></code>, <code class="docutils literal notranslate"><span class="pre">012</span></code>, <code class="docutils literal notranslate"><span class="pre">132</span></code>).
Whenever and App needs to write or read something from disk, a template is added to the templates
file to describe that location. Since Apps often are set up to form a pipeline, the output template
of one App (e.g. a publishing app) is often the input template of another app (e.g. a loading app).
This is why all the file system locations are kept in a single file.</p>
<p>The template API lets you jump between a list of field values and paths:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># get a template object from the API</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">template_obj</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">templates</span><span class="p">[</span><span class="s2">&quot;maya_shot_publish&quot;</span><span class="p">]</span>
<span class="o">&lt;</span><span class="n">Sgtk</span> <span class="n">Template</span> <span class="n">maya_asset_project</span><span class="p">:</span> <span class="n">shots</span><span class="o">/</span><span class="p">{</span><span class="n">Shot</span><span class="p">}</span><span class="o">/</span><span class="p">{</span><span class="n">Step</span><span class="p">}</span><span class="o">/</span><span class="n">pub</span><span class="o">/</span><span class="p">{</span><span class="n">name</span><span class="p">}</span><span class="o">.</span><span class="n">v</span><span class="p">{</span><span class="n">version</span><span class="p">}</span><span class="o">.</span><span class="n">ma</span><span class="o">&gt;</span>

<span class="c1"># we can use the template object to turn a path into a set of fields...</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;/projects/bbb/shots/001_002/comp/pub/main_scene.v003.ma&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">fields</span> <span class="o">=</span> <span class="n">template_obj</span><span class="o">.</span><span class="n">get_fields</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

<span class="p">{</span><span class="s1">&#39;Shot&#39;</span><span class="p">:</span> <span class="s1">&#39;001_002&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Step&#39;</span><span class="p">:</span> <span class="s1">&#39;comp&#39;</span><span class="p">,</span>
 <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;main_scene&#39;</span><span class="p">,</span>
 <span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>

<span class="c1"># alternatively, we can take a fields dictionary and make a path</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">template_obj</span><span class="o">.</span><span class="n">apply_fields</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span>
<span class="s1">&#39;/projects/bbb/shots/001_002/comp/pub/main_scene.v003.ma&#39;</span>
</pre></div>
</div>
<p>Note how the above path and template has two different types of fields: The Shot and Step fields are
high-level fields with equivalent objects in Flow Production Tracking (a Shot and a Pipeline Step) where the name and
the version fields are very specific to this particular type of template (in this case a publish path.).
If we wanted to describe a publish path for an asset rather than a shot, we would still have a name
and a version field, since this is needed for all publishes, regardless of what type of data it is -
however, we would not have a Shot and a Step field. Instead, we may have an Asset and a Step field,
where the asset field would be associated with an asset in Flow Production Tracking.</p>
<section id="template">
<h3>Template<a class="headerlink" href="#template" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.Template">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">Template</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">definition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/template.html#Template"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Template" title="Permalink to this definition"></a></dt>
<dd><p>Represents an expression containing several dynamic tokens
in the form of <a class="reference internal" href="#sgtk.TemplateKey" title="sgtk.TemplateKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">TemplateKey</span></code></a> objects.</p>
<p>This class is not designed to be used directly but
should be subclassed by any Template implementations.</p>
<p>Current implementations can be found in
the <a class="reference internal" href="#sgtk.TemplatePath" title="sgtk.TemplatePath"><code class="xref py py-class docutils literal notranslate"><span class="pre">TemplatePath</span></code></a> and <a class="reference internal" href="#sgtk.TemplateString" title="sgtk.TemplateString"><code class="xref py py-class docutils literal notranslate"><span class="pre">TemplateString</span></code></a> classes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>definition</strong> (<em>String</em>) – Template definition.</p></li>
<li><p><strong>keys</strong> (<em>Dictionary</em>) – Mapping of key names to keys</p></li>
<li><p><strong>name</strong> (<em>String</em>) – (Optional) name for this template.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Template.definition">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">definition</span></span><a class="headerlink" href="#sgtk.Template.definition" title="Permalink to this definition"></a></dt>
<dd><p>The template as a string, e.g <code class="docutils literal notranslate"><span class="pre">shots/{Shot}/{Step}/pub/{name}.v{version}.ma</span></code></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Template.keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">keys</span></span><a class="headerlink" href="#sgtk.Template.keys" title="Permalink to this definition"></a></dt>
<dd><p>The keys that this template is using. For a template
<code class="docutils literal notranslate"><span class="pre">shots/{Shot}/{Step}/pub/{name}.v{version}.ma</span></code>, the keys are <code class="docutils literal notranslate"><span class="pre">{Shot}</span></code>,
<code class="docutils literal notranslate"><span class="pre">{Step}</span></code> and <code class="docutils literal notranslate"><span class="pre">{name}</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a dictionary of class:<cite>TemplateKey</cite> objects, keyed by token name.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Template.ordered_keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ordered_keys</span></span><a class="headerlink" href="#sgtk.Template.ordered_keys" title="Permalink to this definition"></a></dt>
<dd><p>The keys that this template is using in the order they appear. For a
template <code class="docutils literal notranslate"><span class="pre">shots/{Shot}/{Step}/pub/{name}.v{version}.ma</span></code>, the keys are
<code class="docutils literal notranslate"><span class="pre">{Shot}</span></code>, <code class="docutils literal notranslate"><span class="pre">{Step}</span></code> and <code class="docutils literal notranslate"><span class="pre">{name}</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a list of class:<cite>TemplateKey</cite> objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Template.is_optional">
<span class="sig-name descname"><span class="pre">is_optional</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/template.html#Template.is_optional"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Template.is_optional" title="Permalink to this definition"></a></dt>
<dd><p>Returns true if the given key name is optional for this template.</p>
<p>For the template <code class="docutils literal notranslate"><span class="pre">{Shot}[_{name}]</span></code>,
<code class="docutils literal notranslate"><span class="pre">is_optional(&quot;Shot&quot;)</span></code> would return <code class="docutils literal notranslate"><span class="pre">False</span></code> and <code class="docutils literal notranslate"><span class="pre">is_optional(&quot;name&quot;)</span></code>
would return <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key_name</strong> – Name of template key for which the check should be carried out</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if key is optional, False if not.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Template.missing_keys">
<span class="sig-name descname"><span class="pre">missing_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_defaults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/template.html#Template.missing_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Template.missing_keys" title="Permalink to this definition"></a></dt>
<dd><p>Determines keys required for use of template which do not exist
in a given fields.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span><span class="o">.</span><span class="n">templates</span><span class="p">[</span><span class="s2">&quot;max_asset_work&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">missing_keys</span><span class="p">({})</span>
<span class="go">[&#39;Step&#39;, &#39;sg_asset_type&#39;, &#39;Asset&#39;, &#39;version&#39;, &#39;name&#39;]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span><span class="o">.</span><span class="n">templates</span><span class="p">[</span><span class="s2">&quot;max_asset_work&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">missing_keys</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">})</span>
<span class="go">[&#39;Step&#39;, &#39;sg_asset_type&#39;, &#39;Asset&#39;, &#39;version&#39;]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fields</strong> (<em>mapping</em><em> (</em><em>dictionary</em><em> or </em><em>other</em><em>)</em>) – fields to test</p></li>
<li><p><strong>skip_defaults</strong> (<em>Bool</em>) – If true, do not treat keys with default values as missing.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Fields needed by template which are not in inputs keys or which have
values of None.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Template.apply_fields">
<span class="sig-name descname"><span class="pre">apply_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">platform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/template.html#Template.apply_fields"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Template.apply_fields" title="Permalink to this definition"></a></dt>
<dd><p>Creates path using fields. Certain fields may be processed in special ways, for
example <a class="reference internal" href="#sgtk.SequenceKey" title="sgtk.SequenceKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">SequenceKey</span></code></a> fields, which can take a <cite>FORMAT</cite> string which will intelligently
format a image sequence specifier based on the type of data is being handled. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># get a template object from the API</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">template_obj</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">templates</span><span class="p">[</span><span class="s2">&quot;maya_shot_publish&quot;</span><span class="p">]</span>
<span class="o">&lt;</span><span class="n">Sgtk</span> <span class="n">Template</span> <span class="n">maya_asset_project</span><span class="p">:</span> <span class="n">shots</span><span class="o">/</span><span class="p">{</span><span class="n">Shot</span><span class="p">}</span><span class="o">/</span><span class="p">{</span><span class="n">Step</span><span class="p">}</span><span class="o">/</span><span class="n">pub</span><span class="o">/</span><span class="p">{</span><span class="n">name</span><span class="p">}</span><span class="o">.</span><span class="n">v</span><span class="p">{</span><span class="n">version</span><span class="p">}</span><span class="o">.</span><span class="n">ma</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">fields</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Shot&#39;</span><span class="p">:</span> <span class="s1">&#39;001_002&#39;</span><span class="p">,</span>
              <span class="s1">&#39;Step&#39;</span><span class="p">:</span> <span class="s1">&#39;comp&#39;</span><span class="p">,</span>
              <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;main_scene&#39;</span><span class="p">,</span>
              <span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="mi">3</span>
              <span class="p">}</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">template_obj</span><span class="o">.</span><span class="n">apply_fields</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span>
<span class="s1">&#39;/projects/bbb/shots/001_002/comp/pub/main_scene.v003.ma&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For formatting of special values, see <a class="reference internal" href="#sgtk.SequenceKey" title="sgtk.SequenceKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">SequenceKey</span></code></a> and <a class="reference internal" href="#sgtk.TimestampKey" title="sgtk.TimestampKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimestampKey</span></code></a>.</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fields</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Sequence&quot;</span><span class="p">:</span><span class="s2">&quot;seq_1&quot;</span><span class="p">,</span> <span class="s2">&quot;Shot&quot;</span><span class="p">:</span><span class="s2">&quot;shot_2&quot;</span><span class="p">,</span> <span class="s2">&quot;Step&quot;</span><span class="p">:</span><span class="s2">&quot;comp&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;henry&quot;</span><span class="p">,</span> <span class="s2">&quot;version&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">template_path</span><span class="o">.</span><span class="n">apply_fields</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span>
<span class="go">&#39;/studio_root/sgtk/demo_project_1/sequences/seq_1/shot_2/comp/publish/henry.v003.ma&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">template_path</span><span class="o">.</span><span class="n">apply_fields</span><span class="p">(</span><span class="n">fields</span><span class="p">,</span> <span class="n">platform</span><span class="o">=</span><span class="s1">&#39;win32&#39;</span><span class="p">)</span>
<span class="go">&#39;z:\studio_root\sgtk\demo_project_1\sequences\seq_1\shot_2\comp\publish\henry.v003.ma&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">template_str</span><span class="o">.</span><span class="n">apply_fields</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span>
<span class="go">&#39;Maya Scene henry, v003&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fields</strong> – Mapping of keys to fields. Keys must match those in template
definition.</p></li>
<li><p><strong>platform</strong> – Optional operating system platform. If you leave it at the
default value of None, paths will be created to match the
current operating system. If you pass in a sys.platform-style string
(e.g. <code class="docutils literal notranslate"><span class="pre">win32</span></code>, <code class="docutils literal notranslate"><span class="pre">linux2</span></code> or <code class="docutils literal notranslate"><span class="pre">darwin</span></code>), paths will be generated to
match that platform.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Full path, matching the template with the given fields inserted.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.Template.parent">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parent</span></span><a class="headerlink" href="#sgtk.Template.parent" title="Permalink to this definition"></a></dt>
<dd><p>Returns Template representing the parent of this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sgtk.Template" title="sgtk.Template"><code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Template.validate_and_get_fields">
<span class="sig-name descname"><span class="pre">validate_and_get_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/template.html#Template.validate_and_get_fields"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Template.validate_and_get_fields" title="Permalink to this definition"></a></dt>
<dd><p>Takes an input string and determines whether it can be mapped to the template pattern.
If it can then the list of matching fields is returned. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">good_path</span> <span class="o">=</span> <span class="s1">&#39;/studio_root/sgtk/demo_project_1/sequences/seq_1/shot_2/comp/publish/henry.v003.ma&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">template_path</span><span class="o">.</span><span class="n">validate_and_get_fields</span><span class="p">(</span><span class="n">good_path</span><span class="p">)</span>
<span class="go">{&#39;Sequence&#39;: &#39;seq_1&#39;,</span>
<span class="go"> &#39;Shot&#39;: &#39;shot_2&#39;,</span>
<span class="go"> &#39;Step&#39;: &#39;comp&#39;,</span>
<span class="go"> &#39;name&#39;: &#39;henry&#39;,</span>
<span class="go"> &#39;version&#39;: 3}</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">bad_path</span> <span class="o">=</span> <span class="s1">&#39;/studio_root/sgtk/demo_project_1/shot_2/comp/publish/henry.v003.ma&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">template_path</span><span class="o">.</span><span class="n">validate_and_get_fields</span><span class="p">(</span><span class="n">bad_path</span><span class="p">)</span>
<span class="go">None</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – Path to validate</p></li>
<li><p><strong>required_fields</strong> – An optional dictionary of key names to key values. If supplied these values must
be present in the input path and found by the template.</p></li>
<li><p><strong>skip_keys</strong> – List of field names whose values should be ignored</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of fields found from the path or None if path fails to validate</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Template.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/template.html#Template.validate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Template.validate" title="Permalink to this definition"></a></dt>
<dd><p>Validates that a path can be mapped to the pattern given by the template. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">good_path</span> <span class="o">=</span> <span class="s1">&#39;/studio_root/sgtk/demo_project_1/sequences/seq_1/shot_2/comp/publish/henry.v003.ma&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">template_path</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">good_path</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">bad_path</span> <span class="o">=</span> <span class="s1">&#39;/studio_root/sgtk/demo_project_1/shot_2/comp/publish/henry.v003.ma&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">template_path</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="n">bad_path</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>String</em>) – Path to validate</p></li>
<li><p><strong>fields</strong> (<em>Dictionary</em>) – An optional dictionary of key names to key values. If supplied these values must
be present in the input path and found by the template.</p></li>
<li><p><strong>skip_keys</strong> (<em>List</em>) – Field names whose values should be ignored</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the path is valid for this template</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.Template.get_fields">
<span class="sig-name descname"><span class="pre">get_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/template.html#Template.get_fields"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.Template.get_fields" title="Permalink to this definition"></a></dt>
<dd><p>Extracts key name, value pairs from a string. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">input_path</span> <span class="o">=</span> <span class="s1">&#39;/studio_root/sgtk/demo_project_1/sequences/seq_1/shot_2/comp/publish/henry.v003.ma&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">template_path</span><span class="o">.</span><span class="n">get_fields</span><span class="p">(</span><span class="n">input_path</span><span class="p">)</span>

<span class="go">{&#39;Sequence&#39;: &#39;seq_1&#39;,</span>
<span class="go"> &#39;Shot&#39;: &#39;shot_2&#39;,</span>
<span class="go"> &#39;Step&#39;: &#39;comp&#39;,</span>
<span class="go"> &#39;name&#39;: &#39;henry&#39;,</span>
<span class="go"> &#39;version&#39;: 3}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_path</strong> (<em>String</em>) – Source path for values</p></li>
<li><p><strong>skip_keys</strong> (<em>List</em>) – Optional keys to skip</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Values found in the path based on keys in template</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="templatepath">
<h3>TemplatePath<a class="headerlink" href="#templatepath" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.TemplatePath">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">TemplatePath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">definition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_platform_roots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/template.html#TemplatePath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.TemplatePath" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference internal" href="#sgtk.Template" title="sgtk.Template"><code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code></a> representing a complete path on disk. The template definition is multi-platform
and you can pass it per-os roots given by a separate <a class="reference internal" href="#sgtk.TemplatePath.root_path" title="sgtk.TemplatePath.root_path"><code class="xref py py-meth docutils literal notranslate"><span class="pre">root_path()</span></code></a>.</p>
<p>TemplatePath objects are typically created automatically by toolkit reading
the template configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>definition</strong> – Template definition string.</p></li>
<li><p><strong>keys</strong> – Mapping of key names to keys (dict)</p></li>
<li><p><strong>root_path</strong> – Path to project root for this template.</p></li>
<li><p><strong>name</strong> – Optional name for this template.</p></li>
<li><p><strong>per_platform_roots</strong> – Root paths for all supported operating systems.
This is a dictionary with sys.platform-style keys</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="sgtk.TemplatePath.root_path">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">root_path</span></span><a class="headerlink" href="#sgtk.TemplatePath.root_path" title="Permalink to this definition"></a></dt>
<dd><p>Returns the root path associated with this template.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.TemplatePath.parent">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parent</span></span><a class="headerlink" href="#sgtk.TemplatePath.parent" title="Permalink to this definition"></a></dt>
<dd><p>Returns Template representing the parent of this object.</p>
<p>For paths, this means the parent folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sgtk.Template" title="sgtk.Template"><code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="templatestring">
<h3>TemplateString<a class="headerlink" href="#templatestring" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.TemplateString">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">TemplateString</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">definition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate_with</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/template.html#TemplateString"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.TemplateString" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference internal" href="#sgtk.Template" title="sgtk.Template"><code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code></a> class for templates representing strings.</p>
<p>Templated strings are useful if you want to write code where you can configure
the formatting of strings, for example how a name or other string field should
be configured in Shotgun, given a series of key values.</p>
<p>TemplatePath objects are typically created automatically by toolkit reading
the template configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>definition</strong> – Template definition string.</p></li>
<li><p><strong>keys</strong> – Mapping of key names to keys (dict)</p></li>
<li><p><strong>name</strong> – Optional name for this template.</p></li>
<li><p><strong>validate_with</strong> – Optional <a class="reference internal" href="#sgtk.Template" title="sgtk.Template"><code class="xref py py-class docutils literal notranslate"><span class="pre">Template</span></code></a> to use for validation</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="sgtk.TemplateString.parent">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parent</span></span><a class="headerlink" href="#sgtk.TemplateString.parent" title="Permalink to this definition"></a></dt>
<dd><p>Strings don’t have a concept of parent so this always returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

</dd></dl>

</section>
<section id="templatekey">
<h3>TemplateKey<a class="headerlink" href="#templatekey" title="Permalink to this heading"></a></h3>
<p>A template, e.g. <code class="docutils literal notranslate"><span class="pre">shots/{Shot}/{Step}/pub/{name}.v{version}.ma</span></code> consists of several dynamic <code class="docutils literal notranslate"><span class="pre">{tokens}</span></code>.
Each token is represented by a <a class="reference internal" href="#sgtk.TemplateKey" title="sgtk.TemplateKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">TemplateKey</span></code></a> object at runtime, where you can access properties and
execute token specific logic.</p>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.TemplateKey">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">TemplateKey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shotgun_entity_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shotgun_field_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclusions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abstract</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/templatekey.html#TemplateKey"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.TemplateKey" title="Permalink to this definition"></a></dt>
<dd><p>Base class for all template key types. Should not be used directly.</p>
<p>TemplateKeys are used by Template object to move between key values and resolved strings.
The template keys handle the manner in which this conversion should occur. Template keys come
in four flavors: string, integer, sequence and timestamp:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio.08/demo_project&quot;</span><span class="p">)</span>


<span class="gp">&gt;&gt;&gt; </span><span class="n">template_path</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">templates</span><span class="p">[</span><span class="s1">&#39;nuke_asset_render&#39;</span><span class="p">]</span>
<span class="go"># .../{name}/v{version}/{width}x{height}/{Asset}_{name}_{output}_{render_time}.{frame}.exr&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">str_key</span> <span class="o">=</span> <span class="n">template_path</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s1">&#39;Asset&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">str_key</span>
<span class="go">&lt;Sgtk StringKey Asset&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">int_key</span> <span class="o">=</span> <span class="n">template_path</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s1">&#39;height&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">int_key</span>
<span class="go">&lt;Sgtk IntegerKey height&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">seq_key</span> <span class="o">=</span> <span class="n">template_path</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s1">&#39;frame&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">seq_key</span>
<span class="go">&lt;Sgtk SequenceKey frame&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">timestamp_key</span> <span class="o">=</span> <span class="n">template_path</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="s1">&#39;render_time&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timestamp_key</span>
<span class="go">&lt;Sgtk TimestampKey render_time&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name by which the key will be referred.</p></li>
<li><p><strong>default</strong> – Default value for this key. If the default is a callable, it will be invoked
without any parameters whenever a default value is required.</p></li>
<li><p><strong>choices</strong> – List of possible values for this key. Can be either a list or a dictionary
of choice:label pairs.</p></li>
<li><p><strong>shotgun_entity_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – For keys directly linked to a shotgun field, the entity type.</p></li>
<li><p><strong>shotgun_field_name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – For keys directly linked to a shotgun field, the field name.</p></li>
<li><p><strong>exclusions</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – List of forbidden values.</p></li>
<li><p><strong>abstract</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Flagging that this should be treated as an abstract key.</p></li>
<li><p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – If non-None, indicating that the value should be of a fixed length.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="sgtk.TemplateKey.default">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">default</span></span><a class="headerlink" href="#sgtk.TemplateKey.default" title="Permalink to this definition"></a></dt>
<dd><p>The default value for this key. If the default argument was specified
as a callable in the constructor, it is invoked and assumed to take no parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The default value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.TemplateKey.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#sgtk.TemplateKey.name" title="Permalink to this definition"></a></dt>
<dd><p>The name that the template will use to refer to the key.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.TemplateKey.length">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">length</span></span><a class="headerlink" href="#sgtk.TemplateKey.length" title="Permalink to this definition"></a></dt>
<dd><p>Fixed length that needs to be used for this item or None if any length is valid.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.TemplateKey.shotgun_entity_type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shotgun_entity_type</span></span><a class="headerlink" href="#sgtk.TemplateKey.shotgun_entity_type" title="Permalink to this definition"></a></dt>
<dd><p>Shotgun entity type associated with this item</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.TemplateKey.shotgun_field_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shotgun_field_name</span></span><a class="headerlink" href="#sgtk.TemplateKey.shotgun_field_name" title="Permalink to this definition"></a></dt>
<dd><p>Shotgun field name associated with this item</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.TemplateKey.exclusions">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">exclusions</span></span><a class="headerlink" href="#sgtk.TemplateKey.exclusions" title="Permalink to this definition"></a></dt>
<dd><p>List of values which are not allowed for this item.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.TemplateKey.is_abstract">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_abstract</span></span><a class="headerlink" href="#sgtk.TemplateKey.is_abstract" title="Permalink to this definition"></a></dt>
<dd><p>A boolean value indicating if this key is abstract. Abstract keys are
typically used in conjunction with path elements which represent clusters
of files, for example when you want to represent a sequence of frames using a
<code class="docutils literal notranslate"><span class="pre">%04d</span></code> syntax or a left and right eye using a <code class="docutils literal notranslate"><span class="pre">%v</span></code> syntax.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.TemplateKey.choices">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">choices</span></span><a class="headerlink" href="#sgtk.TemplateKey.choices" title="Permalink to this definition"></a></dt>
<dd><p>List of choices available, e.g. <code class="docutils literal notranslate"><span class="pre">['ma',</span> <span class="pre">'mb']</span></code></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.TemplateKey.labelled_choices">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">labelled_choices</span></span><a class="headerlink" href="#sgtk.TemplateKey.labelled_choices" title="Permalink to this definition"></a></dt>
<dd><p>Dictionary of labelled choices, e.g. <code class="docutils literal notranslate"><span class="pre">{'ma':</span> <span class="pre">'Maya</span> <span class="pre">Ascii',</span> <span class="pre">'mb':</span> <span class="pre">'Maya</span> <span class="pre">Binary'}</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.TemplateKey.str_from_value">
<span class="sig-name descname"><span class="pre">str_from_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/templatekey.html#TemplateKey.str_from_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.TemplateKey.str_from_value" title="Permalink to this definition"></a></dt>
<dd><p>Returns a string version of a value as appropriate for the key’s setting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> – Value to process. If None, the key’s default will be used.</p></li>
<li><p><strong>ignore_type</strong> – If true, no validation will be carried out prior to casting.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String version of value as processed by the key.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#sgtk.TankError" title="sgtk.TankError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankError</span></code></a> if value is not valid for the key.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.TemplateKey.value_from_str">
<span class="sig-name descname"><span class="pre">value_from_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/templatekey.html#TemplateKey.value_from_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.TemplateKey.value_from_str" title="Permalink to this definition"></a></dt>
<dd><p>Validates and translates a string into an appropriate value for this key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>str_value</strong> – The string to translate.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The translated value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.TemplateKey.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/templatekey.html#TemplateKey.validate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.TemplateKey.validate" title="Permalink to this definition"></a></dt>
<dd><p>Test if a value is valid for this key:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">str_key</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">int_key</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">int_key</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">False</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">seq_key</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">seq_key</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> – Value to test</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="stringkey">
<h3>StringKey<a class="headerlink" href="#stringkey" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.StringKey">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">StringKey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shotgun_entity_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shotgun_field_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclusions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abstract</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subset_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/templatekey.html#StringKey"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.StringKey" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference internal" href="#sgtk.TemplateKey" title="sgtk.TemplateKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">TemplateKey</span></code></a> representing a string value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name by which the key will be referred.</p></li>
<li><p><strong>default</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Default value for the key.</p></li>
<li><p><strong>choices</strong> – List of possible values for this key. Can be either a list or a dictionary
of choice:label pairs.</p></li>
<li><p><strong>filter_by</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name of filter type to limit values for string. Currently
only accepted values are ‘alphanumeric’, ‘alpha’, None and a regex string.</p></li>
<li><p><strong>shotgun_entity_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – For keys directly linked to a shotgun field, the entity type.</p></li>
<li><p><strong>shotgun_field_name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – For keys directly linked to a shotgun field, the field name.</p></li>
<li><p><strong>exclusions</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – List of forbidden values.</p></li>
<li><p><strong>abstract</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Flagging that this should be treated as an abstract key.</p></li>
<li><p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – If non-None, indicating that the value should be of a fixed length.</p></li>
<li><p><strong>subset</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Regular expression defining a subset of the value to use.</p></li>
<li><p><strong>subset_format</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – String to express the formatting of subset tokens.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="sgtk.StringKey.filter_by">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">filter_by</span></span><a class="headerlink" href="#sgtk.StringKey.filter_by" title="Permalink to this definition"></a></dt>
<dd><p>Name of filter type to limit values for string.
<code class="docutils literal notranslate"><span class="pre">alphanumeric</span></code>, <code class="docutils literal notranslate"><span class="pre">alpha</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code> or a regex string.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.StringKey.subset">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">subset</span></span><a class="headerlink" href="#sgtk.StringKey.subset" title="Permalink to this definition"></a></dt>
<dd><p>Returns a regular expression describing how values should be transformed
when they are being injected into template paths and strings.</p>
<p>The format for a subset is a regular expression containing regex groups,
for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># grabs capital letters of the two first words</span>
<span class="n">user_initials</span><span class="p">:</span>
    <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">subset</span><span class="p">:</span> <span class="s1">&#39;([A-Z])[a-z]* ([A-Z])[a-z]*&#39;</span>

<span class="c1"># extracts the first three characters</span>
<span class="n">first_three_characters</span><span class="p">:</span>
    <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">subset</span><span class="p">:</span> <span class="s1">&#39;(.</span><span class="si">{3}</span><span class="s1">).*&#39;</span>

<span class="c1"># in code, the above expressions would compress the following input:</span>

<span class="n">some_template</span><span class="o">.</span><span class="n">apply_fields</span><span class="p">(</span>
    <span class="p">{</span><span class="s2">&quot;user_initials&quot;</span><span class="p">:</span> <span class="s2">&quot;John Smith&quot;</span><span class="p">,</span>
    <span class="s2">&quot;first_three_characters&quot;</span><span class="p">:</span> <span class="s2">&quot;John Smith&quot;</span><span class="p">}</span>
<span class="p">)</span>

<span class="c1"># into &quot;JS&quot; for the {user_initials} key and &quot;Joh&quot; for the {first_three_characters} key</span>
</pre></div>
</div>
<p>If the subset expression contains more than one <code class="docutils literal notranslate"><span class="pre">(regex</span> <span class="pre">group)</span></code> to extract, the groups
will be concatenated together in the order they are found. If you want greater control
over this, see <a class="reference internal" href="#sgtk.StringKey.subset_format" title="sgtk.StringKey.subset_format"><code class="xref py py-meth docutils literal notranslate"><span class="pre">subset_format()</span></code></a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.StringKey.subset_format">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">subset_format</span></span><a class="headerlink" href="#sgtk.StringKey.subset_format" title="Permalink to this definition"></a></dt>
<dd><p>Returns the <code class="docutils literal notranslate"><span class="pre">subset_format</span></code> string for the given template key. This string is used in conjunction with the
<a class="reference internal" href="#sgtk.StringKey.subset" title="sgtk.StringKey.subset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">subset()</span></code></a> parameter and allows for the formatting of the values that are being extracted:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># grabs capital letters of the two first words</span>
<span class="n">user_initials_backwards</span><span class="p">:</span>
    <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">subset</span><span class="p">:</span> <span class="s1">&#39;([A-Z])[a-z]* ([A-Z])[a-z]*&#39;</span>
    <span class="n">subset_format</span><span class="p">:</span> <span class="s1">&#39;</span><span class="si">{1}{0}</span><span class="s1">&#39;</span>

<span class="c1"># in code, the above expression would compress the following input:</span>

<span class="n">some_template</span><span class="o">.</span><span class="n">apply_fields</span><span class="p">({</span><span class="s2">&quot;user_initials&quot;</span><span class="p">:</span> <span class="s2">&quot;John Smith&quot;</span><span class="p">})</span>

<span class="c1"># into &quot;SJ&quot; for the user_initials_backwards key.</span>
</pre></div>
</div>
<p>The formatting used for the string is standard python custom string formatting, where you can reference
each regex group with an integer index. Read more about standard python string formatting here:
<a class="reference external" href="https://docs.python.org/2/library/string.html#custom-string-formatting">https://docs.python.org/2/library/string.html#custom-string-formatting</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Subset format is using python string formatting and is only compatible with
with Python 2.6+.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.StringKey.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/templatekey.html#StringKey.validate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.StringKey.validate" title="Permalink to this definition"></a></dt>
<dd><p>Test if a value is valid for this key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> – Value to test</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if valid, false if not.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.StringKey.value_from_str">
<span class="sig-name descname"><span class="pre">value_from_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">str_value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/templatekey.html#StringKey.value_from_str"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.StringKey.value_from_str" title="Permalink to this definition"></a></dt>
<dd><p>Validates and translates a string into an appropriate value for this key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>str_value</strong> – The string to translate.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The translated value.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="sequencekey">
<h3>SequenceKey<a class="headerlink" href="#sequencekey" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.SequenceKey">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">SequenceKey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_spec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'01'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shotgun_entity_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shotgun_field_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclusions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/templatekey.html#SequenceKey"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.SequenceKey" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference internal" href="#sgtk.TemplateKey" title="sgtk.TemplateKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">TemplateKey</span></code></a> representing an integer sequence, usually used to handle frame sequences.</p>
<p>With image sequences, there are many ways of representing a set of images. Different
applications use different representations, so it is often necessary to be able to
extract image sequences on a particular format so that it works with a particular
application environment.</p>
<p>In Toolkit, this can be done using a special FORMAT directive. This format directive
only works with abstract image sequence fields and supports a number of different formats.
For example, an app may need to reconstruct a path, but the app doesn’t know if the user
has configured the input paths to use eight zero padded paths or four zero padded paths.
However, the app runs in Nuke, so it needs path on the form %04d (for four zero padded paths).
In order to get the correct padding, pass <code class="docutils literal notranslate"><span class="pre">FORMAT:</span> <span class="pre">%d</span></code> and Toolkit will format this with the
correct padding.</p>
<p>The following conversions are supported for sequence keys:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">FORMAT:</span> <span class="pre">%d</span></code> - Turns format_spec 04 into <code class="docutils literal notranslate"><span class="pre">%04d</span></code> and a non-zero padded format_spec into <code class="docutils literal notranslate"><span class="pre">%d</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FORMAT:</span> <span class="pre">&#64;</span></code> - Turns format_spec 04 into <code class="docutils literal notranslate"><span class="pre">&#64;&#64;&#64;&#64;</span></code> and a non-zero padded format_spec into <code class="docutils literal notranslate"><span class="pre">&#64;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FORMAT:</span> <span class="pre">#</span></code> - Turns format_spec 04 into <code class="docutils literal notranslate"><span class="pre">####</span></code> and a non-zero padded format_spec into <code class="docutils literal notranslate"><span class="pre">#</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FORMAT:</span> <span class="pre">$F</span></code> - Turns format_spec 04 into <code class="docutils literal notranslate"><span class="pre">$F4</span></code> and a non-zero padded format_spec into <code class="docutils literal notranslate"><span class="pre">$F</span></code></p></li>
</ul>
</div></blockquote>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># An app in nuke generates a sequence path like this:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">fields</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Shot&quot;</span><span class="p">:</span><span class="s2">&quot;shot_2&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;render&quot;</span><span class="p">,</span> <span class="s2">&quot;seq&quot;</span><span class="p">:</span> <span class="s2">&quot;FORMAT: </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">}</span>
<span class="c1"># the FORMAT field will correctly format the key regardless of</span>
<span class="c1"># how it has been configured (e.g. for any type of padding)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">template_path</span><span class="o">.</span><span class="n">apply_fields</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span>
<span class="s1">&#39;/mnt/proj/shot_2/publish/render.</span><span class="si">%04d</span><span class="s1">.exr&#39;</span>


<span class="c1"># in houdini, the code would look like this</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">fields</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Shot&quot;</span><span class="p">:</span><span class="s2">&quot;shot_2&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;render&quot;</span><span class="p">,</span> <span class="s2">&quot;seq&quot;</span><span class="p">:</span> <span class="s2">&quot;FORMAT: $F&quot;</span><span class="p">}</span>
<span class="c1"># the FORMAT field will correctly format the key regardless of</span>
<span class="c1"># how it has been configured (e.g. for any type of padding)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">template_path</span><span class="o">.</span><span class="n">apply_fields</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span>
<span class="s1">&#39;/mnt/proj/shot_2/publish/render.$F4.exr&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name by which the key will be referred.</p></li>
<li><p><strong>default</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Default value for this key.</p></li>
<li><p><strong>choices</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – List of possible values for this key.</p></li>
<li><p><strong>format_spec</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Specification for formatting when casting to a string.
The form is a zero followed the number of spaces to pad
the value.</p></li>
<li><p><strong>shotgun_entity_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – For keys directly linked to a shotgun field, the entity type.</p></li>
<li><p><strong>shotgun_field_name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – For keys directly linked to a shotgun field, the field name.</p></li>
<li><p><strong>exclusions</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – List of forbidden values.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.SequenceKey.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/templatekey.html#SequenceKey.validate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.SequenceKey.validate" title="Permalink to this definition"></a></dt>
<dd><p>Test if a value is valid for this key:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">str_key</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">int_key</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">int_key</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">False</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">seq_key</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">seq_key</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> – Value to test</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="integerkey">
<h3>IntegerKey<a class="headerlink" href="#integerkey" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.IntegerKey">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">IntegerKey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_spec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shotgun_entity_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shotgun_field_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclusions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abstract</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict_matching</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/templatekey.html#IntegerKey"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.IntegerKey" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference internal" href="#sgtk.TemplateKey" title="sgtk.TemplateKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">TemplateKey</span></code></a> representing an integer value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name by which the key will be referred.</p></li>
<li><p><strong>default</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – Default value for this key.</p></li>
<li><p><strong>choices</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – List of possible values for this key.</p></li>
<li><p><strong>format_spec</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Specification for formatting when casting to a string.
The form is a zero followed the number of spaces to pad
the value.</p></li>
<li><p><strong>shotgun_entity_type</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – For keys directly linked to a shotgun field, the entity type.</p></li>
<li><p><strong>shotgun_field_name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – For keys directly linked to a shotgun field, the field name.</p></li>
<li><p><strong>exclusions</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) – List of forbidden values.</p></li>
<li><p><strong>abstract</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Flagging that this should be treated as an abstract key.</p></li>
<li><p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – If non-None, indicating that the value should be of a fixed length.</p></li>
<li><p><strong>strict_matching</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) – Indicates if the padding should be matching exactly the
format_spec when parsing a string. Default behavior is to match
exactly the padding when a format_spec is provided.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="sgtk.IntegerKey.format_spec">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">format_spec</span></span><a class="headerlink" href="#sgtk.IntegerKey.format_spec" title="Permalink to this definition"></a></dt>
<dd><p>Specification for formatting when casting to a string.
The form is a zero followed the number of spaces to pad
the value.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sgtk.IntegerKey.strict_matching">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">strict_matching</span></span><a class="headerlink" href="#sgtk.IntegerKey.strict_matching" title="Permalink to this definition"></a></dt>
<dd><p>Indicates if the padding should be matching exactly the
format_spec when parsing a string.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.IntegerKey.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/templatekey.html#IntegerKey.validate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.IntegerKey.validate" title="Permalink to this definition"></a></dt>
<dd><p>Test if a value is valid for this key:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">str_key</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">int_key</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">int_key</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">False</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">seq_key</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">seq_key</span><span class="o">.</span><span class="n">validate</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> – Value to test</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="timestampkey">
<h3>TimestampKey<a class="headerlink" href="#timestampkey" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.TimestampKey">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">TimestampKey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_spec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%Y-%m-%d-%H-%M-%S'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/templatekey.html#TimestampKey"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.TimestampKey" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference internal" href="#sgtk.TemplateKey" title="sgtk.TemplateKey"><code class="xref py py-class docutils literal notranslate"><span class="pre">TemplateKey</span></code></a> representing a time or date string formatted with strftime.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Name by which the key will be referred.</p></li>
<li><p><strong>default</strong> – <p>Default value for this field. Acceptable values are:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p></li>
<li><p>a string formatted according to the format_spec, e.g. ‘2003-01-02 12:23’</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">utc_now</span></code>, which means the current time in the UTC timezone will be used
as the default value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">now</span></code>, which means the current time in the local timezone will be used
as the default value.</p></li>
</ul>
</p></li>
<li><p><strong>format_spec</strong> (<a class="reference external" href="https://docs.python.org/3.9/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – Specification for formatting when casting to/from a string.
The format follows the convention of <code class="xref py py-meth docutils literal notranslate"><span class="pre">time.strftime()</span></code>. The
default value is <code class="docutils literal notranslate"><span class="pre">%Y-%m-%d-%H-%M-%S</span></code>. Given June 24th, 2015 at
9:20:30 PM, this will yield <code class="docutils literal notranslate"><span class="pre">2015-06-24-21-20-30</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="sgtk.TimestampKey.format_spec">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">format_spec</span></span><a class="headerlink" href="#sgtk.TimestampKey.format_spec" title="Permalink to this definition"></a></dt>
<dd><p>Specification for formatting when casting to/from a string.
The format follows the convention of <code class="xref py py-meth docutils literal notranslate"><span class="pre">time.strftime()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sgtk.TimestampKey.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/templatekey.html#TimestampKey.validate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.TimestampKey.validate" title="Permalink to this definition"></a></dt>
<dd><p>Test if a value is valid for this key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> – Value to test.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="exceptions">
<h2>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this heading"></a></h2>
<p>The following exceptions are raised by the Toolkit Core API classes:</p>
<dl class="py class">
<dt class="sig sig-object py" id="sgtk.TankError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">TankError</span></span><a class="reference internal" href="_modules/tank/errors.html#TankError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.TankError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.9/library/exceptions.html#Exception" title="(in Python v3.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Top level exception for all toolkit-core level runtime errors</p>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.TankError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.TankError.with_traceback" title="Permalink to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sgtk.TankErrorProjectIsSetup">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">TankErrorProjectIsSetup</span></span><a class="reference internal" href="_modules/tank/errors.html#TankErrorProjectIsSetup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.TankErrorProjectIsSetup" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sgtk.TankError" title="tank.errors.TankError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankError</span></code></a></p>
<p>Exception that indicates that a project already has a toolkit name but no pipeline configuration.</p>
<p>Include error message</p>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.TankErrorProjectIsSetup.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.TankErrorProjectIsSetup.with_traceback" title="Permalink to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sgtk.TankFileDoesNotExistError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">TankFileDoesNotExistError</span></span><a class="reference internal" href="_modules/tank/errors.html#TankFileDoesNotExistError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.TankFileDoesNotExistError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sgtk.TankUnreadableFileError" title="tank.errors.TankUnreadableFileError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankUnreadableFileError</span></code></a></p>
<p>Exception that indicates that a required file does not exist.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.TankFileDoesNotExistError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.TankFileDoesNotExistError.with_traceback" title="Permalink to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sgtk.TankHookMethodDoesNotExistError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">TankHookMethodDoesNotExistError</span></span><a class="reference internal" href="_modules/tank/errors.html#TankHookMethodDoesNotExistError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.TankHookMethodDoesNotExistError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sgtk.TankError" title="tank.errors.TankError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankError</span></code></a></p>
<p>Exception that indicates that a called method does not exist in the hook.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.TankHookMethodDoesNotExistError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.TankHookMethodDoesNotExistError.with_traceback" title="Permalink to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sgtk.TankUnreadableFileError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">TankUnreadableFileError</span></span><a class="reference internal" href="_modules/tank/errors.html#TankUnreadableFileError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.TankUnreadableFileError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sgtk.TankError" title="tank.errors.TankError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankError</span></code></a></p>
<p>Exception that indicates that a required file can’t be read from disk.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.TankUnreadableFileError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.TankUnreadableFileError.with_traceback" title="Permalink to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sgtk.TankInvalidCoreLocationError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">TankInvalidCoreLocationError</span></span><a class="reference internal" href="_modules/tank/errors.html#TankInvalidCoreLocationError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.TankInvalidCoreLocationError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sgtk.TankError" title="tank.errors.TankError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankError</span></code></a></p>
<p>Exception that indicates the core location file contained an invalid path.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.TankInvalidCoreLocationError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.TankInvalidCoreLocationError.with_traceback" title="Permalink to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="sgtk.TankNotPipelineConfigurationError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sgtk.</span></span><span class="sig-name descname"><span class="pre">TankNotPipelineConfigurationError</span></span><a class="reference internal" href="_modules/tank/errors.html#TankNotPipelineConfigurationError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sgtk.TankNotPipelineConfigurationError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#sgtk.TankError" title="tank.errors.TankError"><code class="xref py py-class docutils literal notranslate"><span class="pre">TankError</span></code></a></p>
<p>Exception that indicates that a folder doesn’t contain a pipeline configuration.</p>
<dl class="py method">
<dt class="sig sig-object py" id="sgtk.TankNotPipelineConfigurationError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sgtk.TankNotPipelineConfigurationError.with_traceback" title="Permalink to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="initializing.html" class="btn btn-neutral float-left" title="Initialization and startup" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="platform.html" class="btn btn-neutral float-right" title="Apps, Engines and Frameworks" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Autodesk.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 

  <script type="text/javascript">
    window.wafCCPAForceShow = true;
    (function(a,b,c,d){
      a='https://tags.tiqcdn.com/utag/autodesk/micro-basic/prod/utag.js';
      b=document;c='script';d=b.createElement(c);d.src=a;d.type='text/java'+c;d.async=true;
      a=b.getElementsByTagName(c)[0];a.parentNode.insertBefore(d,a);
    })();
  </script>


</body>
</html>




<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Initialization and startup &mdash; tk-core v0.18.152 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="tk-core v0.18.152 documentation" href="index.html"/>
        <link rel="next" title="Core" href="core.html"/>
        <link rel="prev" title="Overview" href="overview.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
    <a href='http://developer.shotgunsoftware.com'>
    
        <img style='width: 191px;
                height: 60px; 
                margin: 2px;
                border-radius: 0px; 
                padding: 0px;' 
            src='_static/logo@2x.png'/>
    
    </a>
    

          
            <a href="index.html" class="icon icon-home"> tk-core
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Initialization and startup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-toolkit-startup">The Toolkit startup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#distributed-configurations">Distributed configurations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#centralized-configurations">Centralized configurations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#uploading-a-configuration-to-shotgun">Uploading a configuration to Shotgun</a></li>
<li class="toctree-l2"><a class="reference internal" href="#managing-distributed-configurations">Managing distributed configurations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#fixing-a-version-for-a-project">Fixing a version for a project</a></li>
<li class="toctree-l4"><a class="reference internal" href="#git-site-and-project-configurations">Git site and project configurations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#developer-sandbox">Developer sandbox</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#plugins-and-plugin-ids">Plugins and plugin ids</a></li>
<li class="toctree-l3"><a class="reference internal" href="#self-contained-configurations">Self contained configurations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configurations-with-filesystem-templates">Configurations with filesystem templates</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#managing-centralized-configurations">Managing centralized configurations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configuration-maintenance">Configuration Maintenance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#starting-a-toolkit-engine-from-a-centralized-project">Starting a Toolkit engine from a centralized project</a></li>
<li class="toctree-l3"><a class="reference internal" href="#factory-methods">Factory methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#bootstrap-api">Bootstrap API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#environment-variables">Environment Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#toolkitmanager">ToolkitManager</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exception-classes">Exception Classes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#installing-the-sgtk-module-using-pip">Installing the sgtk module using pip</a></li>
<li class="toctree-l2"><a class="reference internal" href="#launching-software">Launching Software</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#a-simple-launch-application">A Simple Launch Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="#engine-implementation">Engine Implementation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#after-software-launch">After software launch</a></li>
<li class="toctree-l4"><a class="reference internal" href="#settings-and-configuration">Settings and configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#software-launch-apis">Software Launch APIs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#softwarelauncher">SoftwareLauncher</a></li>
<li class="toctree-l4"><a class="reference internal" href="#softwareversion">SoftwareVersion</a></li>
<li class="toctree-l4"><a class="reference internal" href="#launchinformation">LaunchInformation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core.html">Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="platform.html">Apps, Engines and Frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="descriptor.html">Descriptors</a></li>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Authentication</a></li>
</ul>

            
          

    <a href='genindex.html'>Alphabetic Index</a>

    <div style='margin-top: 50px;
                margin-left: 10px;
                margin-right: 10px;
                padding: 10px; 
                color: #b3b3b3; 
                font-size: 70%;
                border-radius: 3px;
                background-color: #444;
                line-height: 18px;
                '>    
    <style>
        a.custom_post_menu { display: inline; 
                             padding: 0px; 
                             text-decoration: underline; }
    </style>

    <b>tk-core</b> v0.18.152.<br>
    
        This documentation is part of the Shotgun Pipeline Toolkit.
    
    For more information, please visit
    <a class=custom_post_menu href='https://support.shotgunsoftware.com/home'>Shotgun Support</a>.
    The code associated with this documentation can be found 
    <a class=custom_post_menu href='https://github.com/shotgunsoftware/tk-core'>here</a>.

    </div>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">tk-core</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Initialization and startup</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="initialization-and-startup">
<span id="init-and-startup"></span><h1>Initialization and startup<a class="headerlink" href="#initialization-and-startup" title="Permalink to this headline">¶</a></h1>
<p>This section outlines how Toolkit starts up and initializes. It explains the common
patterns around startup, configuration management and the various
APIs and workflows related to this process.</p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Toolkit is controlled using <em>Pipeline Configuration Entities</em>. Each Project in Shotgun can have one or
more of these entities associated. The Shotgun entity either contains Toolkit configuration settings
directly, or points to a location where these can be downloaded from.</p>
<p>When Toolkit starts up, it ensures that these configuration settings exists on disk, alongside
with all other necessary pieces required for Toolkit to operate. This collection of files
is referred to as a <em>Pipeline Configuration</em>.</p>
<a class="reference internal image-reference" href="_images/tk_project.png"><img alt="_images/tk_project.png" class="align-center" src="_images/tk_project.png" style="width: 700px;" /></a>
<p>The Pipeline Configuration on disk contains the following items:</p>
<ul class="simple">
<li>Configuration files - all the the details that define the configuration:
app and engine settings, naming convention and file system templates.</li>
<li>An installed version of the Toolkit Core API as required by the configuration.</li>
<li>A <code class="docutils literal"><span class="pre">tank</span></code> command which gives access to admin and maintenance commands to
make it easy to upgrade and configure the configuration. It also gives
access to the shell engine environment.</li>
<li>A so called bundle cache, contained inside an <code class="docutils literal"><span class="pre">install</span></code> folder, containing
downloaded apps, frameworks and engines defined by the configuration.
This cache is downloaded from locations such as the Shotgun App Store,
git or from your Shotgun site, all handled by Toolkit&#8217;s
<a class="reference internal" href="descriptor.html#descriptor"><span class="std std-ref">Descriptor</span></a> system.</li>
</ul>
<p>By default, each pipeline configuration in Toolkit has its own
independent API and configuration, making it easy to customize different
projects independently and evolve the pipeline over time without breaking older
projects. However, it is possible to arrange your configuration in several
different other ways, all explained below.</p>
<p>In Shotgun, the main Pipeline Configuration Entity for a project is always named <code class="docutils literal"><span class="pre">Primary</span></code>.
In addition to this, additional pipeline configurations entities can
be set up. Typically, these are used as test areas or <strong>developer sandboxes</strong>, where you
want to run with special configuration settings. These developer sandboxes can be associated
with certain users to make it easy to run development and testing
in parallel with production.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To read more about the default configurations offered with Toolkit, see
the <a class="reference external" href="https://support.shotgunsoftware.com/hc/en-us/articles/115000067493-Integrations-Admin-Guide">Shotgun integrations admin guide</a>.</p>
</div>
</div>
<div class="section" id="the-toolkit-startup">
<h2>The Toolkit startup<a class="headerlink" href="#the-toolkit-startup" title="Permalink to this headline">¶</a></h2>
<p>In order to understand how the Toolkit startup APIs operate,
let&#8217;s begin by taking a look at how the default Toolkit configuration
operates at a high level:</p>
<a class="reference internal image-reference" href="_images/launch.png"><img alt="_images/launch.png" class="align-center" src="_images/launch.png" style="width: 400px;" /></a>
<p>This design is repeated everywhere and is a pattern which can be easily extended.
Users typically launch Toolkit by launching the Shotgun Desktop. The Shotgun Desktop
contains a <em>Toolkit plugin</em> which runs the <a class="reference internal" href="#bootstrap-api"><span class="std std-ref">Bootstrap API</span></a> in order to load in a
full Toolkit environment.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A <strong>Toolkit plugin</strong> is a lightweight piece of startup code which imports the Toolkit core
and launches the bootstrap API. Most content creation software have a concept of a plugin
or extension system. Each Toolkit engine (Maya, Nuke, Houdini, etc) implements a plugin
suitable for that software environment.</p>
</div>
<p>Once the plugin is loaded, and the bootstrap is running, it will start by prompting the user to log in
to a site. Next, it will connect to the Shotgun Site to determine if any Pipeline Configuration Entities
exist associated with the project. If so, these are used to configure the Toolkit session.
If not, the default plugins running in Shotgun Desktop will fall back on looking for the
latest release of the <code class="docutils literal"><span class="pre">tk-config-basic</span></code> configuration in the Shotgun App Store.</p>
<p>The bootstrap API will make the necessary preparations and then launch a Toolkit <a class="reference internal" href="platform.html#engines"><span class="std std-ref">Engine</span></a>,
as well as the apps defined in the configuration.</p>
<a class="reference internal image-reference" href="_images/launch2.png"><img alt="_images/launch2.png" class="align-center" src="_images/launch2.png" style="width: 700px;" /></a>
<p>In the figure above, note the <em>Launch App</em> which is designed to launch other software.
This app makes use of a centralized <a class="reference internal" href="#launching-software"><span class="std std-ref">Software Launch API</span></a>. The launch app
will use this API to determine the available installations of a software, launch it, and ensure that upon launch,
the Toolkit plugin associated with that software is launched at startup.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This pattern is very flexible and Toolkit plugins can be crafted
in many different ways, to be auto updating or come with a fixed bundled
configuration for offline use, to be distributed with an engine or be
completely stand alone. Similarly, the <a class="reference internal" href="#bootstrap-api"><span class="std std-ref">bootstrap API</span></a>
is merely a mechanism that allows a user to load a pipeline configuration and
launch an engine and can be utilized in many different scenarios, not just contained
inside a plugin. Examples include render farm launch scripts, integration with
software management systems such as <a class="reference external" href="https://github.com/nerdvegas/rez/wiki">Rez</a>,
general utilities, etc.</p>
</div>
<p>There are two fundamentally different ways to set up a Toolkit Project in Shotgun,
both briefly outlined below:</p>
<div class="section" id="distributed-configurations">
<h3>Distributed configurations<a class="headerlink" href="#distributed-configurations" title="Permalink to this headline">¶</a></h3>
<p>Distributed configurations are defined as Pipeline Configurations inside Shotgun.
At startup, these are detected by the Bootstrap API which will automatically
manage your local configuration and resources on disk, ensuring that you have all the
right apps, engines and other dependencies needed to run the configuration.
This is a decentralized workflow where each user will
automatically caches all necessary runtime components locally.</p>
<a class="reference internal image-reference" href="_images/distributed_config.png"><img alt="_images/distributed_config.png" class="align-center" src="_images/distributed_config.png" style="width: 700px;" /></a>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To create a distributed configuration, manually go into Shotgun and create
a <strong>Shotgun Pipeline Configuration entity</strong> for your project. For more information,
see <a class="reference internal" href="#automatically-managed-pcs"><span class="std std-ref">Managing distributed configurations</span></a>.</p>
</div>
</div>
<div class="section" id="centralized-configurations">
<h3>Centralized configurations<a class="headerlink" href="#centralized-configurations" title="Permalink to this headline">¶</a></h3>
<p>Centralized configurations are installed into a specific disk location, usually on a shared storage,
and accessed by all users. All users who want to access to the configuration need to be able to
access its shared location on disk.</p>
<a class="reference internal image-reference" href="_images/shared_config.png"><img alt="_images/shared_config.png" class="align-center" src="_images/shared_config.png" style="width: 700px;" /></a>
<p>These configurations are created using Toolkit&#8217;s <strong>project setup</strong> system (either the Shotgun Desktop project
setup wizard or the <code class="docutils literal"><span class="pre">tank</span> <span class="pre">setup_project</span></code> command). After project setup, the configuration is manually
managed, typically via the <code class="docutils literal"><span class="pre">tank</span></code> command.</p>
</div>
</div>
<div class="section" id="uploading-a-configuration-to-shotgun">
<span id="upload-config-to-shotgun"></span><h2>Uploading a configuration to Shotgun<a class="headerlink" href="#uploading-a-configuration-to-shotgun" title="Permalink to this headline">¶</a></h2>
<p>The simplest way to distribute a Toolkit configuration to a group of users, whether these
are distributed in different locations or all working in the same building, is to upload it
to Shotgun. At startup, the Toolkit Bootstrap will automatically look for uploaded configurations
and if detected, download the configuration locally and then launch. Toolkit will take care
of distribution and setup.</p>
<p>To use this workflow, simply zip up your configuration and upload it as an attachment:</p>
<a class="reference internal image-reference" href="_images/zip_config.png"><img alt="_images/zip_config.png" class="align-center" src="_images/zip_config.png" style="width: 700px;" /></a>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For backwards compatibility, configurations uploaded to the custom <code class="docutils literal"><span class="pre">sg_uploaded_config</span></code> field
are also supported.</p>
<p class="last">Older versions of Shotgun may not have an <strong>Uploaded Config</strong> field enabled by
default, and in this case it may be necessary to create a custom field. Naming it <strong>Uploaded Config</strong>
will generate a field with the API name <code class="docutils literal"><span class="pre">sg_uploaded_config</span></code> and thus will be recognized by Toolkit.</p>
</div>
<p>Once a configuration is uploaded, it will be detected and used at bootstrap.
If a new configuration is uploaded to Shotgun, users will pick it up the
next time they start up.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As an example, you can download one of the default configurations from
github as a zip and upload it as an attachment from Shotgun:
<a class="reference external" href="https://github.com/shotgunsoftware/tk-config-basic/archive/master.zip">https://github.com/shotgunsoftware/tk-config-basic/archive/master.zip</a></p>
</div>
</div>
<div class="section" id="managing-distributed-configurations">
<span id="automatically-managed-pcs"></span><h2>Managing distributed configurations<a class="headerlink" href="#managing-distributed-configurations" title="Permalink to this headline">¶</a></h2>
<p>In order to configure an automatically managed configuration, create an
entity in Shotgun to represent a <code class="docutils literal"><span class="pre">Primary</span></code> configuration:</p>
<img alt="_images/pipeline_config.png" class="align-center" src="_images/pipeline_config.png" />
<p>The descriptor field contains a <a class="reference internal" href="descriptor.html#descriptor"><span class="std std-ref">Descriptor URI</span></a> pointing at a
configuration. The bootstrap API will detect this and use it as it starts up
Toolkit for this particular project. This is a decentralized workflow; every
user will have a copy of the configuration, meaning that you
don&#8217;t need a central storage.</p>
<p>When the bootstrap API starts up, it goes through a series of steps:</p>
<a class="reference internal image-reference" href="_images/bootstrap.png"><img alt="_images/bootstrap.png" class="align-center" src="_images/bootstrap.png" style="width: 700px;" /></a>
<p>First, the Shotgun Pipeline Configuration will be determined. The bootstrap
will search for a configuration in the following order:</p>
<ul class="simple">
<li>A Pipeline Config for the current project, associated with the current user. These are
typically dev or test sandboxes.</li>
<li>A <code class="docutils literal"><span class="pre">Primary</span></code> Pipeline Config associated with the current project.</li>
<li>A site-wide Pipeline Config (e.g. with the Project field blank) associated with the user.</li>
<li>A site-wide <code class="docutils literal"><span class="pre">Primary</span></code> Pipeline Config</li>
<li>If none of the above is found a <em>base config fallback</em>, hardcoded in the plugin, will be used.
(In the bootstrap API, this is defined via the <a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.base_configuration" title="sgtk.bootstrap.ToolkitManager.base_configuration"><code class="xref py py-meth docutils literal"><span class="pre">base_configuration()</span></code></a> property).</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Leaving the project field blank on a pipeline configuration means it applies
to all projects. This makes it possible to have a single configuration that is
used by all your Shotgun projects.</p>
</div>
<p>Once the Pipeline Configuration has been determined, its descriptor is resolved, downloaded and
all its dependencies (Apps, Engines, Core, Frameworks) are checked and the ones that aren&#8217;t already
locally cached are downloaded. All these items
are downloaded into a global bundle cache which by default resides locally on a user&#8217;s machine
but is shared between all pipeline configurations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>By default, files are downloaded to the following locations:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">%APPDATA%\Shotgun</span></code> (Windows)</li>
<li><code class="docutils literal"><span class="pre">~/Library/Caches/Shotgun</span></code> (Mac)</li>
<li><code class="docutils literal"><span class="pre">~/.shotgun</span></code> (Linux)</li>
</ul>
<p class="last">These locations can be customized by setting a <code class="docutils literal"><span class="pre">SHOTGUN_HOME</span></code>
<a class="reference internal" href="#environment-variables"><span class="std std-ref">environment variable</span></a>.</p>
</div>
<div class="admonition note" id="local-bundle-caches">
<p class="first admonition-title">Note</p>
<p>You can include a local <code class="docutils literal"><span class="pre">bundle_cache</span></code> folder within your configuration to make it self contained.</p>
<img alt="_images/bundle_cache_in_config.png" class="align-center" src="_images/bundle_cache_in_config.png" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>The structure of this folder is identical to the global <code class="docutils literal"><span class="pre">bundle_cache</span></code>
folder found in the locations listed above and can contain all of the
apps, engines, and frameworks required by your configuration.</p>
<p class="last">If the folder exists within the config, then the folder is added to the list
of <a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.bundle_cache_fallback_paths" title="sgtk.bootstrap.ToolkitManager.bundle_cache_fallback_paths"><code class="xref py py-attr docutils literal"><span class="pre">bundle_cache_fallback_paths</span></code></a>
used by the bootstrap logic. If a bundle exists in this local cache, Toolkit
will use it from this location rather than downloading it or using the
global bundle cache.</p>
</div>
<p>Lastly, the Pipeline Configuration structure is created on local disk, from which Toolkit is launched.</p>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>Below are a collection of practical examples for how Pipeline Configurations can be set up.
Each Pipeline Configuration uses a <a class="reference internal" href="descriptor.html#descriptor"><span class="std std-ref">Descriptor URI</span></a> to specify where the
configuration should be downloaded from. For full technical details, see the
Descriptor documentation.</p>
<div class="section" id="fixing-a-version-for-a-project">
<h4>Fixing a version for a project<a class="headerlink" href="#fixing-a-version-for-a-project" title="Permalink to this headline">¶</a></h4>
<p>All users in the current project will be using a fixed version of the <code class="docutils literal"><span class="pre">tk-config-basic</span></code> configuration
from the Shotgun App Store. This can be useful if you don&#8217;t want a project to auto update. Omitting
the version number, e.g. <code class="docutils literal"><span class="pre">sgtk:descriptor:app_store?name=tk-config-basic</span></code> will resolve to the most
recent version number.</p>
<a class="reference internal image-reference" href="_images/pipeline_config.png"><img alt="_images/pipeline_config.png" class="align-center" src="_images/pipeline_config.png" style="width: 700px;" /></a>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Config Name</td>
<td>Primary</td>
</tr>
<tr class="row-even"><td>Plugin Ids</td>
<td><code class="docutils literal"><span class="pre">basic.*</span></code></td>
</tr>
<tr class="row-odd"><td>Descriptor</td>
<td><code class="docutils literal"><span class="pre">sgtk:descriptor:app_store?name=tk-config-basic&amp;version=v1.2.3</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="git-site-and-project-configurations">
<h4>Git site and project configurations<a class="headerlink" href="#git-site-and-project-configurations" title="Permalink to this headline">¶</a></h4>
<p>This example shows several things. The Pipeline Configuration without a Project set is a site
wide configuration - it will be used by all projects except the Bootstrap project, which has a
specific configuration defined. The Bootstrap project will use tag <cite>v1.2.3</cite> from the specified
git repository, whereas all other projects will use the tag with the highest version number.</p>
<a class="reference internal image-reference" href="_images/project_site_git.png"><img alt="_images/project_site_git.png" class="align-center" src="_images/project_site_git.png" style="width: 700px;" /></a>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Config Name</td>
<td>Primary</td>
</tr>
<tr class="row-even"><td>Plugin Ids</td>
<td><code class="docutils literal"><span class="pre">basic.*</span></code></td>
</tr>
<tr class="row-odd"><td>Descriptor</td>
<td><code class="docutils literal"><span class="pre">sgtk:descriptor:git?path=user&#64;host:/path/to/config.git</span></code></td>
</tr>
</tbody>
</table>
<p>Below are additional examples of how git repositories can be specified:</p>
<ul class="simple">
<li>Highest tag in a git repository: <code class="docutils literal"><span class="pre">sgtk:descriptor:git?path=user&#64;host:/path/to/config.git</span></code></li>
<li>Specific tag in a git repository: <code class="docutils literal"><span class="pre">sgtk:descriptor:git?path=user&#64;host:/path/to/config.git&amp;version=v1.2.3</span></code></li>
<li>Latest commit in a git branch:
<code class="docutils literal"><span class="pre">sgtk:descriptor:git_branch?path=user&#64;host:/path/to/config.git&amp;branch=master</span></code></li>
<li>Specific commit in a git branch:
<code class="docutils literal"><span class="pre">sgtk:descriptor:git_branch?path=user&#64;host:/path/to/config.git&amp;branch=master&amp;version=17fedd8</span></code></li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For <code class="docutils literal"><span class="pre">git</span></code> based workflows, all users need to have git installed.</p>
</div>
</div>
<div class="section" id="developer-sandbox">
<h4>Developer sandbox<a class="headerlink" href="#developer-sandbox" title="Permalink to this headline">¶</a></h4>
<p>This example shows a typical development/test setup - alongside the Primary configuraton for the project
there is a dev sandbox. All user associated with that dev sandbox will pick that up instead of the
default one, making it easy to &#8216;invite&#8217; users in for testing. (In Shotgun Desktop, a dropdown will appear,
allowing a user to choose which config to use). A <code class="docutils literal"><span class="pre">dev</span></code> descriptor is used to point at a local dev area on disk.</p>
<a class="reference internal image-reference" href="_images/dev_sandbox.png"><img alt="_images/dev_sandbox.png" class="align-center" src="_images/dev_sandbox.png" style="width: 700px;" /></a>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Config Name</td>
<td>Dev Sandbox</td>
</tr>
<tr class="row-even"><td>Plugin Ids</td>
<td><code class="docutils literal"><span class="pre">basic.*</span></code></td>
</tr>
<tr class="row-odd"><td>Descriptor</td>
<td><code class="docutils literal"><span class="pre">sgtk:descriptor:dev?path=/path/to/my_dev_area/config</span></code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="plugins-and-plugin-ids">
<span id="id1"></span><h3>Plugins and plugin ids<a class="headerlink" href="#plugins-and-plugin-ids" title="Permalink to this headline">¶</a></h3>
<p>In each of the examples shown above, there is a <strong>Plugin Ids</strong> field set to <code class="docutils literal"><span class="pre">basic.*</span></code>:</p>
<a class="reference internal image-reference" href="_images/pipeline_config.png"><img alt="_images/pipeline_config.png" class="align-center" src="_images/pipeline_config.png" style="width: 700px;" /></a>
<p>This field is used to specify the <em>scope</em> where the configuration should be used. Each Toolkit plugin and
script using the <a class="reference internal" href="#bootstrap-api"><span class="std std-ref">Bootstrap API</span></a> specifies a <a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.plugin_id" title="sgtk.bootstrap.ToolkitManager.plugin_id"><code class="xref py py-meth docutils literal"><span class="pre">plugin_id()</span></code></a>.
All default Toolkit engines and integrations are using a <code class="docutils literal"><span class="pre">basic</span></code> prefix, e.g. the Maya engine has got
a plugin id of <code class="docutils literal"><span class="pre">basic.maya</span></code>, Nuke is <code class="docutils literal"><span class="pre">basic.nuke</span></code> etc.</p>
<p>By specifying <code class="docutils literal"><span class="pre">basic.*</span></code> in the <em>plugin Ids</em> field on the Pipeline Configuration, that configuration will be
used by all the default (basic) Toolkit integrations. If you wanted a special configuration to only apply
to certain software integrations, you can specify this:</p>
<a class="reference internal image-reference" href="_images/plugin_ids.png"><img alt="_images/plugin_ids.png" class="align-center" src="_images/plugin_ids.png" style="width: 700px;" /></a>
<p>The above configuration will only be used when the Maya and Nuke plugins bootstrap.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If you don&#8217;t specify a plugin id for your Pipeline Configuration, it will be ignored
by the boostrap. We recommend using <code class="docutils literal"><span class="pre">basic.*</span></code> as a default.</p>
</div>
</div>
<div class="section" id="self-contained-configurations">
<h3>Self contained configurations<a class="headerlink" href="#self-contained-configurations" title="Permalink to this headline">¶</a></h3>
<p>If you include a <code class="docutils literal"><span class="pre">bundle_cache</span></code> folder in your Toolkit configuration, it will be automatically
detected and added to the bundle cache search path. This makes it possible to distribute a complete
Toolkit setup in a single package without any external dependencies.</p>
<p>This can be useful when deploying a configuration to a network infrastructure that doesn&#8217;t allow
for an external Internet access and has a local site install of Shotgun.
Create your configuration, manually add a <code class="docutils literal"><span class="pre">bundle_cache</span></code> folder
containing the necessary app, engine, core and framework payload, zip it and
<a class="reference internal" href="#upload-config-to-shotgun"><span class="std std-ref">upload it to Shotgun</span></a>.</p>
</div>
<div class="section" id="configurations-with-filesystem-templates">
<h3>Configurations with filesystem templates<a class="headerlink" href="#configurations-with-filesystem-templates" title="Permalink to this headline">¶</a></h3>
<p>If the configuration you have specified in the descriptor field (or have uploaded to Shotgun) is using
the Toolkit folder schema and templates system, you need to manually configure a series of settings
related to file storage locations.</p>
<p>A toolkit configuration contains a <code class="docutils literal"><span class="pre">roots.yml</span></code> file which defines the file storages required by
that configuration. See for example the <a class="reference external" href="https://github.com/shotgunsoftware/tk-config-default2/blob/master/core/roots.yml">Toolkit default configuration</a>.
All storages defined here need to have a corresponding Local File Storage defined in Shotgun.
These settings can be found in Shotgun&#8217;s site preferences.</p>
<p>In addition to this, a project folder name needs to be defined. This will be the name which is given
to the root folder on disk when the folder structure starts getting populated. The project name
is defined in a field named <code class="docutils literal"><span class="pre">tank_name</span></code> on the Shotgun Project entity.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When using a  <a class="reference internal" href="#centralized-configs"><span class="std std-ref">centralized configuraion</span></a>, this process
is automatically handled by the project setup wizard. In this case, you have to
do it manually.</p>
</div>
</div>
</div>
<div class="section" id="managing-centralized-configurations">
<span id="centralized-configs"></span><h2>Managing centralized configurations<a class="headerlink" href="#managing-centralized-configurations" title="Permalink to this headline">¶</a></h2>
<p>A manual project is either done via the Shotgun Desktop Project Setup Wizard or through the <code class="docutils literal"><span class="pre">tank</span> <span class="pre">setup_project</span></code>
command. During this process, you will choose a location on disk for your configuration. Make sure you
choose a location on disk which is accessible by all users who need access to the configuration (e.g.
typically on a fast, shared storage). The figure below illustrates the process:</p>
<a class="reference internal image-reference" href="_images/manual_install.png"><img alt="_images/manual_install.png" class="align-center" src="_images/manual_install.png" style="width: 700px;" /></a>
<p>The <code class="docutils literal"><span class="pre">tank</span> <span class="pre">setup_project</span></code> command will automatically create a <code class="docutils literal"><span class="pre">Primary</span></code> pipeline configuration
entity in Shotgun and a full configuration on disk. App, Engine and other payloads are downloaded
into the <em>bundle cache</em> contained by the config. The three fields <code class="docutils literal"><span class="pre">PipelineConfiguration.windows_path</span></code>,
<code class="docutils literal"><span class="pre">PipelineConfiguration.mac_path</span></code> and <code class="docutils literal"><span class="pre">PipelineConfiguration.linux_path</span></code> are populated with
paths to the configuration on disk.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is the workflow that was exclusively used by all Toolkit versions prior to
core v0.18, when the bootstrap API was introduced. It will continue to be supported,
however it is less flexible than the more automatic workflows and can be especially
challenging when you have a setup which doesn&#8217;t have a centralized storage. We
recommend using <a class="reference internal" href="#automatically-managed-pcs"><span class="std std-ref">distributed configurations</span></a> whenever possible.</p>
</div>
<div class="section" id="configuration-maintenance">
<h3>Configuration Maintenance<a class="headerlink" href="#configuration-maintenance" title="Permalink to this headline">¶</a></h3>
<p>Once the project has been set up, you have to manually manage it. This is typically done
via the <code class="docutils literal"><span class="pre">tank</span></code> command:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">tank</span> <span class="pre">core</span></code> will update the Core API version associated with a project.</li>
<li><code class="docutils literal"><span class="pre">tank</span> <span class="pre">updates</span></code> checks for App and Engine updates.</li>
<li>By default, new projects are created in <strong>localized</strong> mode, meaning that they keeps their own core and
bundle cache. It is also possible to share the core and the bundle cache
between several different project by creating a <em>shared core</em>.</li>
<li>In order to create additional configurations beyond the <code class="docutils literal"><span class="pre">Primary</span></code> one (for example for
development or testing), right click on the configuration in Shotgun and choose
the <strong>Clone Configuration</strong> option.</li>
</ul>
</div>
<div class="section" id="starting-a-toolkit-engine-from-a-centralized-project">
<h3>Starting a Toolkit engine from a centralized project<a class="headerlink" href="#starting-a-toolkit-engine-from-a-centralized-project" title="Permalink to this headline">¶</a></h3>
<p>In this case, when a known location exists for your core API, you are not required to use the
bootstrap API. Given that the location of the configuration is known on beforehand, factory methods
such as <a class="reference internal" href="#sgtk.sgtk_from_path" title="sgtk.sgtk_from_path"><code class="xref py py-meth docutils literal"><span class="pre">sgtk.sgtk_from_path()</span></code></a> can also be used, however when doing so you need
to make sure you always use the core associated with the configuration:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># for our hidden forest project the configuration is</span>
<span class="c1"># installed in /mnt/toolkit/configs/hidden_forest</span>
<span class="c1"># add the tk-core of the project to the pythonpath</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;/mnt/toolkit/configs/hidden_forest/install/core/python&quot;</span><span class="p">)</span>

<span class="c1"># now import the API associated with config</span>
<span class="kn">import</span> <span class="nn">sgtk</span>

<span class="c1"># and create a tk instance by passing in the path to the</span>
<span class="c1"># configuration or a path to any file associated with the</span>
<span class="c1"># project</span>
<span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/mnt/toolkit/configs/hidden_forest&quot;</span><span class="p">)</span>

<span class="c1"># create a context for a Shotgun entity associated with the project</span>
<span class="n">ctx</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">context_from_entity</span><span class="p">(</span><span class="s2">&quot;Project&quot;</span><span class="p">,</span> <span class="mi">122</span><span class="p">)</span>

<span class="c1"># finally, launch the engine</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">start_engine</span><span class="p">(</span><span class="s2">&quot;tk-maya&quot;</span><span class="p">,</span> <span class="n">tk</span><span class="p">,</span> <span class="n">ctx</span><span class="p">)</span>
</pre></div>
</div>
<p>If you want, you can also use the bootstrap API to launch a centralized configuration:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># here, we can use any tk-core we want - it doesn&#39;t even have to be connected</span>
<span class="c1"># to a project - the bootstrap API will swap out the core for the right version</span>
<span class="c1"># as it starts things up.</span>
<span class="c1">#</span>
<span class="c1"># here you could also pip install the tk-core for a fully automated workflow.</span>
<span class="c1">#</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;/my/python/stuff&quot;</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">sgtk</span>

<span class="c1"># Start up a Toolkit Manager</span>
<span class="n">mgr</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">bootstrap</span><span class="o">.</span><span class="n">ToolkitManager</span><span class="p">()</span>

<span class="c1"># now start up the maya engine for a given Shotgun object</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">mgr</span><span class="o">.</span><span class="n">bootstrap_engine</span><span class="p">(</span><span class="s2">&quot;tk-maya&quot;</span><span class="p">,</span> <span class="n">entity</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Project&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">122</span><span class="p">})</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When using boostrap, any <code class="docutils literal"><span class="pre">tk-core</span></code> API can be used for the initial <code class="docutils literal"><span class="pre">import</span> <span class="pre">sgtk</span></code>.
The bootstrap API will automatically determine which version is required for the project
we are bootstrapping into, and potentially swap the core at runtime if the project
requires a more recent version than the one used to bootstrap with.</p>
</div>
</div>
<div class="section" id="factory-methods">
<h3>Factory methods<a class="headerlink" href="#factory-methods" title="Permalink to this headline">¶</a></h3>
<p>Two main methods exist if you want to start a centralized configuration and not utilize the
bootstrap API:</p>
<dl class="function">
<dt id="sgtk.sgtk_from_path">
<code class="descclassname">sgtk.</code><code class="descname">sgtk_from_path</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#sgtk_from_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.sgtk_from_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Toolkit Core API instance based on a path to a configuration
or a path to any file inside a project root location. This factory
method will do the following two things:</p>
<p><strong>When the path points at a configuration</strong></p>
<p>If the given path is determined to be pointing at a pipeline configuration,
checks will be made to determine that the currently imported <code class="docutils literal"><span class="pre">sgtk</span></code> module
is the same version that the configuration requires.</p>
<p><strong>When the path points at a project file</strong></p>
<p>If the given path is to a file (e.g. a maya file for example), the method will
retrieve all projects from Shotgun, including their <code class="docutils literal"><span class="pre">Project.tank_name</span></code>
project root folder fields and associated pipeline configurations. It will then
walk up the path hierarchy of the given path until one of the project roots are
matching the path. For that project, all pipeline configurations are then retrieved.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If more than one configuration is matching, the
primary one will take precendence.</p>
</div>
<p><strong>Shared cores and localized cores</strong></p>
<p>If you have a shared core for all your projects, you can follow a pattern where
you add this shared core to the <code class="docutils literal"><span class="pre">PYTHONPATH</span></code> and you can launch Toolkit for any
project file on disk (or Shotgun entity) on your entire site easily:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># add the shared core to the pythonpath</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;/mnt/toolkit/shared_core&quot;</span><span class="p">)</span>

<span class="c1"># now import the API</span>
<span class="kn">import</span> <span class="nn">sgtk</span>

<span class="c1"># request that the API produced a tk instance suitable for a given file</span>
<span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/mnt/projects/hidden_forest/shots/aa/aa_001/lighting/foreground.v002.ma&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <a class="reference internal" href="#bootstrap-api"><span class="std std-ref">Bootstrap API</span></a> is now the recommended solution
for building a pattern that can launch an engine for any given entity on a site.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> &#8211; Path to pipeline configuration or to a folder associated with a project.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal"><span class="pre">Sgtk</span></code></a> instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="sgtk.sgtk_from_entity">
<code class="descclassname">sgtk.</code><code class="descname">sgtk_from_entity</code><span class="sig-paren">(</span><em>entity_type</em>, <em>entity_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/api.html#sgtk_from_entity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.sgtk_from_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Toolkit Core API instance given an entity in Shotgun.</p>
<p>The given object will be looked up in Shotgun, its associated pipeline configurations
will be determined, and compared against the currently imported <code class="xref py py-class docutils literal"><span class="pre">sgtk</span></code> module.
The logic is identical to the one outlined in <a class="reference internal" href="#sgtk.sgtk_from_path" title="sgtk.sgtk_from_path"><code class="xref py py-meth docutils literal"><span class="pre">sgtk_from_path()</span></code></a>, but for
a Shotgun entity rather than a path. For more details, see <a class="reference internal" href="#sgtk.sgtk_from_path" title="sgtk.sgtk_from_path"><code class="xref py py-meth docutils literal"><span class="pre">sgtk_from_path()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>entity_type</strong> &#8211; Shotgun entity type, e.g. <code class="docutils literal"><span class="pre">Shot</span></code></li>
<li><strong>entity_id</strong> &#8211; Shotgun entity id</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal"><span class="pre">Sgtk</span></code></a> instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="bootstrap-api">
<span id="id2"></span><h2>Bootstrap API<a class="headerlink" href="#bootstrap-api" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#sgtk.bootstrap.ToolkitManager" title="sgtk.bootstrap.ToolkitManager"><code class="xref py py-class docutils literal"><span class="pre">ToolkitManager</span></code></a> class allows for run-time handling of Toolkit configurations
and removes the traditional step of a project setup. Instead, you can launch an engine
directly based on a configuration <a class="reference internal" href="descriptor.html#descriptor"><span class="std std-ref">Descriptor URI</span></a>. The manager encapsulates
the configuration setup process and makes it easy to create a running instance of
Toolkit. It allows for several advanced use cases:</p>
<ul class="simple">
<li>Bootstrapping via the Toolkit manager does not require anything to be
set up or configured in Shotgun. No Toolkit project setup step is required.</li>
<li>A setup can be pre-bundled with, for example, an application plugin, allowing
Toolkit to act as a distribution platform.</li>
</ul>
<p>The following example code can for example run inside maya in order
to launch Toolkit&#8217;s default config for an Shotgun Asset:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sgtk</span>

<span class="c1"># Start up a Toolkit Manager</span>
<span class="n">mgr</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">bootstrap</span><span class="o">.</span><span class="n">ToolkitManager</span><span class="p">()</span>

<span class="c1"># Set the base configuration to the default config</span>
<span class="c1"># Note that the version token is not specified, meaning that</span>
<span class="c1"># the latest version will be looked up and used</span>
<span class="n">mgr</span><span class="o">.</span><span class="n">base_configuration</span> <span class="o">=</span> <span class="s2">&quot;sgtk:descriptor:app_store?name=tk-config-basic&quot;</span>

<span class="c1"># Each bootstrap session is normally defined by a plugin id. We recommend</span>
<span class="c1"># using a &#39;basic.&#39; prefix if you want your bootstrap session to pick up the</span>
<span class="c1"># standard toolkit configurations</span>
<span class="n">mgr</span><span class="o">.</span><span class="n">plugin_id</span> <span class="o">=</span> <span class="s2">&quot;basic.my_toolkit_plugin&quot;</span>

<span class="c1"># now start up the maya engine for a given Shotgun object</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">mgr</span><span class="o">.</span><span class="n">bootstrap_engine</span><span class="p">(</span><span class="s2">&quot;tk-maya&quot;</span><span class="p">,</span> <span class="n">entity</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Asset&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1234</span><span class="p">})</span>
</pre></div>
</div>
<p>In this example, there is no need to construct any <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal"><span class="pre">sgtk.Sgtk</span></code></a>
instance or run a <code class="docutils literal"><span class="pre">tank</span></code> command - the <a class="reference internal" href="#sgtk.bootstrap.ToolkitManager" title="sgtk.bootstrap.ToolkitManager"><code class="xref py py-class docutils literal"><span class="pre">ToolkitManager</span></code></a> instead becomes the entry
point into the system. It will handle the setup and initialization of the configuration behind the scenes
and start up a Toolkit session once all the required pieces have been initialized and set up.</p>
<div class="section" id="environment-variables">
<span id="id3"></span><h3>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h3>
<p>A number of different environment variables exist to help control the behavior of the Toolkit Startup:</p>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Environment Variable Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>SHOTGUN_HOME</td>
<td>Overrides the location where Toolkit stores data.
This includes bootstrap data as well as bundle cache,
cached thumbnails and other temp files.</td>
</tr>
<tr class="row-odd"><td>SHOTGUN_BUNDLE_CACHE_PATH</td>
<td>Overrides the path to the main bundle cache, e.g. the location where
the <a class="reference internal" href="descriptor.html#descriptor"><span class="std std-ref">Descriptor URI</span></a> will download bundles.</td>
</tr>
<tr class="row-even"><td>SHOTGUN_BUNDLE_CACHE_FALLBACK_PATHS</td>
<td>Colon separated list of paths to look for bundle cache locations. This is
for example useful if you maintain a centralized bundle cache location
that you want the bootstrap API to pick up bundles from.</td>
</tr>
<tr class="row-odd"><td>TK_BOOTSTRAP_CONFIG_OVERRIDE</td>
<td>Low level bypass to set the configuration desciptor URI that the bootstrap
API should load up. Useful in complex workflow development scenarios.</td>
</tr>
<tr class="row-even"><td>SHOTGUN_DISABLE_APPSTORE_ACCESS</td>
<td>Setting this to <code class="docutils literal"><span class="pre">1</span></code> will disable any Shotgun Appstore access. No attempts
to connect will be carried out. This option can be useful in cases where
complex proxy setups is preventing Toolkit to correctly operate.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="toolkitmanager">
<h3>ToolkitManager<a class="headerlink" href="#toolkitmanager" title="Permalink to this headline">¶</a></h3>
<p>Below follows the full API reference for the <code class="docutils literal"><span class="pre">ToolkitManager</span></code> bootstrap API.</p>
<p class="rubric">Properties</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.base_configuration" title="sgtk.bootstrap.ToolkitManager.base_configuration"><code class="xref py py-obj docutils literal"><span class="pre">ToolkitManager.base_configuration</span></code></a></td>
<td>The fallback configuration to use.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.plugin_id" title="sgtk.bootstrap.ToolkitManager.plugin_id"><code class="xref py py-obj docutils literal"><span class="pre">ToolkitManager.plugin_id</span></code></a></td>
<td>The associated plugin id.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.bundle_cache_fallback_paths" title="sgtk.bootstrap.ToolkitManager.bundle_cache_fallback_paths"><code class="xref py py-obj docutils literal"><span class="pre">ToolkitManager.bundle_cache_fallback_paths</span></code></a></td>
<td>A list of fallback paths where toolkit will look for cached bundles.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.pipeline_configuration" title="sgtk.bootstrap.ToolkitManager.pipeline_configuration"><code class="xref py py-obj docutils literal"><span class="pre">ToolkitManager.pipeline_configuration</span></code></a></td>
<td>The pipeline configuration that should be operated on.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.do_shotgun_config_lookup" title="sgtk.bootstrap.ToolkitManager.do_shotgun_config_lookup"><code class="xref py py-obj docutils literal"><span class="pre">ToolkitManager.do_shotgun_config_lookup</span></code></a></td>
<td>Controls the Shotgun override behaviour.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.caching_policy" title="sgtk.bootstrap.ToolkitManager.caching_policy"><code class="xref py py-obj docutils literal"><span class="pre">ToolkitManager.caching_policy</span></code></a></td>
<td>Specifies the config caching policy to use when bootstrapping.</td>
</tr>
</tbody>
</table>
<p class="rubric">Startup</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.bootstrap_engine" title="sgtk.bootstrap.ToolkitManager.bootstrap_engine"><code class="xref py py-obj docutils literal"><span class="pre">ToolkitManager.bootstrap_engine</span></code></a></td>
<td>Create an <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal"><span class="pre">Sgtk</span></code></a> instance for the given engine and entity, then launch into the given engine.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.bootstrap_engine_async" title="sgtk.bootstrap.ToolkitManager.bootstrap_engine_async"><code class="xref py py-obj docutils literal"><span class="pre">ToolkitManager.bootstrap_engine_async</span></code></a></td>
<td>Asynchronous version of <code class="xref py py-meth docutils literal"><span class="pre">bootstrap_engine()</span></code>.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.pre_engine_start_callback" title="sgtk.bootstrap.ToolkitManager.pre_engine_start_callback"><code class="xref py py-obj docutils literal"><span class="pre">ToolkitManager.pre_engine_start_callback</span></code></a></td>
<td>Callback invoked after the <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal"><span class="pre">Sgtk</span></code></a> instance has been created.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.progress_callback" title="sgtk.bootstrap.ToolkitManager.progress_callback"><code class="xref py py-obj docutils literal"><span class="pre">ToolkitManager.progress_callback</span></code></a></td>
<td>Callback that gets called whenever progress should be reported.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.prepare_engine" title="sgtk.bootstrap.ToolkitManager.prepare_engine"><code class="xref py py-obj docutils literal"><span class="pre">ToolkitManager.prepare_engine</span></code></a></td>
<td>Updates and caches a configuration on disk for a given project.</td>
</tr>
</tbody>
</table>
<p class="rubric">Serialization</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.extract_settings" title="sgtk.bootstrap.ToolkitManager.extract_settings"><code class="xref py py-obj docutils literal"><span class="pre">ToolkitManager.extract_settings</span></code></a></td>
<td>Serializes the state of the class.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.restore_settings" title="sgtk.bootstrap.ToolkitManager.restore_settings"><code class="xref py py-obj docutils literal"><span class="pre">ToolkitManager.restore_settings</span></code></a></td>
<td>Restores serialized state.</td>
</tr>
</tbody>
</table>
<p class="rubric">Utilities</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.get_pipeline_configurations" title="sgtk.bootstrap.ToolkitManager.get_pipeline_configurations"><code class="xref py py-obj docutils literal"><span class="pre">ToolkitManager.get_pipeline_configurations</span></code></a></td>
<td>Retrieves the pipeline configurations available for a given project.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.get_entity_from_environment" title="sgtk.bootstrap.ToolkitManager.get_entity_from_environment"><code class="xref py py-obj docutils literal"><span class="pre">ToolkitManager.get_entity_from_environment</span></code></a></td>
<td>Standardized environment variable retrieval.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.resolve_descriptor" title="sgtk.bootstrap.ToolkitManager.resolve_descriptor"><code class="xref py py-obj docutils literal"><span class="pre">ToolkitManager.resolve_descriptor</span></code></a></td>
<td>Resolves a pipeline configuration and returns its associated descriptor object.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.get_core_python_path" title="sgtk.bootstrap.ToolkitManager.get_core_python_path"><code class="xref py py-obj docutils literal"><span class="pre">ToolkitManager.get_core_python_path</span></code></a></td>
<td>Computes the path to the current Toolkit core.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="sgtk.bootstrap.ToolkitManager">
<em class="property">class </em><code class="descclassname">sgtk.bootstrap.</code><code class="descname">ToolkitManager</code><span class="sig-paren">(</span><em>sg_user=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/bootstrap/manager.html#ToolkitManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.bootstrap.ToolkitManager" title="Permalink to this definition">¶</a></dt>
<dd><p>This class allows for flexible and non-obtrusive management of toolkit configurations
and installations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sg_user</strong> (<a class="reference internal" href="authentication.html#sgtk.authentication.ShotgunUser" title="sgtk.authentication.ShotgunUser"><code class="xref py py-class docutils literal"><span class="pre">ShotgunUser</span></code></a>) &#8211; Authenticated Shotgun User object. If you pass in None,
the manager will provide a standard authentication for you
via the shotgun authentication module and prompting the user
if necessary. If you have special requirements around
authentication, simply construct an explicit user object
and pass it in.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="sgtk.bootstrap.ToolkitManager.extract_settings">
<code class="descname">extract_settings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/bootstrap/manager.html#ToolkitManager.extract_settings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.bootstrap.ToolkitManager.extract_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Serializes the state of the class.</p>
<p>Serializes settings that impact resolution of a pipeline configuration into an
object and returns it to the user.</p>
<p>This can be useful when a process is used to enumerate pipeline configurations and another
process will be bootstrapping an engine. Calling this method ensures the manager is
configured the same across processes.</p>
<p>Those settings can be restored with <a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.restore_settings" title="sgtk.bootstrap.ToolkitManager.restore_settings"><code class="xref py py-meth docutils literal"><span class="pre">ToolkitManager.restore_settings()</span></code></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that the extracted settings should be treated as opaque data and not something
that should be manipulated. Their content can be changed at any time.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">User defined values.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)">object</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sgtk.bootstrap.ToolkitManager.restore_settings">
<code class="descname">restore_settings</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/bootstrap/manager.html#ToolkitManager.restore_settings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.bootstrap.ToolkitManager.restore_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores serialized state.</p>
<p>This will restores the state user defined with <a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.extract_settings" title="sgtk.bootstrap.ToolkitManager.extract_settings"><code class="xref py py-meth docutils literal"><span class="pre">ToolkitManager.extract_settings()</span></code></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Always use <a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.extract_settings" title="sgtk.bootstrap.ToolkitManager.extract_settings"><code class="xref py py-meth docutils literal"><span class="pre">ToolkitManager.extract_settings()</span></code></a> to extract settings when you
plan on calling this method. The content of the settings should be treated as opaque
data.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><em>object</em></a>) &#8211; Settings obtained from <a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.extract_settings" title="sgtk.bootstrap.ToolkitManager.extract_settings"><code class="xref py py-meth docutils literal"><span class="pre">ToolkitManager.extract_settings()</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.bootstrap.ToolkitManager.pre_engine_start_callback">
<code class="descname">pre_engine_start_callback</code><a class="headerlink" href="#sgtk.bootstrap.ToolkitManager.pre_engine_start_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback invoked after the <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal"><span class="pre">Sgtk</span></code></a> instance has been
created.</p>
<p>This function should have the following signature:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">pre_engine_start_callback</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Called before the engine is started.</span>

<span class="sd">    :param :class:&quot;~sgtk.Context&quot; ctx: Context into</span>
<span class="sd">        which the engine will be launched. This can also be used</span>
<span class="sd">        to access the Toolkit instance.</span>
<span class="sd">    &#39;&#39;&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.bootstrap.ToolkitManager.pipeline_configuration">
<code class="descname">pipeline_configuration</code><a class="headerlink" href="#sgtk.bootstrap.ToolkitManager.pipeline_configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>The pipeline configuration that should be operated on.</p>
<p>By default, this value is set to <code class="docutils literal"><span class="pre">None</span></code>, indicating to the Manager
that it should attempt to automatically find the most suitable pipeline
configuration entry in Shotgun given the project and plugin id.
In this case, it will look at all pipeline configurations stored in Shotgun
associated with the project who are associated with the current
user. If no user-tagged pipeline configuration exists, it will look for
the primary configuration, and in case this is not found, it will fall back on the
<a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.base_configuration" title="sgtk.bootstrap.ToolkitManager.base_configuration"><code class="xref py py-meth docutils literal"><span class="pre">base_configuration()</span></code></a>. If you don&#8217;t want this check to be carried out in
Shotgun, please set <a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.do_shotgun_config_lookup" title="sgtk.bootstrap.ToolkitManager.do_shotgun_config_lookup"><code class="xref py py-meth docutils literal"><span class="pre">do_shotgun_config_lookup()</span></code></a> to False.</p>
<p>Alternatively, you can set this to a specific pipeline configuration. In that
case, the Manager will look for a pipeline configuration that matches that name or id
and the associated project and plugin id. If such a config cannot be found in
Shotgun, it falls back on the <a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.base_configuration" title="sgtk.bootstrap.ToolkitManager.base_configuration"><code class="xref py py-meth docutils literal"><span class="pre">base_configuration()</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.bootstrap.ToolkitManager.do_shotgun_config_lookup">
<code class="descname">do_shotgun_config_lookup</code><a class="headerlink" href="#sgtk.bootstrap.ToolkitManager.do_shotgun_config_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Controls the Shotgun override behaviour.</p>
<p>Boolean property to indicate if the bootstrap process should connect to
Shotgun and attempt to resolve a config. Defaults to <code class="docutils literal"><span class="pre">True</span></code>.</p>
<p>If <code class="docutils literal"><span class="pre">True</span></code>, the bootstrap process will connect to Shotgun as part
of the startup, look for a pipeline configuration and attempt
to resolve a toolkit environment to bootstrap into via the
Pipeline configuration data. Failing this, it will fall back on
the <a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.base_configuration" title="sgtk.bootstrap.ToolkitManager.base_configuration"><code class="xref py py-meth docutils literal"><span class="pre">base_configuration()</span></code></a>.</p>
<p>If <code class="docutils literal"><span class="pre">False</span></code>, no Shotgun lookup will happen. Instead, whatever config
is defined via <a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.base_configuration" title="sgtk.bootstrap.ToolkitManager.base_configuration"><code class="xref py py-meth docutils literal"><span class="pre">base_configuration()</span></code></a> will always be used.</p>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.bootstrap.ToolkitManager.plugin_id">
<code class="descname">plugin_id</code><a class="headerlink" href="#sgtk.bootstrap.ToolkitManager.plugin_id" title="Permalink to this definition">¶</a></dt>
<dd><p>The associated plugin id.</p>
<p>The Plugin Id is a string that defines the scope of the bootstrap operation.</p>
<p>When you are writing plugins or tools that is intended to run side by
side with other plugins in your target environment, the entry
point will be used to define a scope and sandbox in which your
plugin will execute.</p>
<p>When constructing a plugin id for an integration the following
should be considered:</p>
<ul class="simple">
<li>Plugin Ids should uniquely identify the plugin.</li>
<li>The name should be short and descriptive.</li>
</ul>
<p>The basic toolkit integration uses a <code class="docutils literal"><span class="pre">basic</span></code> prefix, e.g.
<code class="docutils literal"><span class="pre">basic.maya</span></code>, <code class="docutils literal"><span class="pre">basic.nuke</span></code>. We recommend using the
<code class="docutils literal"><span class="pre">basic</span></code> prefix for standard workflows.</p>
<p>For more information, see <a class="reference internal" href="#plugins-and-plugin-ids"><span class="std std-ref">Plugins and plugin ids</span></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.bootstrap.ToolkitManager.base_configuration">
<code class="descname">base_configuration</code><a class="headerlink" href="#sgtk.bootstrap.ToolkitManager.base_configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>The fallback configuration to use.</p>
<p>The descriptor (string or dict) for the
configuration that should be used as a base fallback
to be used if an override configuration isn&#8217;t set in Shotgun.</p>
<p>For</p>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.bootstrap.ToolkitManager.bundle_cache_fallback_paths">
<code class="descname">bundle_cache_fallback_paths</code><a class="headerlink" href="#sgtk.bootstrap.ToolkitManager.bundle_cache_fallback_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of fallback paths where toolkit will look for cached bundles.</p>
<p>This is useful if you want to distribute a pre-baked
package, containing all the app version that a user needs.
This avoids downloading anything from the app store or other
sources.</p>
<p>Any bundles missing from locations specified in the
fallback paths will be downloaded and cached into
the global bundle cache.</p>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.bootstrap.ToolkitManager.caching_policy">
<code class="descname">caching_policy</code><a class="headerlink" href="#sgtk.bootstrap.ToolkitManager.caching_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the config caching policy to use when bootstrapping.</p>
<p><code class="docutils literal"><span class="pre">ToolkitManager.CACHE_SPARSE</span></code> will make the manager download and cache
the sole config dependencies needed to run the engine being started.
This is the default caching policy.</p>
<p><code class="docutils literal"><span class="pre">ToolkitManager.CACHE_FULL</span></code> will make the manager download and cache
all the config dependencies.</p>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.bootstrap.ToolkitManager.progress_callback">
<code class="descname">progress_callback</code><a class="headerlink" href="#sgtk.bootstrap.ToolkitManager.progress_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback that gets called whenever progress should be reported.</p>
<p>This function should have the following signature:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">progress_callback</span><span class="p">(</span><span class="n">progress_value</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Called whenever toolkit reports progress.</span>

<span class="sd">    :param progress_value: The current progress value as float number.</span>
<span class="sd">                           values will be reported in incremental order</span>
<span class="sd">                           and always in the range 0.0 to 1.0</span>
<span class="sd">    :param message:        Progress message string</span>
<span class="sd">    &#39;&#39;&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sgtk.bootstrap.ToolkitManager.bootstrap_engine">
<code class="descname">bootstrap_engine</code><span class="sig-paren">(</span><em>engine_name</em>, <em>entity=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/bootstrap/manager.html#ToolkitManager.bootstrap_engine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.bootstrap.ToolkitManager.bootstrap_engine" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal"><span class="pre">Sgtk</span></code></a> instance for the given engine and entity,
then launch into the given engine.</p>
<p>The whole engine bootstrap logic will be executed synchronously in the main application thread.</p>
<p>If entity is None, the method will bootstrap into the site
config. This method will attempt to resolve the config according
to business logic set in the associated resolver class and based
on this launch a configuration. This may involve downloading new
apps from the toolkit app store and installing files on disk.</p>
<p>Please note that the API version of the tk instance that hosts
the engine may not be the same as the API version that was
executed during the bootstrap.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>engine_name</strong> &#8211; Name of engine to launch (e.g. <code class="docutils literal"><span class="pre">tk-nuke</span></code>).</li>
<li><strong>entity</strong> (Dictionary with keys <code class="docutils literal"><span class="pre">type</span></code> and <code class="docutils literal"><span class="pre">id</span></code>, or <code class="docutils literal"><span class="pre">None</span></code> for the site.) &#8211; Shotgun entity to launch engine for.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="platform.html#sgtk.platform.Engine" title="sgtk.platform.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a> instance.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sgtk.bootstrap.ToolkitManager.bootstrap_engine_async">
<code class="descname">bootstrap_engine_async</code><span class="sig-paren">(</span><em>engine_name</em>, <em>entity=None</em>, <em>completed_callback=None</em>, <em>failed_callback=None</em>, <em>parent=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/bootstrap/manager.html#ToolkitManager.bootstrap_engine_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.bootstrap.ToolkitManager.bootstrap_engine_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Asynchronous version of <a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.bootstrap_engine" title="sgtk.bootstrap.ToolkitManager.bootstrap_engine"><code class="xref py py-meth docutils literal"><span class="pre">bootstrap_engine()</span></code></a>.</p>
<p>Create an <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal"><span class="pre">Sgtk</span></code></a> instance for the given engine and entity,
then launch into the given engine.</p>
<p>This method launches the bootstrap process and returns immediately.
The <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal"><span class="pre">Sgtk</span></code></a> instance will be bootstrapped asynchronously in a background thread,
followed by launching the engine synchronously in the main application thread.
This will allow the main application to continue its execution and
remain responsive when bootstrapping the toolkit involves downloading files and
installing apps from the toolkit app store.</p>
<p>If entity is None, the method will bootstrap into the site
config. This method will attempt to resolve the config according
to business logic set in the associated resolver class and based
on this launch a configuration. This may involve downloading new
apps from the toolkit app store and installing files on disk.</p>
<p>Two callback functions can be provided.</p>
<p>A callback function that handles cleanup after successful completion of the bootstrap
with the following signature:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">completed_callback</span><span class="p">(</span><span class="n">engine</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Called by the asynchronous bootstrap upon completion.</span>

<span class="sd">    :param engine: Engine instance representing the engine</span>
<span class="sd">                   that was launched.</span>
<span class="sd">    &#39;&#39;&#39;</span>
</pre></div>
</div>
<p>A callback function that handles cleanup after failed completion of the bootstrap
with the following signature:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">failed_callback</span><span class="p">(</span><span class="n">phase</span><span class="p">,</span> <span class="n">exception</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Called by the asynchronous bootstrap if an exception is raised.</span>

<span class="sd">    :param phase: Indicates in which phase of the bootstrap the exception</span>
<span class="sd">                  was raised. An integer constant which is either</span>
<span class="sd">                  ToolkitManager.TOOLKIT_BOOTSTRAP_PHASE or</span>
<span class="sd">                  ToolkitManager.ENGINE_STARTUP_PHASE. The former if the</span>
<span class="sd">                  failure happened while the system was still bootstrapping</span>
<span class="sd">                  and the latter if the system had switched over into the</span>
<span class="sd">                  Toolkit startup phase. At this point, the running core API</span>
<span class="sd">                  instance may have been swapped over to another version than</span>
<span class="sd">                  the one that was originally loaded and may need to be reset</span>
<span class="sd">                  in an implementation of this callback.</span>

<span class="sd">    :param exception: The python exception that was raised.</span>
<span class="sd">    &#39;&#39;&#39;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>engine_name</strong> &#8211; Name of engine to launch (e.g. <code class="docutils literal"><span class="pre">tk-nuke</span></code>).</li>
<li><strong>entity</strong> (Dictionary with keys <code class="docutils literal"><span class="pre">type</span></code> and <code class="docutils literal"><span class="pre">id</span></code>, or <code class="docutils literal"><span class="pre">None</span></code> for the site.) &#8211; Shotgun entity to launch engine for.</li>
<li><strong>completed_callback</strong> &#8211; Callback function that handles cleanup after successful completion of the bootstrap.</li>
<li><strong>failed_callback</strong> &#8211; Callback function that handles cleanup after failed completion of the bootstrap.</li>
<li><strong>parent</strong> &#8211; The parent object used for the async bootstrapper. This will be necessary
in some environments, as it will prevent the thread used to bootstrap from being
garbage collected before it completes its work. An example input for this argument would
be to provide a reference to the main window of the parent application being integrated
with (ie: Maya, Nuke, etc), which is guaranteed to remain in memory for the duration of
bootstrap process.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sgtk.bootstrap.ToolkitManager.prepare_engine">
<code class="descname">prepare_engine</code><span class="sig-paren">(</span><em>engine_name</em>, <em>entity</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/bootstrap/manager.html#ToolkitManager.prepare_engine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.bootstrap.ToolkitManager.prepare_engine" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates and caches a configuration on disk for a given project. The resolution of the pipeline
configuration will follow the same rules as the method <a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.bootstrap_engine" title="sgtk.bootstrap.ToolkitManager.bootstrap_engine"><code class="xref py py-meth docutils literal"><span class="pre">ToolkitManager.bootstrap_engine()</span></code></a>,
but it simply caches all the bundles for later use instead of bootstrapping directly into it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>engine_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) &#8211; Name of the engine instance to cache if using sparse caching. If <code class="docutils literal"><span class="pre">None</span></code>,
all engine instances will be cached.</li>
<li><strong>entity</strong> &#8211; An entity link. If the entity is not a project, the project for that entity will be resolved.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Path to the fully realized pipeline configuration on disk and to the descriptor that
spawned it.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(str, <a class="reference internal" href="descriptor.html#sgtk.descriptor.ConfigDescriptor" title="sgtk.descriptor.ConfigDescriptor"><code class="xref py py-class docutils literal"><span class="pre">sgtk.descriptor.ConfigDescriptor</span></code></a>)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sgtk.bootstrap.ToolkitManager.get_pipeline_configurations">
<code class="descname">get_pipeline_configurations</code><span class="sig-paren">(</span><em>project</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/bootstrap/manager.html#ToolkitManager.get_pipeline_configurations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.bootstrap.ToolkitManager.get_pipeline_configurations" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the pipeline configurations available for a given project.</p>
<p>In order for a pipeline configuration to be considered as available, the following
conditions must be met:</p>
<blockquote>
<div><ul class="simple">
<li>There can only be one primary</li>
<li>If there is one site level and one project level primary, the site level
primary is not available.</li>
<li>If there are multiple site level or multiple project level primaries,
only the one with the lowest id is available, unless one or more of them is a Toolkit
Centralized Primary, in which case the Toolkit Centralized Primary with the lowest id will
be returned.</li>
<li>A <code class="xref py py-class docutils literal"><span class="pre">Descriptor</span></code> object must be able to be created from the
pipeline configuration.</li>
<li>All sandboxes are available.</li>
</ul>
</div></blockquote>
<p>In practice, this means that if there are 3 primaries, two of them using plugin ids and
one of them not using them, the one not using a plugin id will always be used.</p>
<p>This filtering also takes into account the current user and optional pipeline
configuration name or id. If the <a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.pipeline_configuration" title="sgtk.bootstrap.ToolkitManager.pipeline_configuration"><code class="xref py py-meth docutils literal"><span class="pre">pipeline_configuration()</span></code></a> property has been
set to a string, it will look for pipeline configurations with that specific name.
If it has been set to <code class="docutils literal"><span class="pre">None</span></code>, any pipeline that can be applied for the current
user and project will be retrieved. Note that this method does not support
<a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.pipeline_configuration" title="sgtk.bootstrap.ToolkitManager.pipeline_configuration"><code class="xref py py-meth docutils literal"><span class="pre">pipeline_configuration()</span></code></a> being an integer.</p>
<p><strong>Return value</strong></p>
<p>The data structure returned is a dictionary with several keys to
describe the configuration, for example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>{&#39;descriptor&#39;: &lt;CachedConfigDescriptor &lt;IODescriptorAppStore sgtk:descriptor:app_store?name=tk-config-basic&amp;version=v1.1.6&gt;&gt;,
 &#39;descriptor_source_uri&#39;: &#39;sgtk:descriptor:app_store?name=tk-config-basic&#39;,
 &#39;id&#39;: 500,
 &#39;name&#39;: &#39;Primary&#39;,
 &#39;project&#39;: {&#39;id&#39;: 123, &#39;name&#39;: &#39;Test Project&#39;, &#39;type&#39;: &#39;Project&#39;},
 &#39;type&#39;: &#39;PipelineConfiguration&#39;}
</pre></div>
</div>
<p>The returned dictionary mimics the result of a Shotgun API query, including
standard fields for <code class="docutils literal"><span class="pre">type</span></code>, <code class="docutils literal"><span class="pre">id</span></code>, <code class="docutils literal"><span class="pre">name</span></code> and <code class="docutils literal"><span class="pre">project</span></code>. In addition,
the resolved descriptor object is returned in a <code class="docutils literal"><span class="pre">descriptor</span></code> key.</p>
<p>For pipeline configurations which are defined in Shotgun via their <strong>descriptor</strong> field,
this field is returned in a <code class="docutils literal"><span class="pre">descriptor_source_uri</span></code> key. For pipeline configurations
defined via an uploaded attachment or explicit path fields, the <code class="docutils literal"><span class="pre">descriptor_source_uri</span></code>
key will return <code class="docutils literal"><span class="pre">None</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note as per the example above how the <code class="docutils literal"><span class="pre">descriptor_source_uri</span></code>
value can be different than the uri of the resolved descriptor;
this happens in the case when a descriptor uri is omitting
the version number and tracking against the latest version
number available.
In that case, the <code class="docutils literal"><span class="pre">descriptor</span></code> key will contain the
fully resolved descriptor object, representing the
latest descriptor version as of right now, where as the
<code class="docutils literal"><span class="pre">descriptor_source_uri</span></code> key contains the versionless descriptor
uri string as it is defined in Shotgun.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>project</strong> (Dictionary with keys <code class="docutils literal"><span class="pre">type</span></code> and <code class="docutils literal"><span class="pre">id</span></code>.) &#8211; Project entity link to enumerate pipeline configurations for.
If <code class="docutils literal"><span class="pre">None</span></code>, this will enumerate the pipeline configurations
for the site configuration.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of pipeline configurations.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List of dictionaries with syntax described above.
The pipeline configurations will always be sorted such as the primary pipeline configuration,
if available, will be first. Then the remaining pipeline configurations will be sorted by
<code class="docutils literal"><span class="pre">name</span></code> field (case insensitive), then the <code class="docutils literal"><span class="pre">project</span></code> field and finally then <code class="docutils literal"><span class="pre">id</span></code> field.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sgtk.bootstrap.ToolkitManager.get_entity_from_environment">
<code class="descname">get_entity_from_environment</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/bootstrap/manager.html#ToolkitManager.get_entity_from_environment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.bootstrap.ToolkitManager.get_entity_from_environment" title="Permalink to this definition">¶</a></dt>
<dd><p>Standardized environment variable retrieval.</p>
<p>Helper method that looks for the standard environment variables
<code class="docutils literal"><span class="pre">SHOTGUN_SITE</span></code>, <code class="docutils literal"><span class="pre">SHOTGUN_ENTITY_TYPE</span></code> and
<code class="docutils literal"><span class="pre">SHOTGUN_ENTITY_ID</span></code> and attempts to extract and validate them.
This is typically used in conjunction with <a class="reference internal" href="#sgtk.bootstrap.ToolkitManager.bootstrap_engine" title="sgtk.bootstrap.ToolkitManager.bootstrap_engine"><code class="xref py py-meth docutils literal"><span class="pre">bootstrap_engine()</span></code></a>.
The standard environment variables read by this method can be
generated by <a class="reference internal" href="#sgtk.platform.SoftwareLauncher.get_standard_plugin_environment" title="sgtk.platform.SoftwareLauncher.get_standard_plugin_environment"><code class="xref py py-meth docutils literal"><span class="pre">get_standard_plugin_environment()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Standard Shotgun entity dictionary with type and id or
None if not defined.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sgtk.bootstrap.ToolkitManager.resolve_descriptor">
<code class="descname">resolve_descriptor</code><span class="sig-paren">(</span><em>project</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/bootstrap/manager.html#ToolkitManager.resolve_descriptor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.bootstrap.ToolkitManager.resolve_descriptor" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolves a pipeline configuration and returns its associated descriptor object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>project</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) &#8211; The project entity, or None.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="sgtk.bootstrap.ToolkitManager.get_core_python_path">
<em class="property">static </em><code class="descname">get_core_python_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/bootstrap/manager.html#ToolkitManager.get_core_python_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.bootstrap.ToolkitManager.get_core_python_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the path to the current Toolkit core.</p>
<p>The current Toolkit core is defined as the core that gets imported when you type
<code class="docutils literal"><span class="pre">import</span> <span class="pre">sgtk</span></code> and the python path is derived from that module.</p>
<p>For example, if the <code class="docutils literal"><span class="pre">sgtk</span></code> module was found at <code class="docutils literal"><span class="pre">/path/to/config/install/core/python/sgtk</span></code>,
the return path would be <code class="docutils literal"><span class="pre">/path/to/config/install/core/python</span></code></p>
<p>This can be useful if you want to hand down to a subprocess the location of the current
process&#8217;s core, since <code class="docutils literal"><span class="pre">sys.path</span></code> and the <code class="docutils literal"><span class="pre">PYTHONPATH</span></code> are not updated after
bootstrapping.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Path to the current core.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="exception-classes">
<h3>Exception Classes<a class="headerlink" href="#exception-classes" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="sgtk.bootstrap.TankBootstrapError">
<em class="property">class </em><code class="descclassname">sgtk.bootstrap.</code><code class="descname">TankBootstrapError</code><a class="reference internal" href="_modules/tank/bootstrap/errors.html#TankBootstrapError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.bootstrap.TankBootstrapError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tank.errors.TankError</span></code></p>
<p>Base class for all bootstrap related errors</p>
</dd></dl>

<dl class="class">
<dt id="sgtk.bootstrap.TankMissingTankNameError">
<em class="property">class </em><code class="descclassname">sgtk.bootstrap.</code><code class="descname">TankMissingTankNameError</code><a class="reference internal" href="_modules/tank/bootstrap/errors.html#TankMissingTankNameError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.bootstrap.TankMissingTankNameError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tank.bootstrap.errors.TankBootstrapError</span></code></p>
<p>Raised when a project&#8217;s <code class="docutils literal"><span class="pre">tank_name</span></code> field is not set.</p>
</dd></dl>

</div>
</div>
<div class="section" id="installing-the-sgtk-module-using-pip">
<h2>Installing the sgtk module using pip<a class="headerlink" href="#installing-the-sgtk-module-using-pip" title="Permalink to this headline">¶</a></h2>
<p>When running Toolkit using the bootstrap API above, you need access to the <a class="reference internal" href="#sgtk.bootstrap.ToolkitManager" title="sgtk.bootstrap.ToolkitManager"><code class="xref py py-class docutils literal"><span class="pre">ToolkitManager</span></code></a>
class in order to kickstart the bootstrap process. Once you have started the bootstrap, Toolkit will
download all the necessary components for the given configuration you are bootstrapping into,
potentially even including a different version of the core API than you are using to bootstrap with.</p>
<p>In order to fully automate this process programatically, you need an <code class="docutils literal"><span class="pre">sgtk</span></code> instance to begin with.
One way to accomplish this is to use <code class="docutils literal"><span class="pre">pip</span></code> (see <a class="reference external" href="https://pip.pypa.io/">https://pip.pypa.io/</a>). Use the following syntax:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">git</span><span class="o">+</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">shotgunsoftware</span><span class="o">/</span><span class="n">tk</span><span class="o">-</span><span class="n">core</span><span class="nd">@VERSION</span>
</pre></div>
</div>
<p>Where you swap the <code class="docutils literal"><span class="pre">VERSION</span></code> text with the latest version in the format of <code class="docutils literal"><span class="pre">vx.x.x</span></code>.
If you want to add an sgtk core to a <code class="docutils literal"><span class="pre">requirements.txt</span></code> file, use the following syntax:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span><span class="o">+</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">shotgunsoftware</span><span class="o">/</span><span class="n">tk</span><span class="o">-</span><span class="n">core</span><span class="nd">@VERSION</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In order to use <code class="docutils literal"><span class="pre">pip</span></code>, you currently need to have the git executable installed
on the system that you are deploying to.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">We strongly recommend always providing a version number. Not providing a version
number will currently download the latest commit from the master branch and
associate it with the highest available version number tag. Such downloads are
likely to contain changes which have not yet been full tested.</p>
</div>
</div>
<div class="section" id="launching-software">
<span id="id4"></span><h2>Launching Software<a class="headerlink" href="#launching-software" title="Permalink to this headline">¶</a></h2>
<p>In order to run software integrations in the form of a Toolkit <a class="reference internal" href="platform.html#sgtk.platform.Engine" title="sgtk.platform.Engine"><code class="xref py py-class docutils literal"><span class="pre">Engine</span></code></a>,
it is necessary to be able to easily launch the software and initialize Toolkit once
the software environment.</p>
<p>Toolkit offers a centralized set of APIs to make this task straight forward. Each engine
implements the following:</p>
<ul class="simple">
<li>How installed versions of the software are auto-detected</li>
<li>How to launch the software and what environment to pass</li>
<li>How to make sure the Toolkit integration auto-loads once the software has launched.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These APIs can be wrapped inside a Toolkit app or simliar in order
to create a centralized launcher experience. The <code class="docutils literal"><span class="pre">tk-multi-launchapp</span></code> is
an example of such an implementation.</p>
</div>
<div class="section" id="a-simple-launch-application">
<h3>A Simple Launch Application<a class="headerlink" href="#a-simple-launch-application" title="Permalink to this headline">¶</a></h3>
<p>The Toolkit core API provides an interface that custom applications can use to implement the business
logic for launching DCC software related to a particular Toolkit engine. This interface is comprised
of a factory method <a class="reference internal" href="#sgtk.platform.create_engine_launcher" title="sgtk.platform.create_engine_launcher"><code class="xref py py-meth docutils literal"><span class="pre">create_engine_launcher()</span></code></a> and classes <a class="reference internal" href="#sgtk.platform.SoftwareLauncher" title="sgtk.platform.SoftwareLauncher"><code class="xref py py-class docutils literal"><span class="pre">SoftwareLauncher</span></code></a>,
<a class="reference internal" href="#sgtk.platform.SoftwareVersion" title="sgtk.platform.SoftwareVersion"><code class="xref py py-class docutils literal"><span class="pre">SoftwareVersion</span></code></a>, and <a class="reference internal" href="#sgtk.platform.LaunchInformation" title="sgtk.platform.LaunchInformation"><code class="xref py py-class docutils literal"><span class="pre">LaunchInformation</span></code></a>. The factory method is called for a specific
engine in the environment configuration and returns a SoftwareLauncher subclass instance implemented
by that engine.</p>
<p>Methods on the launcher instance can be used to determine which versions of the DCC
are installed on the local filesystem and the proper environment, including command line arguments,
required for a successful launch.</p>
<p>The following lines of python code demonstrate how to launch Maya using the core interface:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">sgtk</span>

<span class="c1"># Create a Toolkit Core API instance based on a project path or</span>
<span class="c1"># path that points directly at a pipeline configuration.</span>
<span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/site/project_root&quot;</span><span class="p">)</span>

<span class="c1"># Specify the context the DCC will be started up in.</span>
<span class="n">context</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">context_from_path</span><span class="p">(</span><span class="s2">&quot;/site/project_root/sequences/AAA/ABC/Light/work&quot;</span><span class="p">)</span>

<span class="c1"># Using a core factory method, construct a SoftwareLauncher</span>
<span class="c1"># subclass for the desired tk engine.</span>
<span class="n">software_launcher</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">create_engine_launcher</span><span class="p">(</span><span class="n">tk</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="s2">&quot;tk-maya&quot;</span><span class="p">)</span>

<span class="c1"># Use the SoftwareLauncher instance to find a list of Maya versions installed on the</span>
<span class="c1"># local filesystem. A list of SoftwareVersion instances is returned.</span>
<span class="n">software_versions</span> <span class="o">=</span> <span class="n">software_launcher</span><span class="o">.</span><span class="n">scan_software</span><span class="p">()</span>

<span class="c1"># Ask the SoftwareLauncher instance to prepare an environment to launch Maya in.</span>
<span class="c1"># For simplicity, use the first version returned from the list of software_versions.</span>
<span class="n">launch_info</span> <span class="o">=</span> <span class="n">software_launcher</span><span class="o">.</span><span class="n">prepare_launch</span><span class="p">(</span><span class="n">software_versions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>

<span class="c1"># Launch Maya!</span>
<span class="n">launch_command</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">launch_info</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">launch_info</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
<span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="n">launch_command</span><span class="p">],</span> <span class="n">env</span><span class="o">=</span><span class="n">launch_info</span><span class="o">.</span><span class="n">environment</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="engine-implementation">
<h3>Engine Implementation<a class="headerlink" href="#engine-implementation" title="Permalink to this headline">¶</a></h3>
<p>If you are writing a Toolkit software integration (an Engine), you should include logic for
how the software is being launched and how Toolkit should initialize after launch. This is
done by providing a subclass of <a class="reference internal" href="#sgtk.platform.SoftwareLauncher" title="sgtk.platform.SoftwareLauncher"><code class="xref py py-class docutils literal"><span class="pre">SoftwareLauncher</span></code></a>. This class should be
located in a <code class="docutils literal"><span class="pre">startup.py</span></code> file at the engine root level, analogous to the
<code class="docutils literal"><span class="pre">engine.py</span></code> file.</p>
<p>In addition to this, we recommend a convention where the startup scripts that launch Toolkit
once the software is running are located in a <code class="docutils literal"><span class="pre">startup</span></code> folder.</p>
<img alt="_images/engine_files.png" src="_images/engine_files.png" />
<p>Two methods should be implemented in the <code class="docutils literal"><span class="pre">startup.py</span></code> file:</p>
<ul class="simple">
<li>The <a class="reference internal" href="#sgtk.platform.SoftwareLauncher.scan_software" title="sgtk.platform.SoftwareLauncher.scan_software"><code class="xref py py-meth docutils literal"><span class="pre">SoftwareLauncher.scan_software()</span></code></a> method is responsible for discovering the executable
paths for the related software installed on the local filesystem and returns a list of
<a class="reference internal" href="#sgtk.platform.SoftwareVersion" title="sgtk.platform.SoftwareVersion"><code class="xref py py-class docutils literal"><span class="pre">SoftwareVersion</span></code></a> instances representing the executables found.</li>
<li>The <a class="reference internal" href="#sgtk.platform.SoftwareLauncher.prepare_launch" title="sgtk.platform.SoftwareLauncher.prepare_launch"><code class="xref py py-meth docutils literal"><span class="pre">SoftwareLauncher.prepare_launch()</span></code></a> method will be called before launch. It should return a
<a class="reference internal" href="#sgtk.platform.LaunchInformation" title="sgtk.platform.LaunchInformation"><code class="xref py py-class docutils literal"><span class="pre">LaunchInformation</span></code></a> instance that contains all information required to successfully launch the
DCC and startup the engine integration.</li>
</ul>
<p>A basic <code class="docutils literal"><span class="pre">startup.py</span></code> file for the Maya engine would contain the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sgtk.platform</span> <span class="kn">import</span> <span class="n">SoftwareLauncher</span><span class="p">,</span> <span class="n">SoftwareVersion</span><span class="p">,</span> <span class="n">LaunchInformation</span>

<span class="k">class</span> <span class="nc">MayaLauncher</span><span class="p">(</span><span class="n">SoftwareLauncher</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">scan_software</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Construct a list of SoftwareVersion instances</span>
        <span class="c1"># representing executable versions of the software</span>
        <span class="c1"># installed on the local filesystem. This can include</span>
        <span class="c1"># variations, icons, version numbers etc.</span>
        <span class="n">software_versions</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="o">...</span>
        <span class="k">return</span> <span class="n">software_versions</span>

    <span class="k">def</span> <span class="nf">prepare_launch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exec_path</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">file_to_open</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="c1"># Construct an environment to launch the DCC in,</span>
        <span class="c1"># confirm the correct executable path to</span>
        <span class="c1"># launch, and provide required command line args.</span>
        <span class="c1"># Return this information as a</span>
        <span class="c1"># LaunchInformation instance.</span>
        <span class="n">correct_executable_path</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">command_line_args</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">launch_environment</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># once the software has launched, execute</span>
        <span class="c1"># startup script startup/userSetup.py</span>
        <span class="n">launch_environment</span><span class="p">[</span><span class="s2">&quot;PYTHONPATH&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">disk_location</span><span class="p">,</span> <span class="s2">&quot;startup&quot;</span><span class="p">)</span>

        <span class="c1"># make sure to include some standard fields describing the current context and site</span>
        <span class="n">std_env</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_standard_plugin_environment</span><span class="p">()</span>
        <span class="n">launch_environment</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">std_env</span><span class="p">)</span>

        <span class="n">launch_information</span> <span class="o">=</span> <span class="n">LaunchInformation</span><span class="p">(</span>
            <span class="n">correct_executable_path</span><span class="p">,</span>
            <span class="n">command_line_args</span><span class="p">,</span>
            <span class="n">launch_environment</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">launch_information</span>
</pre></div>
</div>
<div class="section" id="after-software-launch">
<h4>After software launch<a class="headerlink" href="#after-software-launch" title="Permalink to this headline">¶</a></h4>
<p>Note how the <code class="docutils literal"><span class="pre">prepare_launch()</span></code> method in the example above modifies
the <code class="docutils literal"><span class="pre">PYTHONPATH</span></code>. Later on as Maya is launching, it will look for a
<code class="docutils literal"><span class="pre">userSetup.py</span></code> file in the <code class="docutils literal"><span class="pre">startup</span></code> folder. This file can then launch
the actual Toolkit integration, typically using the <a class="reference internal" href="#sgtk.bootstrap.ToolkitManager" title="sgtk.bootstrap.ToolkitManager"><code class="xref py py-class docutils literal"><span class="pre">sgtk.bootstrap.ToolkitManager</span></code></a>
interfaces.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">How to initialize and run code at startup will vary from DCC to DCC.
The supported Toolkit engines for Maya, Nuke, and Houdini are good reference implementations.</p>
</div>
<p>Also note how the example code above calls <a class="reference internal" href="#sgtk.platform.SoftwareLauncher.get_standard_plugin_environment" title="sgtk.platform.SoftwareLauncher.get_standard_plugin_environment"><code class="xref py py-meth docutils literal"><span class="pre">get_standard_plugin_environment()</span></code></a>.
This will include a set of default environment variables which can be picked up by the startup script
and initialize Toolkit with the correct site, context etc.</p>
</div>
<div class="section" id="settings-and-configuration">
<h4>Settings and configuration<a class="headerlink" href="#settings-and-configuration" title="Permalink to this headline">¶</a></h4>
<p>You can access any engine settings defined in the environment using the
<a class="reference internal" href="#sgtk.platform.SoftwareLauncher.get_setting" title="sgtk.platform.SoftwareLauncher.get_setting"><code class="xref py py-meth docutils literal"><span class="pre">SoftwareLauncher.get_setting()</span></code></a> method. This means that you can create
a configurable launcher setup, following the exact same patterns that are used
for engine settings.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you need to pass a setting into your startup script, read it in using the
<a class="reference internal" href="#sgtk.platform.SoftwareLauncher.get_setting" title="sgtk.platform.SoftwareLauncher.get_setting"><code class="xref py py-meth docutils literal"><span class="pre">get_setting()</span></code></a> during <a class="reference internal" href="#sgtk.platform.SoftwareLauncher.prepare_launch" title="sgtk.platform.SoftwareLauncher.prepare_launch"><code class="xref py py-meth docutils literal"><span class="pre">prepare_launch()</span></code></a> and
pass it as an environment variable into your startup script.</p>
</div>
</div>
</div>
<div class="section" id="software-launch-apis">
<h3>Software Launch APIs<a class="headerlink" href="#software-launch-apis" title="Permalink to this headline">¶</a></h3>
<p>This section contains the techincal documentation for the core classes and methods described in the
<a class="reference internal" href="#launching-software"><span class="std std-ref">Launching Software</span></a> section above.</p>
<dl class="function">
<dt id="sgtk.platform.create_engine_launcher">
<code class="descclassname">sgtk.platform.</code><code class="descname">create_engine_launcher</code><span class="sig-paren">(</span><em>tk</em>, <em>context</em>, <em>engine_name</em>, <em>versions=None</em>, <em>products=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/software_launcher.html#create_engine_launcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.platform.create_engine_launcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory method that creates a <a class="reference internal" href="#sgtk.platform.SoftwareLauncher" title="sgtk.platform.SoftwareLauncher"><code class="xref py py-class docutils literal"><span class="pre">SoftwareLauncher</span></code></a> subclass
instance implemented by a toolkit engine in the environment config
that can be used by a custom script or toolkit app. The engine
subclass manages the business logic for DCC executable path
discovery and the environmental requirements for launching the DCC.
Toolkit is automatically started up during the DCC&#8217;s launch phase.
A very simple example of how this works is demonstrated here:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">subprocess</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sgtk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tk</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">sgtk_from_path</span><span class="p">(</span><span class="s2">&quot;/studio/project_root&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">context</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">context_from_path</span><span class="p">(</span><span class="s2">&quot;/studio/project_root/sequences/AAA/ABC/Light/work&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">launcher</span> <span class="o">=</span> <span class="n">sgtk</span><span class="o">.</span><span class="n">platform</span><span class="o">.</span><span class="n">create_engine_launcher</span><span class="p">(</span><span class="n">tk</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="s2">&quot;tk-maya&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">software_versions</span> <span class="o">=</span> <span class="n">launcher</span><span class="o">.</span><span class="n">scan_software</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">launch_info</span> <span class="o">=</span> <span class="n">launcher</span><span class="o">.</span><span class="n">prepare_launch</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">software_versions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">path</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">args</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;/studio/project_root/sequences/AAA/ABC/Light/work/scene.ma&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="n">launch_info</span><span class="o">.</span><span class="n">path</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">launch_info</span><span class="o">.</span><span class="n">args</span><span class="p">],</span> <span class="n">env</span><span class="o">=</span><span class="n">launch_info</span><span class="o">.</span><span class="n">environment</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal"><span class="pre">software_versions</span></code> is a list of <a class="reference internal" href="#sgtk.platform.SoftwareVersion" title="sgtk.platform.SoftwareVersion"><code class="xref py py-class docutils literal"><span class="pre">SoftwareVersion</span></code></a>
instances and <code class="docutils literal"><span class="pre">launch_info</span></code> is a <a class="reference internal" href="#sgtk.platform.LaunchInformation" title="sgtk.platform.LaunchInformation"><code class="xref py py-class docutils literal"><span class="pre">LaunchInformation</span></code></a>
instance. This example will launch the first version of Maya
found installed on the local filesystem, automatically start
the tk-maya engine for that Maya session, and open
/studio/project_root/sequences/AAA/ABC/Light/work/scene.ma.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tk</strong> &#8211; <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal"><span class="pre">Sgtk</span></code></a> Toolkit instance.</li>
<li><strong>context</strong> &#8211; <a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal"><span class="pre">Context</span></code></a> Context to launch the DCC in.</li>
<li><strong>engine_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) &#8211; Name of the Toolkit engine associated with
the DCC(s) to launch.</li>
<li><strong>versions</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) &#8211; A list of version strings for filtering software
versions. See the <a class="reference internal" href="#sgtk.platform.SoftwareLauncher" title="sgtk.platform.SoftwareLauncher"><code class="xref py py-class docutils literal"><span class="pre">SoftwareLauncher</span></code></a> for more info.</li>
<li><strong>products</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) &#8211; A list of product strings for filtering software
versions. See the <a class="reference internal" href="#sgtk.platform.SoftwareLauncher" title="sgtk.platform.SoftwareLauncher"><code class="xref py py-class docutils literal"><span class="pre">SoftwareLauncher</span></code></a> for more info.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#sgtk.platform.SoftwareLauncher" title="sgtk.platform.SoftwareLauncher"><code class="xref py py-class docutils literal"><span class="pre">SoftwareLauncher</span></code></a> instance or <code class="docutils literal"><span class="pre">None</span></code> if the
engine can be found on disk, but no <code class="docutils literal"><span class="pre">startup.py</span></code> file exists.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal"><span class="pre">TankError</span></code> if the specified engine cannot be found
on disk.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="softwarelauncher">
<h4>SoftwareLauncher<a class="headerlink" href="#softwarelauncher" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="sgtk.platform.SoftwareLauncher">
<em class="property">class </em><code class="descclassname">sgtk.platform.</code><code class="descname">SoftwareLauncher</code><span class="sig-paren">(</span><em>tk</em>, <em>context</em>, <em>engine_name</em>, <em>env</em>, <em>versions=None</em>, <em>products=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/software_launcher.html#SoftwareLauncher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.platform.SoftwareLauncher" title="Permalink to this definition">¶</a></dt>
<dd><p>Functionality related to the discovery and launch of a DCC. This class
should only be constructed through the <a class="reference internal" href="#sgtk.platform.create_engine_launcher" title="sgtk.platform.create_engine_launcher"><code class="xref py py-meth docutils literal"><span class="pre">create_engine_launcher()</span></code></a>
factory method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tk</strong> &#8211; <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal"><span class="pre">Sgtk</span></code></a> Toolkit instance</li>
<li><strong>context</strong> &#8211; A <a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal"><span class="pre">Context</span></code></a> object to define the
context on disk where the engine is operating.</li>
<li><strong>engine_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) &#8211; Name of the Toolkit engine associated
with the DCC(s) to launch.</li>
<li><strong>env</strong> &#8211; An <code class="xref py py-class docutils literal"><span class="pre">Environment</span></code> object to
associate with this launcher.</li>
<li><strong>versions</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) &#8211; List of strings representing versions to search
for. If set to <code class="docutils literal"><span class="pre">None</span></code> or <code class="docutils literal"><span class="pre">[]</span></code>, search for all versions. A version string
is DCC-specific but could be something like &#8220;2017&#8221;, &#8220;6.3v7&#8221; or
&#8220;1.2.3.52&#8221;</li>
<li><strong>products</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) &#8211; List of strings representing product names to
search for. If set to <code class="docutils literal"><span class="pre">None</span></code> or <code class="docutils literal"><span class="pre">[]</span></code>, search for all products. A product
string is DCC-specific but could be something like &#8220;Houdini FX&#8221;,
&#8220;Houdini Core&#8221; or &#8220;Houdini&#8221;</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The following methods can be used by subclasses to help implement <a class="reference internal" href="#sgtk.platform.SoftwareLauncher.scan_software" title="sgtk.platform.SoftwareLauncher.scan_software"><code class="xref py py-meth docutils literal"><span class="pre">scan_software()</span></code></a>.</p>
<dl class="method">
<dt id="sgtk.platform.SoftwareLauncher._is_supported">
<code class="descname">_is_supported</code><span class="sig-paren">(</span><em>sw_version</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/software_launcher.html#SoftwareLauncher._is_supported"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.platform.SoftwareLauncher._is_supported" title="Permalink to this definition">¶</a></dt>
<dd><p>Inspects the supplied <a class="reference internal" href="#sgtk.platform.SoftwareVersion" title="sgtk.platform.SoftwareVersion"><code class="xref py py-class docutils literal"><span class="pre">SoftwareVersion</span></code></a> object to see if it
aligns with this launcher&#8217;s known product and version limitations. Will
check the <a class="reference internal" href="#sgtk.platform.SoftwareLauncher.minimum_supported_version" title="sgtk.platform.SoftwareLauncher.minimum_supported_version"><code class="xref py py-meth docutils literal"><span class="pre">minimum_supported_version()</span></code></a> as well as the list of
product and version filters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sw_version</strong> &#8211; <a class="reference internal" href="#sgtk.platform.SoftwareVersion" title="sgtk.platform.SoftwareVersion"><code class="xref py py-class docutils literal"><span class="pre">SoftwareVersion</span></code></a> object to test against the
launcher&#8217;s product and version limitations.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A tuple of the form: <code class="docutils literal"><span class="pre">(bool,</span> <span class="pre">str)</span></code> where the first item
is a boolean indicating whether the supplied <a class="reference internal" href="#sgtk.platform.SoftwareVersion" title="sgtk.platform.SoftwareVersion"><code class="xref py py-class docutils literal"><span class="pre">SoftwareVersion</span></code></a> is
supported or not. The second argument is <code class="docutils literal"><span class="pre">&quot;&quot;</span></code> if supported, but if
not supported will be a string representing the reason the support
check failed.</td>
</tr>
</tbody>
</table>
<p>This helper method can be used by subclasses in the <a class="reference internal" href="#sgtk.platform.SoftwareLauncher.scan_software" title="sgtk.platform.SoftwareLauncher.scan_software"><code class="xref py py-meth docutils literal"><span class="pre">scan_software()</span></code></a>
method.</p>
<p>The method can be overridden by subclasses that require more
sophisticated <a class="reference internal" href="#sgtk.platform.SoftwareVersion" title="sgtk.platform.SoftwareVersion"><code class="xref py py-class docutils literal"><span class="pre">SoftwareVersion</span></code></a> support checks.</p>
</dd></dl>

<dl class="method">
<dt id="sgtk.platform.SoftwareLauncher._glob_and_match">
<code class="descname">_glob_and_match</code><span class="sig-paren">(</span><em>match_template</em>, <em>template_key_expressions</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/software_launcher.html#SoftwareLauncher._glob_and_match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.platform.SoftwareLauncher._glob_and_match" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a helper method that can be invoked in an implementation of <a class="reference internal" href="#sgtk.platform.SoftwareLauncher.scan_software" title="sgtk.platform.SoftwareLauncher.scan_software"><code class="xref py py-meth docutils literal"><span class="pre">scan_software()</span></code></a>.</p>
<p>The <code class="docutils literal"><span class="pre">match_template</span></code> argument provides a template to use both for globbing files and then pattern
matching them using regular expressions provided by the <code class="docutils literal"><span class="pre">tokens_expressions</span></code> dictionary.</p>
<p>The method will first substitute every token surrounded by <code class="docutils literal"><span class="pre">{}</span></code> from the template with a <code class="docutils literal"><span class="pre">*</span></code>
for globbing files. It will then replace the tokens in the template with the regular expressions
that were provided.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">_glob_and_match</span><span class="p">(</span>
    <span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">Program Files</span><span class="se">\\</span><span class="s2">Nuke</span><span class="si">{full_version}</span><span class="se">\\</span><span class="s2">Nuke</span><span class="si">{major_minor_version}</span><span class="s2">.exe&quot;</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="s2">&quot;full_version&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;[\d.v]+&quot;</span><span class="p">,</span>
        <span class="s2">&quot;major_minor_version&quot;</span><span class="p">:</span> <span class="sa">r</span><span class="s2">&quot;[\d.]+&quot;</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The example above would look for every file matching the glob <code class="docutils literal"><span class="pre">C:\Program</span> <span class="pre">Files\softwares\Nuke*\Nuke*.exe</span></code>
and then run the regular expression <code class="docutils literal"><span class="pre">C:\\Program</span> <span class="pre">Files\\Nuke([\d.v]+)\\Nuke([\d.]+).exe</span></code>
on each match. Each match will be comprised of a path and a dictionary with they token&#8217;s value.</p>
<p>For example, if Nuke 10.0v1 was installed, the following would have been returned:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="s2">&quot;C:</span><span class="se">\\</span><span class="s2">Program Files</span><span class="se">\\</span><span class="s2">Nuke10.0v1</span><span class="se">\\</span><span class="s2">Nuke10.1.exe&quot;</span><span class="p">,</span>
  <span class="p">{</span><span class="s2">&quot;full_version&quot;</span><span class="p">:</span> <span class="s2">&quot;10.0v1&quot;</span><span class="p">,</span> <span class="s2">&quot;major_minor_version&quot;</span><span class="o">=</span><span class="s2">&quot;10.0&quot;</span><span class="p">})]</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>match_template</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) &#8211; String template that will be used both for globbing and performing
a regular expression.</li>
<li><strong>template_key_expressions</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) &#8211; Dictionary of regular expressions that can be substituted
in the template. The key should be the name of the token to substitute.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of tuples containing the path and a dictionary with each token&#8217;s value.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.platform.SoftwareLauncher.context">
<code class="descname">context</code><a class="headerlink" href="#sgtk.platform.SoftwareLauncher.context" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="core.html#sgtk.Context" title="sgtk.Context"><code class="xref py py-class docutils literal"><span class="pre">Context</span></code></a> associated with this launcher.</p>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.platform.SoftwareLauncher.sgtk">
<code class="descname">sgtk</code><a class="headerlink" href="#sgtk.platform.SoftwareLauncher.sgtk" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="core.html#sgtk.Sgtk" title="sgtk.Sgtk"><code class="xref py py-class docutils literal"><span class="pre">Sgtk</span></code></a> instance associated with this item</p>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.platform.SoftwareLauncher.disk_location">
<code class="descname">disk_location</code><a class="headerlink" href="#sgtk.platform.SoftwareLauncher.disk_location" title="Permalink to this definition">¶</a></dt>
<dd><p>The folder on disk where this item is located.
This can be useful if you want to write app code
to retrieve a local resource:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">app_font</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">disk_location</span><span class="p">,</span> <span class="s2">&quot;resources&quot;</span><span class="p">,</span> <span class="s2">&quot;font.fnt&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.platform.SoftwareLauncher.display_name">
<code class="descname">display_name</code><a class="headerlink" href="#sgtk.platform.SoftwareLauncher.display_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The display name for the item. Automatically
appends &#8216;Startup&#8217; to the end of the display
name if that string is missing from the display
name (e.g. Maya Engine Startup)</p>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.platform.SoftwareLauncher.engine_name">
<code class="descname">engine_name</code><a class="headerlink" href="#sgtk.platform.SoftwareLauncher.engine_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the toolkit engine name this launcher is based on as a <code class="docutils literal"><span class="pre">str</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.platform.SoftwareLauncher.logger">
<code class="descname">logger</code><a class="headerlink" href="#sgtk.platform.SoftwareLauncher.logger" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.Logger" title="(in Python v3.7)"><code class="xref py py-class docutils literal"><span class="pre">logging.Logger</span></code></a> for this launcher. Use this whenever you want to emit or process log messages.</p>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.platform.SoftwareLauncher.shotgun">
<code class="descname">shotgun</code><a class="headerlink" href="#sgtk.platform.SoftwareLauncher.shotgun" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-class docutils literal"><span class="pre">shotgun_api3.Shotgun</span></code> handle associated with the currently running
environment. This method is a convenience method that calls out
to <code class="xref py py-meth docutils literal"><span class="pre">shotgun()</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.platform.SoftwareLauncher.minimum_supported_version">
<code class="descname">minimum_supported_version</code><a class="headerlink" href="#sgtk.platform.SoftwareLauncher.minimum_supported_version" title="Permalink to this definition">¶</a></dt>
<dd><p>The minimum software version that is supported by the launcher.
Returned as a string, for example <cite>2015</cite> or <cite>2015.3.sp3</cite>.
Returns <code class="docutils literal"><span class="pre">None</span></code> if no constraint has been set.</p>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.platform.SoftwareLauncher.products">
<code class="descname">products</code><a class="headerlink" href="#sgtk.platform.SoftwareLauncher.products" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of product names limiting executable discovery.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">&quot;Houdini&quot;</span><span class="p">,</span> <span class="s2">&quot;Houdini Core&quot;</span><span class="p">,</span> <span class="s2">&quot;Houdini FX&quot;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.platform.SoftwareLauncher.versions">
<code class="descname">versions</code><a class="headerlink" href="#sgtk.platform.SoftwareLauncher.versions" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of versions limiting executable discovery.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">&quot;15.5.324&quot;</span><span class="p">,</span> <span class="s2">&quot;16.0.1.322&quot;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sgtk.platform.SoftwareLauncher.prepare_launch">
<code class="descname">prepare_launch</code><span class="sig-paren">(</span><em>exec_path</em>, <em>args</em>, <em>file_to_open=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/software_launcher.html#SoftwareLauncher.prepare_launch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.platform.SoftwareLauncher.prepare_launch" title="Permalink to this definition">¶</a></dt>
<dd><p>This is an abstract method that must be implemented by a subclass. The
engine implementation should prepare an environment to launch the specified
executable path in.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">By returning an executable path and args string, we allow for
a workflow where the engine launcher can rewrite the launch
sequence in arbitrary ways. For example, if a DCC has a
pre-check phase that requires input from a human, a different
executable path that launches a standalone UI which in turn
launches the specified path can be returned with the appropriate
args.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>exec_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) &#8211; Path to DCC executable to launch</li>
<li><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) &#8211; Command line arguments as strings</li>
<li><strong>file_to_open</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) &#8211; (optional) Full path name of a file to open on
launch</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#sgtk.platform.LaunchInformation" title="sgtk.platform.LaunchInformation"><code class="xref py py-class docutils literal"><span class="pre">LaunchInformation</span></code></a> instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sgtk.platform.SoftwareLauncher.get_setting">
<code class="descname">get_setting</code><span class="sig-paren">(</span><em>key</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/software_launcher.html#SoftwareLauncher.get_setting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.platform.SoftwareLauncher.get_setting" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a value from the item&#8217;s settings:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">app</span><span class="o">.</span><span class="n">get_setting</span><span class="p">(</span><span class="s1">&#39;entity_types&#39;</span><span class="p">)</span>
<span class="go">[&#39;Sequence&#39;, &#39;Shot&#39;, &#39;Asset&#39;, &#39;Task&#39;]</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>key</strong> &#8211; config name</li>
<li><strong>default</strong> &#8211; default value to return</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Value from the environment configuration</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sgtk.platform.SoftwareLauncher.get_standard_plugin_environment">
<code class="descname">get_standard_plugin_environment</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/software_launcher.html#SoftwareLauncher.get_standard_plugin_environment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.platform.SoftwareLauncher.get_standard_plugin_environment" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a standard plugin environment, suitable for
plugins to utilize. This will compute the following
environment variables:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">SHOTGUN_SITE</span></code>: Derived from the Toolkit instance&#8217;s site url</li>
<li><code class="docutils literal"><span class="pre">SHOTGUN_ENTITY_TYPE</span></code>: Derived from the current context</li>
<li><code class="docutils literal"><span class="pre">SHOTGUN_ENTITY_ID</span></code>: Derived from the current context</li>
<li><code class="docutils literal"><span class="pre">SHOTGUN_PIPELINE_CONFIGURATION_ID</span></code>: Derived from the current pipeline config id</li>
<li><code class="docutils literal"><span class="pre">SHOTGUN_BUNDLE_CACHE_FALLBACK_PATHS</span></code>: Derived from the curent pipeline configuration&#8217;s list of bundle cache fallback paths.</li>
</ul>
<p>These environment variables are set when launching a new process to capture the state of
Toolkit so we can launch in the same environment. It ensures subprocesses have access to the
same bundle caches, which allows to reuse already cached bundles.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary of environment variables.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="sgtk.platform.SoftwareLauncher.scan_software">
<code class="descname">scan_software</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/software_launcher.html#SoftwareLauncher.scan_software"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.platform.SoftwareLauncher.scan_software" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs a search for supported software installations.</p>
<p>Typical implementations will use functionality such as <a class="reference internal" href="#sgtk.platform.SoftwareLauncher._glob_and_match" title="sgtk.platform.SoftwareLauncher._glob_and_match"><code class="xref py py-meth docutils literal"><span class="pre">_glob_and_match()</span></code></a>
or <code class="xref py py-meth docutils literal"><span class="pre">glob.glob()</span></code> to locate all versions and variations of executables on disk
and then create <a class="reference internal" href="#sgtk.platform.SoftwareVersion" title="sgtk.platform.SoftwareVersion"><code class="xref py py-class docutils literal"><span class="pre">SoftwareVersion</span></code></a> objects for each executable and check against the launcher&#8217;s
lists of supported version and product variations via the <a class="reference internal" href="#sgtk.platform.SoftwareLauncher._is_supported" title="sgtk.platform.SoftwareLauncher._is_supported"><code class="xref py py-meth docutils literal"><span class="pre">_is_supported()</span></code></a> method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of <a class="reference internal" href="#sgtk.platform.SoftwareVersion" title="sgtk.platform.SoftwareVersion"><code class="xref py py-class docutils literal"><span class="pre">SoftwareVersion</span></code></a> supported by this launcher.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)">list</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="softwareversion">
<h4>SoftwareVersion<a class="headerlink" href="#softwareversion" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="sgtk.platform.SoftwareVersion">
<em class="property">class </em><code class="descclassname">sgtk.platform.</code><code class="descname">SoftwareVersion</code><span class="sig-paren">(</span><em>version</em>, <em>product</em>, <em>path</em>, <em>icon=None</em>, <em>args=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/software_launcher.html#SoftwareVersion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.platform.SoftwareVersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Container class that stores properties of a DCC that
are useful for Toolkit Engine Startup functionality.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>version</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) &#8211; Explicit version of the DCC represented
(e.g. 2017)</li>
<li><strong>product</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) &#8211; Explicit product name of the DCC represented
(e.g. &#8220;Houdini Apprentice&#8221;)</li>
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) &#8211; Full path to the DCC executable.</li>
<li><strong>icon</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) &#8211; (optional) Full path to a 256x256 (or smaller)
<code class="docutils literal"><span class="pre">png</span></code> file to use for graphical displays of
this <a class="reference internal" href="#sgtk.platform.SoftwareVersion" title="sgtk.platform.SoftwareVersion"><code class="xref py py-class docutils literal"><span class="pre">SoftwareVersion</span></code></a>.</li>
<li><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.7)"><em>list</em></a>) &#8211; (optional) List of command line arguments
that need to be passed down to the DCC.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="sgtk.platform.SoftwareVersion.version">
<code class="descname">version</code><a class="headerlink" href="#sgtk.platform.SoftwareVersion.version" title="Permalink to this definition">¶</a></dt>
<dd><p>An explicit version of the DCC represented by this :class`SoftwareVersion`.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String version</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.platform.SoftwareVersion.product">
<code class="descname">product</code><a class="headerlink" href="#sgtk.platform.SoftwareVersion.product" title="Permalink to this definition">¶</a></dt>
<dd><p>An explicit product name for the DCC represented by this
:class`SoftwareVersion`. Example: &#8220;Houdini FX&#8221;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String product name</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.platform.SoftwareVersion.display_name">
<code class="descname">display_name</code><a class="headerlink" href="#sgtk.platform.SoftwareVersion.display_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name to use for this :class`SoftwareVersion` in graphical displays.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String display name, a combination of the product and version.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.platform.SoftwareVersion.path">
<code class="descname">path</code><a class="headerlink" href="#sgtk.platform.SoftwareVersion.path" title="Permalink to this definition">¶</a></dt>
<dd><p>Specified path to the DCC executable. May be relative.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String path</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.platform.SoftwareVersion.icon">
<code class="descname">icon</code><a class="headerlink" href="#sgtk.platform.SoftwareVersion.icon" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to the icon to use for graphical displays of this
<a class="reference internal" href="#sgtk.platform.SoftwareVersion" title="sgtk.platform.SoftwareVersion"><code class="xref py py-class docutils literal"><span class="pre">SoftwareVersion</span></code></a>. Expected to be a 256x256 (or smaller)
<cite>png</cite> file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String path</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.platform.SoftwareVersion.args">
<code class="descname">args</code><a class="headerlink" href="#sgtk.platform.SoftwareVersion.args" title="Permalink to this definition">¶</a></dt>
<dd><p>Command line arguments required to launch the DCC.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">List of string arguments.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="launchinformation">
<h4>LaunchInformation<a class="headerlink" href="#launchinformation" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="sgtk.platform.LaunchInformation">
<em class="property">class </em><code class="descclassname">sgtk.platform.</code><code class="descname">LaunchInformation</code><span class="sig-paren">(</span><em>path=None</em>, <em>args=None</em>, <em>environ=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/tank/platform/software_launcher.html#LaunchInformation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#sgtk.platform.LaunchInformation" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores blueprints for how to launch a specific DCC which includes
required environment variables, the executable path, and command
line arguments to pass when launching the DCC. For example, given
a LaunchInformation instance <code class="docutils literal"><span class="pre">launch_info</span></code>, open a DCC using
<code class="docutils literal"><span class="pre">subprocess</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">launch_cmd</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">launch_info</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">launch_info</span><span class="o">.</span><span class="n">args</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">([</span><span class="n">launch_cmd</span><span class="p">],</span> <span class="n">env</span><span class="o">=</span><span class="n">launch_info</span><span class="o">.</span><span class="n">environment</span><span class="p">)</span>
</pre></div>
</div>
<p>A LaunchInformation instance is generally obtained from an engine&#8217;s
subclass implementation of <code class="xref py py-meth docutils literal"><span class="pre">SoftwareLauncher.prepare_launch`()</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) &#8211; Resolved path to DCC</li>
<li><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.7)"><em>str</em></a>) &#8211; Args to pass on the command line
when launching the DCC</li>
<li><strong>environ</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.7)"><em>dict</em></a>) &#8211; Environment variables that
must be set to successfully
launch the DCC.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="sgtk.platform.LaunchInformation.path">
<code class="descname">path</code><a class="headerlink" href="#sgtk.platform.LaunchInformation.path" title="Permalink to this definition">¶</a></dt>
<dd><p>The DCC path to launch</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String path</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.platform.LaunchInformation.args">
<code class="descname">args</code><a class="headerlink" href="#sgtk.platform.LaunchInformation.args" title="Permalink to this definition">¶</a></dt>
<dd><p>Arguments to pass to the DCC on launch</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">String args</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="sgtk.platform.LaunchInformation.environment">
<code class="descname">environment</code><a class="headerlink" href="#sgtk.platform.LaunchInformation.environment" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of environment variables to set before
launching DCC.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dict {env_var: value}</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="core.html" class="btn btn-neutral float-right" title="Core" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="overview.html" class="btn btn-neutral" title="Overview" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Autodesk.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'v0.18.152',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-2114792-1', 'auto');
  ga('send', 'pageview');
</script>



</body>
</html>